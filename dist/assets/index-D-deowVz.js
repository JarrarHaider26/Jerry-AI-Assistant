(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function zh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tu={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function j0(){if(em)return vl;em=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:c}}return vl.Fragment=t,vl.jsx=o,vl.jsxs=o,vl}var tm;function ev(){return tm||(tm=1,Tu.exports=j0()),Tu.exports}var C=ev(),Eu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function tv(){if(nm)return he;nm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,q={};function z(x,w,U){this.props=x,this.context=w,this.refs=q,this.updater=U||b}z.prototype.isReactComponent={},z.prototype.setState=function(x,w){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,w,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function B(){}B.prototype=z.prototype;function K(x,w,U){this.props=x,this.context=w,this.refs=q,this.updater=U||b}var W=K.prototype=new B;W.constructor=K,P(W,z.prototype),W.isPureReactComponent=!0;var F=Array.isArray;function ae(){}var Q={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function Z(x,w,U){var $=U.ref;return{$$typeof:i,type:x,key:w,ref:$!==void 0?$:null,props:U}}function ge(x,w){return Z(x.type,w,x.props)}function Ce(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function Ie(x){var w={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(U){return w[U]})}var Oe=/\/+/g;function qe(x,w){return typeof x=="object"&&x!==null&&x.key!=null?Ie(""+x.key):w.toString(36)}function rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ae,ae):(x.status="pending",x.then(function(w){x.status==="pending"&&(x.status="fulfilled",x.value=w)},function(w){x.status==="pending"&&(x.status="rejected",x.reason=w)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function M(x,w,U,$,oe){var ue=typeof x;(ue==="undefined"||ue==="boolean")&&(x=null);var fe=!1;if(x===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(x.$$typeof){case i:case t:fe=!0;break;case v:return fe=x._init,M(fe(x._payload),w,U,$,oe)}}if(fe)return oe=oe(x),fe=$===""?"."+qe(x,0):$,F(oe)?(U="",fe!=null&&(U=fe.replace(Oe,"$&/")+"/"),M(oe,w,U,"",function(Ee){return Ee})):oe!=null&&(Ce(oe)&&(oe=ge(oe,U+(oe.key==null||x&&x.key===oe.key?"":(""+oe.key).replace(Oe,"$&/")+"/")+fe)),w.push(oe)),1;fe=0;var de=$===""?".":$+":";if(F(x))for(var _e=0;_e<x.length;_e++)$=x[_e],ue=de+qe($,_e),fe+=M($,w,U,ue,oe);else if(_e=R(x),typeof _e=="function")for(x=_e.call(x),_e=0;!($=x.next()).done;)$=$.value,ue=de+qe($,_e++),fe+=M($,w,U,ue,oe);else if(ue==="object"){if(typeof x.then=="function")return M(rt(x),w,U,$,oe);throw w=String(x),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return fe}function X(x,w,U){if(x==null)return x;var $=[],oe=0;return M(x,$,"","",function(ue){return w.call(U,ue,oe++)}),$}function ie(x){if(x._status===-1){var w=x._result;w=w(),w.then(function(U){(x._status===0||x._status===-1)&&(x._status=1,x._result=U)},function(U){(x._status===0||x._status===-1)&&(x._status=2,x._result=U)}),x._status===-1&&(x._status=0,x._result=w)}if(x._status===1)return x._result.default;throw x._result}var xe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Le={map:X,forEach:function(x,w,U){X(x,function(){w.apply(this,arguments)},U)},count:function(x){var w=0;return X(x,function(){w++}),w},toArray:function(x){return X(x,function(w){return w})||[]},only:function(x){if(!Ce(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return he.Activity=S,he.Children=Le,he.Component=z,he.Fragment=o,he.Profiler=r,he.PureComponent=K,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,he.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Q.H.useMemoCache(x)}},he.cache=function(x){return function(){return x.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(x,w,U){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=P({},x.props),oe=x.key;if(w!=null)for(ue in w.key!==void 0&&(oe=""+w.key),w)!re.call(w,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&w.ref===void 0||($[ue]=w[ue]);var ue=arguments.length-2;if(ue===1)$.children=U;else if(1<ue){for(var fe=Array(ue),de=0;de<ue;de++)fe[de]=arguments[de+2];$.children=fe}return Z(x.type,oe,$)},he.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},he.createElement=function(x,w,U){var $,oe={},ue=null;if(w!=null)for($ in w.key!==void 0&&(ue=""+w.key),w)re.call(w,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(oe[$]=w[$]);var fe=arguments.length-2;if(fe===1)oe.children=U;else if(1<fe){for(var de=Array(fe),_e=0;_e<fe;_e++)de[_e]=arguments[_e+2];oe.children=de}if(x&&x.defaultProps)for($ in fe=x.defaultProps,fe)oe[$]===void 0&&(oe[$]=fe[$]);return Z(x,ue,oe)},he.createRef=function(){return{current:null}},he.forwardRef=function(x){return{$$typeof:g,render:x}},he.isValidElement=Ce,he.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ie}},he.memo=function(x,w){return{$$typeof:h,type:x,compare:w===void 0?null:w}},he.startTransition=function(x){var w=Q.T,U={};Q.T=U;try{var $=x(),oe=Q.S;oe!==null&&oe(U,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ae,xe)}catch(ue){xe(ue)}finally{w!==null&&U.types!==null&&(w.types=U.types),Q.T=w}},he.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},he.use=function(x){return Q.H.use(x)},he.useActionState=function(x,w,U){return Q.H.useActionState(x,w,U)},he.useCallback=function(x,w){return Q.H.useCallback(x,w)},he.useContext=function(x){return Q.H.useContext(x)},he.useDebugValue=function(){},he.useDeferredValue=function(x,w){return Q.H.useDeferredValue(x,w)},he.useEffect=function(x,w){return Q.H.useEffect(x,w)},he.useEffectEvent=function(x){return Q.H.useEffectEvent(x)},he.useId=function(){return Q.H.useId()},he.useImperativeHandle=function(x,w,U){return Q.H.useImperativeHandle(x,w,U)},he.useInsertionEffect=function(x,w){return Q.H.useInsertionEffect(x,w)},he.useLayoutEffect=function(x,w){return Q.H.useLayoutEffect(x,w)},he.useMemo=function(x,w){return Q.H.useMemo(x,w)},he.useOptimistic=function(x,w){return Q.H.useOptimistic(x,w)},he.useReducer=function(x,w,U){return Q.H.useReducer(x,w,U)},he.useRef=function(x){return Q.H.useRef(x)},he.useState=function(x){return Q.H.useState(x)},he.useSyncExternalStore=function(x,w,U){return Q.H.useSyncExternalStore(x,w,U)},he.useTransition=function(){return Q.H.useTransition()},he.version="19.2.4",he}var im;function Yu(){return im||(im=1,Eu.exports=tv()),Eu.exports}var Te=Yu();const nv=zh(Te);var Cu={exports:{}},_l={},Au={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function iv(){return om||(om=1,(function(i){function t(M,X){var ie=M.length;M.push(X);e:for(;0<ie;){var xe=ie-1>>>1,Le=M[xe];if(0<r(Le,X))M[xe]=X,M[ie]=Le,ie=xe;else break e}}function o(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var X=M[0],ie=M.pop();if(ie!==X){M[0]=ie;e:for(var xe=0,Le=M.length,x=Le>>>1;xe<x;){var w=2*(xe+1)-1,U=M[w],$=w+1,oe=M[$];if(0>r(U,ie))$<Le&&0>r(oe,U)?(M[xe]=oe,M[$]=ie,xe=$):(M[xe]=U,M[w]=ie,xe=w);else if($<Le&&0>r(oe,ie))M[xe]=oe,M[$]=ie,xe=$;else break e}}return X}function r(M,X){var ie=M.sortIndex-X.sortIndex;return ie!==0?ie:M.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,S=null,T=3,R=!1,b=!1,P=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function W(M){for(var X=o(h);X!==null;){if(X.callback===null)a(h);else if(X.startTime<=M)a(h),X.sortIndex=X.expirationTime,t(y,X);else break;X=o(h)}}function F(M){if(P=!1,W(M),!b)if(o(y)!==null)b=!0,ae||(ae=!0,Ie());else{var X=o(h);X!==null&&rt(F,X.startTime-M)}}var ae=!1,Q=-1,re=5,Z=-1;function ge(){return q?!0:!(i.unstable_now()-Z<re)}function Ce(){if(q=!1,ae){var M=i.unstable_now();Z=M;var X=!0;try{e:{b=!1,P&&(P=!1,B(Q),Q=-1),R=!0;var ie=T;try{t:{for(W(M),S=o(y);S!==null&&!(S.expirationTime>M&&ge());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,T=S.priorityLevel;var Le=xe(S.expirationTime<=M);if(M=i.unstable_now(),typeof Le=="function"){S.callback=Le,W(M),X=!0;break t}S===o(y)&&a(y),W(M)}else a(y);S=o(y)}if(S!==null)X=!0;else{var x=o(h);x!==null&&rt(F,x.startTime-M),X=!1}}break e}finally{S=null,T=ie,R=!1}X=void 0}}finally{X?Ie():ae=!1}}}var Ie;if(typeof K=="function")Ie=function(){K(Ce)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,qe=Oe.port2;Oe.port1.onmessage=Ce,Ie=function(){qe.postMessage(null)}}else Ie=function(){z(Ce,0)};function rt(M,X){Q=z(function(){M(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(M){switch(T){case 1:case 2:case 3:var X=3;break;default:X=T}var ie=T;T=X;try{return M()}finally{T=ie}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=T;T=M;try{return X()}finally{T=ie}},i.unstable_scheduleCallback=function(M,X,ie){var xe=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,M){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ie+Le,M={id:v++,callback:X,priorityLevel:M,startTime:ie,expirationTime:Le,sortIndex:-1},ie>xe?(M.sortIndex=ie,t(h,M),o(y)===null&&M===o(h)&&(P?(B(Q),Q=-1):P=!0,rt(F,ie-xe))):(M.sortIndex=Le,t(y,M),b||R||(b=!0,ae||(ae=!0,Ie()))),M},i.unstable_shouldYield=ge,i.unstable_wrapCallback=function(M){var X=T;return function(){var ie=T;T=X;try{return M.apply(this,arguments)}finally{T=ie}}}})(Ru)),Ru}var lm;function ov(){return lm||(lm=1,Au.exports=iv()),Au.exports}var wu={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function lv(){if(am)return Rt;am=1;var i=Yu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,v)},Rt.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},Rt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},Rt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Rt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:R}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:T,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},Rt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},Rt.requestFormReset=function(y){a.d.r(y)},Rt.unstable_batchedUpdates=function(y,h){return y(h)},Rt.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},Rt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Rt.version="19.2.4",Rt}var sm;function av(){if(sm)return wu.exports;sm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wu.exports=lv(),wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function sv(){if(rm)return _l;rm=1;var i=ov(),t=Yu(),o=av();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var _=!1,E=d.child;E;){if(E===l){_=!0,l=d,s=m;break}if(E===s){_=!0,s=d,l=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===l){_=!0,l=m,s=d;break}if(E===s){_=!0,s=m,l=d;break}E=E.sibling}if(!_)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case z:return"Profiler";case q:return"StrictMode";case F:return"Suspense";case ae:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case K:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case W:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:qe(e.type)||"Memo";case re:n=e._payload,e=e._init;try{return qe(e(n))}catch{}}return null}var rt=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],Le=-1;function x(e){return{current:e}}function w(e){0>Le||(e.current=xe[Le],xe[Le]=null,Le--)}function U(e,n){Le++,xe[Le]=e.current,e.current=n}var $=x(null),oe=x(null),ue=x(null),fe=x(null);function de(e,n){switch(U(ue,n),U(oe,e),U($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cp(n),e=Ap(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}w($),U($,e)}function _e(){w($),w(oe),w(ue)}function Ee(e){e.memoizedState!==null&&U(fe,e);var n=$.current,l=Ap(n,e.type);n!==l&&(U(oe,e),U($,l))}function Pe(e){oe.current===e&&(w($),w(oe)),fe.current===e&&(w(fe),ml._currentValue=ie)}var Ot,ye;function Ye(e){if(Ot===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ot=n&&n[1]||"",ye=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+e+ye}var He=!1;function Ve(e,n){if(!e||He)return"";He=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(O){var L=O}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(O){L=O}e.call(Y.prototype)}}else{try{throw Error()}catch(O){L=O}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(O){if(O&&L&&typeof O.stack=="string")return[O.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var A=_.split(`
`),k=E.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<k.length&&!k[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===k.length)for(s=A.length-1,d=k.length-1;1<=s&&0<=d&&A[s]!==k[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==k[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==k[d]){var H=`
`+A[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=d);break}}}finally{He=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ye(l):""}function ht(e,n){switch(e.tag){case 26:case 27:case 5:return Ye(e.type);case 16:return Ye("Lazy");case 13:return e.child!==n&&n!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return Ve(e.type,!1);case 11:return Ve(e.type.render,!1);case 1:return Ve(e.type,!0);case 31:return Ye("Activity");default:return""}}function Qe(e){try{var n="",l=null;do n+=ht(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var nt=Object.prototype.hasOwnProperty,ut=i.unstable_scheduleCallback,G=i.unstable_cancelCallback,ee=i.unstable_shouldYield,te=i.unstable_requestPaint,se=i.unstable_now,Me=i.unstable_getCurrentPriorityLevel,je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,gt=i.unstable_NormalPriority,wo=i.unstable_LowPriority,gn=i.unstable_IdlePriority,ss=i.log,rs=i.unstable_setDisableYieldValue,Je=null,qt=null;function qn(e){if(typeof ss=="function"&&rs(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Je,e)}catch{}}var Pt=Math.clz32?Math.clz32:Pg,Og=Math.log,qg=Math.LN2;function Pg(e){return e>>>=0,e===0?32:31-(Og(e)/qg|0)|0}var Rl=256,wl=262144,Nl=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~m,s!==0?d=ci(s):(_&=E,_!==0?d=ci(_):l||(l=E&~e,l!==0&&(d=ci(l))))):(E=s&~m,E!==0?d=ci(E):_!==0?d=ci(_):l||(l=s&~e,l!==0&&(d=ci(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function No(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var e=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),e}function us(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function xo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vg(e,n,l,s,d,m){var _=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,k=e.hiddenUpdates;for(l=_&~l;0<l;){var H=31-Pt(l),Y=1<<H;E[H]=0,A[H]=-1;var L=k[H];if(L!==null)for(k[H]=null,H=0;H<L.length;H++){var O=L[H];O!==null&&(O.lane&=-536870913)}l&=~Y}s!==0&&oc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(_&~n))}function oc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Pt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function lc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Pt(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function ac(e,n){var l=n&-n;return l=(l&42)!==0?1:cs(l),(l&(e.suspendedLanes|n))!==0?0:l}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sc(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Kp(e.type))}function rc(e,n){var l=X.p;try{return X.p=e,n()}finally{X.p=l}}var Pn=Math.random().toString(36).slice(2),St="__reactFiber$"+Pn,Mt="__reactProps$"+Pn,Mi="__reactContainer$"+Pn,ds="__reactEvents$"+Pn,Bg="__reactListeners$"+Pn,zg="__reactHandles$"+Pn,uc="__reactResources$"+Pn,bo="__reactMarker$"+Pn;function ps(e){delete e[St],delete e[Mt],delete e[ds],delete e[Bg],delete e[zg]}function Ii(e){var n=e[St];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Mi]||l[St]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ip(e);e!==null;){if(l=e[St])return l;e=Ip(e)}return n}e=l,l=e.parentNode}return null}function Di(e){if(e=e[St]||e[Mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Mo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ui(e){var n=e[uc];return n||(n=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[bo]=!0}var cc=new Set,fc={};function fi(e,n){ki(e,n),ki(e+"Capture",n)}function ki(e,n){for(fc[e]=n,e=0;e<n.length;e++)cc.add(n[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dc={},pc={};function Yg(e){return nt.call(pc,e)?!0:nt.call(dc,e)?!1:Fg.test(e)?pc[e]=!0:(dc[e]=!0,!1)}function bl(e,n,l){if(Yg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Ml(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function yn(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jg(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ms(e){if(!e._valueTracker){var n=mc(e)?"checked":"value";e._valueTracker=Jg(e,n,""+e[n])}}function hc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=mc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function Il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kg=/[\n"\\]/g;function $t(e){return e.replace(Kg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hs(e,n,l,s,d,m,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?gs(e,_,Kt(n)):l!=null?gs(e,_,Kt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Kt(E):e.removeAttribute("name")}function gc(e,n,l,s,d,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ms(e);return}l=l!=null?""+Kt(l):"",n=n!=null?""+Kt(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ms(e)}function gs(e,n,l){n==="number"&&Il(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Li(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Kt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function yc(e,n,l){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Kt(l):""}function vc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(rt(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Kt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ms(e)}function Gi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var $g=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||$g.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Sc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&_c(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&_c(e,m,n[m])}function ys(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(e){return Qg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vn(){}var vs=null;function _s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,qi=null;function Tc(e){var n=Di(e);if(n&&(e=n.stateNode)){var l=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(hs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[Mt]||null;if(!d)throw Error(a(90));hs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&hc(s)}break e;case"textarea":yc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Li(e,!!l.multiple,n,!1)}}}var Ss=!1;function Ec(e,n,l){if(Ss)return e(n,l);Ss=!0;try{var s=e(n);return s}finally{if(Ss=!1,(Oi!==null||qi!==null)&&(_a(),Oi&&(n=Oi,e=qi,qi=Oi=null,Tc(n),e)))for(n=0;n<e.length;n++)Tc(e[n])}}function Io(e,n){var l=e.stateNode;if(l===null)return null;var s=l[Mt]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(_n)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Ts=!1}var Hn=null,Es=null,Ul=null;function Cc(){if(Ul)return Ul;var e,n=Es,l=n.length,s,d="value"in Hn?Hn.value:Hn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var _=l-e;for(s=1;s<=_&&n[l-s]===d[m-s];s++);return Ul=d.slice(e,1<s?1-s:void 0)}function kl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function Ac(){return!1}function It(e){function n(l,s,d,m,_){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ll:Ac,this.isPropagationStopped=Ac,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),n}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=It(di),Uo=S({},di,{view:0,detail:0}),Wg=It(Uo),Cs,As,ko,Ol=S({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Cs=e.screenX-ko.screenX,As=e.screenY-ko.screenY):As=Cs=0,ko=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:As}}),Rc=It(Ol),Zg=S({},Ol,{dataTransfer:0}),jg=It(Zg),ey=S({},Uo,{relatedTarget:0}),Rs=It(ey),ty=S({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=It(ty),iy=S({},di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oy=It(iy),ly=S({},di,{data:0}),wc=It(ly),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ry[e])?!!n[e]:!1}function ws(){return uy}var cy=S({},Uo,{key:function(e){if(e.key){var n=ay[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=It(cy),dy=S({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=It(dy),py=S({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),my=It(py),hy=S({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=It(hy),yy=S({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vy=It(yy),_y=S({},di,{newState:0,oldState:0}),Sy=It(_y),Ty=[9,13,27,32],Ns=_n&&"CompositionEvent"in window,Lo=null;_n&&"documentMode"in document&&(Lo=document.documentMode);var Ey=_n&&"TextEvent"in window&&!Lo,xc=_n&&(!Ns||Lo&&8<Lo&&11>=Lo),bc=" ",Mc=!1;function Ic(e,n){switch(e){case"keyup":return Ty.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function Cy(e,n){switch(e){case"compositionend":return Dc(n);case"keypress":return n.which!==32?null:(Mc=!0,bc);case"textInput":return e=n.data,e===bc&&Mc?null:e;default:return null}}function Ay(e,n){if(Pi)return e==="compositionend"||!Ns&&Ic(e,n)?(e=Cc(),Ul=Es=Hn=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ry[e.type]:n==="textarea"}function kc(e,n,l,s){Oi?qi?qi.push(s):qi=[s]:Oi=s,n=wa(n,"onChange"),0<n.length&&(l=new Gl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Go=null,Oo=null;function wy(e){yp(e,0)}function ql(e){var n=Mo(e);if(hc(n))return e}function Lc(e,n){if(e==="change")return n}var Gc=!1;if(_n){var xs;if(_n){var bs="oninput"in document;if(!bs){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),bs=typeof Oc.oninput=="function"}xs=bs}else xs=!1;Gc=xs&&(!document.documentMode||9<document.documentMode)}function qc(){Go&&(Go.detachEvent("onpropertychange",Pc),Oo=Go=null)}function Pc(e){if(e.propertyName==="value"&&ql(Oo)){var n=[];kc(n,Oo,e,_s(e)),Ec(wy,n)}}function Ny(e,n,l){e==="focusin"?(qc(),Go=n,Oo=l,Go.attachEvent("onpropertychange",Pc)):e==="focusout"&&qc()}function xy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(Oo)}function by(e,n){if(e==="click")return ql(n)}function My(e,n){if(e==="input"||e==="change")return ql(n)}function Iy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ht=typeof Object.is=="function"?Object.is:Iy;function qo(e,n){if(Ht(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!nt.call(n,d)||!Ht(e[d],n[d]))return!1}return!0}function Hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vc(e,n){var l=Hc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hc(l)}}function Bc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Il(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Il(e.document)}return n}function Ms(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Dy=_n&&"documentMode"in document&&11>=document.documentMode,Hi=null,Is=null,Po=null,Ds=!1;function Fc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ds||Hi==null||Hi!==Il(s)||(s=Hi,"selectionStart"in s&&Ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Po&&qo(Po,s)||(Po=s,s=wa(Is,"onSelect"),0<s.length&&(n=new Gl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Hi)))}function pi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Vi={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},Us={},Yc={};_n&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function mi(e){if(Us[e])return Us[e];if(!Vi[e])return e;var n=Vi[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Yc)return Us[e]=n[l];return e}var Jc=mi("animationend"),Kc=mi("animationiteration"),$c=mi("animationstart"),Uy=mi("transitionrun"),ky=mi("transitionstart"),Ly=mi("transitioncancel"),Xc=mi("transitionend"),Qc=new Map,ks="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ks.push("scrollEnd");function an(e,n){Qc.set(e,n),fi(n,[e])}var Pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],Bi=0,Ls=0;function Hl(){for(var e=Bi,n=Ls=Bi=0;n<e;){var l=Xt[n];Xt[n++]=null;var s=Xt[n];Xt[n++]=null;var d=Xt[n];Xt[n++]=null;var m=Xt[n];if(Xt[n++]=null,s!==null&&d!==null){var _=s.pending;_===null?d.next=d:(d.next=_.next,_.next=d),s.pending=d}m!==0&&Wc(l,d,m)}}function Vl(e,n,l,s){Xt[Bi++]=e,Xt[Bi++]=n,Xt[Bi++]=l,Xt[Bi++]=s,Ls|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Gs(e,n,l,s){return Vl(e,n,l,s),Bl(e)}function hi(e,n){return Vl(e,null,null,n),Bl(e)}function Wc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Pt(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Bl(e){if(50<sl)throw sl=0,Yr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var zi={};function Gy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,n,l,s){return new Gy(e,n,l,s)}function Os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sn(e,n){var l=e.alternate;return l===null?(l=Vt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Zc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function zl(e,n,l,s,d,m){var _=0;if(s=e,typeof e=="function")Os(e)&&(_=1);else if(typeof e=="string")_=V0(e,l,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Vt(31,l,n,d),e.elementType=Z,e.lanes=m,e;case P:return gi(l.children,d,m,n);case q:_=8,d|=24;break;case z:return e=Vt(12,l,n,d|2),e.elementType=z,e.lanes=m,e;case F:return e=Vt(13,l,n,d),e.elementType=F,e.lanes=m,e;case ae:return e=Vt(19,l,n,d),e.elementType=ae,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:_=10;break e;case B:_=9;break e;case W:_=11;break e;case Q:_=14;break e;case re:_=16,s=null;break e}_=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Vt(_,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function gi(e,n,l,s){return e=Vt(7,e,s,n),e.lanes=l,e}function qs(e,n,l){return e=Vt(6,e,null,n),e.lanes=l,e}function jc(e){var n=Vt(18,null,null,0);return n.stateNode=e,n}function Ps(e,n,l){return n=Vt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ef=new WeakMap;function Qt(e,n){if(typeof e=="object"&&e!==null){var l=ef.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Qe(n)},ef.set(e,n),n)}return{value:e,source:n,stack:Qe(n)}}var Fi=[],Yi=0,Fl=null,Ho=0,Wt=[],Zt=0,Vn=null,dn=1,pn="";function Tn(e,n){Fi[Yi++]=Ho,Fi[Yi++]=Fl,Fl=e,Ho=n}function tf(e,n,l){Wt[Zt++]=dn,Wt[Zt++]=pn,Wt[Zt++]=Vn,Vn=e;var s=dn;e=pn;var d=32-Pt(s)-1;s&=~(1<<d),l+=1;var m=32-Pt(n)+d;if(30<m){var _=d-d%5;m=(s&(1<<_)-1).toString(32),s>>=_,d-=_,dn=1<<32-Pt(n)+d|l<<d|s,pn=m+e}else dn=1<<m|l<<d|s,pn=e}function Hs(e){e.return!==null&&(Tn(e,1),tf(e,1,0))}function Vs(e){for(;e===Fl;)Fl=Fi[--Yi],Fi[Yi]=null,Ho=Fi[--Yi],Fi[Yi]=null;for(;e===Vn;)Vn=Wt[--Zt],Wt[Zt]=null,pn=Wt[--Zt],Wt[Zt]=null,dn=Wt[--Zt],Wt[Zt]=null}function nf(e,n){Wt[Zt++]=dn,Wt[Zt++]=pn,Wt[Zt++]=Vn,dn=n.id,pn=n.overflow,Vn=e}var Tt=null,et=null,be=!1,Bn=null,jt=!1,Bs=Error(a(519));function zn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Qt(n,e)),Bs}function of(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[St]=e,n[Mt]=s,l){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(l=0;l<ul.length;l++)Re(ul[l],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),gc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),vc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||Tp(n.textContent,l)?(s.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),s.onScroll!=null&&Re("scroll",n),s.onScrollEnd!=null&&Re("scrollend",n),s.onClick!=null&&(n.onclick=vn),n=!0):n=!1,n||zn(e,!0)}function lf(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Tt=Tt.return}}function Ji(e){if(e!==Tt)return!1;if(!be)return lf(e),be=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||au(e.type,e.memoizedProps)),l=!l),l&&et&&zn(e),lf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));et=Mp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));et=Mp(e)}else n===27?(n=et,ii(e.type)?(e=fu,fu=null,et=e):et=n):et=Tt?tn(e.stateNode.nextSibling):null;return!0}function yi(){et=Tt=null,be=!1}function zs(){var e=Bn;return e!==null&&(Lt===null?Lt=e:Lt.push.apply(Lt,e),Bn=null),e}function Vo(e){Bn===null?Bn=[e]:Bn.push(e)}var Fs=x(null),vi=null,En=null;function Fn(e,n,l){U(Fs,n._currentValue),n._currentValue=l}function Cn(e){e._currentValue=Fs.current,w(Fs)}function Ys(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Js(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var A=0;A<n.length;A++)if(E.context===n[A]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),Ys(m.return,l,e),s||(_=null);break e}m=E.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(a(341));_.lanes|=l,m=_.alternate,m!==null&&(m.lanes|=l),Ys(_,l,e),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===e){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Ki(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=d.type;Ht(d.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(d===fe.current){if(_=d.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}d=d.return}e!==null&&Js(n,e,l,s),n.flags|=262144}function Yl(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){vi=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return af(vi,e)}function Jl(e,n){return vi===null&&_i(e),af(e,n)}function af(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},En===null){if(e===null)throw Error(a(308));En=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else En=En.next=n;return l}var Oy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},qy=i.unstable_scheduleCallback,Py=i.unstable_NormalPriority,ct={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ks(){return{controller:new Oy,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&qy(Py,function(){e.controller.abort()})}var zo=null,$s=0,$i=0,Xi=null;function Hy(e,n){if(zo===null){var l=zo=[];$s=0,$i=Wr(),Xi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return $s++,n.then(sf,sf),n}function sf(){if(--$s===0&&zo!==null){Xi!==null&&(Xi.status="fulfilled");var e=zo;zo=null,$i=0,Xi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Vy(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var rf=M.S;M.S=function(e,n){Yd=se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Hy(e,n),rf!==null&&rf(e,n)};var Si=x(null);function Xs(){var e=Si.current;return e!==null?e:We.pooledCache}function Kl(e,n){n===null?U(Si,Si.current):U(Si,n.pool)}function uf(){var e=Xs();return e===null?null:{parent:ct._currentValue,pool:e}}var Qi=Error(a(460)),Qs=Error(a(474)),$l=Error(a(542)),Xl={then:function(){}};function cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ff(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(vn,vn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pf(e),e;default:if(typeof n.status=="string")n.then(vn,vn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pf(e),e}throw Ei=n,Qi}}function Ti(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ei=l,Qi):l}}var Ei=null;function df(){if(Ei===null)throw Error(a(459));var e=Ei;return Ei=null,e}function pf(e){if(e===Qi||e===$l)throw Error(a(483))}var Wi=null,Fo=0;function Ql(e){var n=Fo;return Fo+=1,Wi===null&&(Wi=[]),ff(Wi,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Wl(e,n){throw n.$$typeof===T?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function mf(e){function n(I,N){if(e){var D=I.deletions;D===null?(I.deletions=[N],I.flags|=16):D.push(N)}}function l(I,N){if(!e)return null;for(;N!==null;)n(I,N),N=N.sibling;return null}function s(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function d(I,N){return I=Sn(I,N),I.index=0,I.sibling=null,I}function m(I,N,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<N?(I.flags|=67108866,N):D):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function _(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function E(I,N,D,V){return N===null||N.tag!==6?(N=qs(D,I.mode,V),N.return=I,N):(N=d(N,D),N.return=I,N)}function A(I,N,D,V){var ce=D.type;return ce===P?H(I,N,D.props.children,V,D.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===re&&Ti(ce)===N.type)?(N=d(N,D.props),Yo(N,D),N.return=I,N):(N=zl(D.type,D.key,D.props,null,I.mode,V),Yo(N,D),N.return=I,N)}function k(I,N,D,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Ps(D,I.mode,V),N.return=I,N):(N=d(N,D.children||[]),N.return=I,N)}function H(I,N,D,V,ce){return N===null||N.tag!==7?(N=gi(D,I.mode,V,ce),N.return=I,N):(N=d(N,D),N.return=I,N)}function Y(I,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=qs(""+N,I.mode,D),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return D=zl(N.type,N.key,N.props,null,I.mode,D),Yo(D,N),D.return=I,D;case b:return N=Ps(N,I.mode,D),N.return=I,N;case re:return N=Ti(N),Y(I,N,D)}if(rt(N)||Ie(N))return N=gi(N,I.mode,D,null),N.return=I,N;if(typeof N.then=="function")return Y(I,Ql(N),D);if(N.$$typeof===K)return Y(I,Jl(I,N),D);Wl(I,N)}return null}function L(I,N,D,V){var ce=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ce!==null?null:E(I,N,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return D.key===ce?A(I,N,D,V):null;case b:return D.key===ce?k(I,N,D,V):null;case re:return D=Ti(D),L(I,N,D,V)}if(rt(D)||Ie(D))return ce!==null?null:H(I,N,D,V,null);if(typeof D.then=="function")return L(I,N,Ql(D),V);if(D.$$typeof===K)return L(I,N,Jl(I,D),V);Wl(I,D)}return null}function O(I,N,D,V,ce){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return I=I.get(D)||null,E(N,I,""+V,ce);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return I=I.get(V.key===null?D:V.key)||null,A(N,I,V,ce);case b:return I=I.get(V.key===null?D:V.key)||null,k(N,I,V,ce);case re:return V=Ti(V),O(I,N,D,V,ce)}if(rt(V)||Ie(V))return I=I.get(D)||null,H(N,I,V,ce,null);if(typeof V.then=="function")return O(I,N,D,Ql(V),ce);if(V.$$typeof===K)return O(I,N,D,Jl(N,V),ce);Wl(N,V)}return null}function ne(I,N,D,V){for(var ce=null,De=null,le=N,Se=N=0,Ne=null;le!==null&&Se<D.length;Se++){le.index>Se?(Ne=le,le=null):Ne=le.sibling;var Ue=L(I,le,D[Se],V);if(Ue===null){le===null&&(le=Ne);break}e&&le&&Ue.alternate===null&&n(I,le),N=m(Ue,N,Se),De===null?ce=Ue:De.sibling=Ue,De=Ue,le=Ne}if(Se===D.length)return l(I,le),be&&Tn(I,Se),ce;if(le===null){for(;Se<D.length;Se++)le=Y(I,D[Se],V),le!==null&&(N=m(le,N,Se),De===null?ce=le:De.sibling=le,De=le);return be&&Tn(I,Se),ce}for(le=s(le);Se<D.length;Se++)Ne=O(le,I,Se,D[Se],V),Ne!==null&&(e&&Ne.alternate!==null&&le.delete(Ne.key===null?Se:Ne.key),N=m(Ne,N,Se),De===null?ce=Ne:De.sibling=Ne,De=Ne);return e&&le.forEach(function(ri){return n(I,ri)}),be&&Tn(I,Se),ce}function pe(I,N,D,V){if(D==null)throw Error(a(151));for(var ce=null,De=null,le=N,Se=N=0,Ne=null,Ue=D.next();le!==null&&!Ue.done;Se++,Ue=D.next()){le.index>Se?(Ne=le,le=null):Ne=le.sibling;var ri=L(I,le,Ue.value,V);if(ri===null){le===null&&(le=Ne);break}e&&le&&ri.alternate===null&&n(I,le),N=m(ri,N,Se),De===null?ce=ri:De.sibling=ri,De=ri,le=Ne}if(Ue.done)return l(I,le),be&&Tn(I,Se),ce;if(le===null){for(;!Ue.done;Se++,Ue=D.next())Ue=Y(I,Ue.value,V),Ue!==null&&(N=m(Ue,N,Se),De===null?ce=Ue:De.sibling=Ue,De=Ue);return be&&Tn(I,Se),ce}for(le=s(le);!Ue.done;Se++,Ue=D.next())Ue=O(le,I,Se,Ue.value,V),Ue!==null&&(e&&Ue.alternate!==null&&le.delete(Ue.key===null?Se:Ue.key),N=m(Ue,N,Se),De===null?ce=Ue:De.sibling=Ue,De=Ue);return e&&le.forEach(function(Z0){return n(I,Z0)}),be&&Tn(I,Se),ce}function Xe(I,N,D,V){if(typeof D=="object"&&D!==null&&D.type===P&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case R:e:{for(var ce=D.key;N!==null;){if(N.key===ce){if(ce=D.type,ce===P){if(N.tag===7){l(I,N.sibling),V=d(N,D.props.children),V.return=I,I=V;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===re&&Ti(ce)===N.type){l(I,N.sibling),V=d(N,D.props),Yo(V,D),V.return=I,I=V;break e}l(I,N);break}else n(I,N);N=N.sibling}D.type===P?(V=gi(D.props.children,I.mode,V,D.key),V.return=I,I=V):(V=zl(D.type,D.key,D.props,null,I.mode,V),Yo(V,D),V.return=I,I=V)}return _(I);case b:e:{for(ce=D.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){l(I,N.sibling),V=d(N,D.children||[]),V.return=I,I=V;break e}else{l(I,N);break}else n(I,N);N=N.sibling}V=Ps(D,I.mode,V),V.return=I,I=V}return _(I);case re:return D=Ti(D),Xe(I,N,D,V)}if(rt(D))return ne(I,N,D,V);if(Ie(D)){if(ce=Ie(D),typeof ce!="function")throw Error(a(150));return D=ce.call(D),pe(I,N,D,V)}if(typeof D.then=="function")return Xe(I,N,Ql(D),V);if(D.$$typeof===K)return Xe(I,N,Jl(I,D),V);Wl(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(l(I,N.sibling),V=d(N,D),V.return=I,I=V):(l(I,N),V=qs(D,I.mode,V),V.return=I,I=V),_(I)):l(I,N)}return function(I,N,D,V){try{Fo=0;var ce=Xe(I,N,D,V);return Wi=null,ce}catch(le){if(le===Qi||le===$l)throw le;var De=Vt(29,le,null,I.mode);return De.lanes=V,De.return=I,De}finally{}}}var Ci=mf(!0),hf=mf(!1),Yn=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Bl(e),Wc(e,null,l),n}return Vl(e,s,n,l),Bl(e)}function Jo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,lc(e,l)}}function js(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var er=!1;function Ko(){if(er){var e=Xi;if(e!==null)throw e}}function $o(e,n,l,s){er=!1;var d=e.updateQueue;Yn=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,k=A.next;A.next=null,_===null?m=k:_.next=k,_=A;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=A))}if(m!==null){var Y=d.baseState;_=0,H=k=A=null,E=m;do{var L=E.lane&-536870913,O=L!==E.lane;if(O?(we&L)===L:(s&L)===L){L!==0&&L===$i&&(er=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ne=e,pe=E;L=n;var Xe=l;switch(pe.tag){case 1:if(ne=pe.payload,typeof ne=="function"){Y=ne.call(Xe,Y,L);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=pe.payload,L=typeof ne=="function"?ne.call(Xe,Y,L):ne,L==null)break e;Y=S({},Y,L);break e;case 2:Yn=!0}}L=E.callback,L!==null&&(e.flags|=64,O&&(e.flags|=8192),O=d.callbacks,O===null?d.callbacks=[L]:O.push(L))}else O={lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=O,A=Y):H=H.next=O,_|=L;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;O=E,E=O.next,O.next=null,d.lastBaseUpdate=O,d.shared.pending=null}}while(!0);H===null&&(A=Y),d.baseState=A,d.firstBaseUpdate=k,d.lastBaseUpdate=H,m===null&&(d.shared.lanes=0),Zn|=_,e.lanes=_,e.memoizedState=Y}}function gf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function yf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)gf(l[e],n)}var Zi=x(null),Zl=x(0);function vf(e,n){e=Dn,U(Zl,e),U(Zi,n),Dn=e|n.baseLanes}function tr(){U(Zl,Dn),U(Zi,Zi.current)}function nr(){Dn=Zl.current,w(Zi),w(Zl)}var Bt=x(null),en=null;function $n(e){var n=e.alternate;U(at,at.current&1),U(Bt,e),en===null&&(n===null||Zi.current!==null||n.memoizedState!==null)&&(en=e)}function ir(e){U(at,at.current),U(Bt,e),en===null&&(en=e)}function _f(e){e.tag===22?(U(at,at.current),U(Bt,e),en===null&&(en=e)):Xn()}function Xn(){U(at,at.current),U(Bt,Bt.current)}function zt(e){w(Bt),en===e&&(en=null),w(at)}var at=x(0);function jl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||uu(l)||cu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var An=0,ve=null,Ke=null,ft=null,ea=!1,ji=!1,Ai=!1,ta=0,Xo=0,eo=null,By=0;function ot(){throw Error(a(321))}function or(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Ht(e[l],n[l]))return!1;return!0}function lr(e,n,l,s,d,m){return An=m,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?nd:Sr,Ai=!1,m=l(s,d),Ai=!1,ji&&(m=Tf(n,l,s,d)),Sf(e),m}function Sf(e){M.H=Zo;var n=Ke!==null&&Ke.next!==null;if(An=0,ft=Ke=ve=null,ea=!1,Xo=0,eo=null,n)throw Error(a(300));e===null||dt||(e=e.dependencies,e!==null&&Yl(e)&&(dt=!0))}function Tf(e,n,l,s){ve=e;var d=0;do{if(ji&&(eo=null),Xo=0,ji=!1,25<=d)throw Error(a(301));if(d+=1,ft=Ke=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=id,m=n(l,s)}while(ji);return m}function zy(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(ve.flags|=1024),n}function ar(){var e=ta!==0;return ta=0,e}function sr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function rr(e){if(ea){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ea=!1}An=0,ft=Ke=ve=null,ji=!1,Xo=ta=0,eo=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?ve.memoizedState=ft=e:ft=ft.next=e,ft}function st(){if(Ke===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=ft===null?ve.memoizedState:ft.next;if(n!==null)ft=n,Ke=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},ft===null?ve.memoizedState=ft=e:ft=ft.next=e}return ft}function na(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Xo;return Xo+=1,eo===null&&(eo=[]),e=ff(eo,e,n),n=ve,(ft===null?n.memoizedState:ft.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?nd:Sr),e}function ia(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===K)return Et(e)}throw Error(a(438,String(e)))}function ur(e){var n=null,l=ve.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=na(),ve.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ge;return n.index++,l}function Rn(e,n){return typeof n=="function"?n(e):n}function oa(e){var n=st();return cr(n,Ke,e)}function cr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var E=_=null,A=null,k=n,H=!1;do{var Y=k.lane&-536870913;if(Y!==k.lane?(we&Y)===Y:(An&Y)===Y){var L=k.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Y===$i&&(H=!0);else if((An&L)===L){k=k.next,L===$i&&(H=!0);continue}else Y={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(E=A=Y,_=m):A=A.next=Y,ve.lanes|=L,Zn|=L;Y=k.action,Ai&&l(m,Y),m=k.hasEagerState?k.eagerState:l(m,Y)}else L={lane:Y,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(E=A=L,_=m):A=A.next=L,ve.lanes|=Y,Zn|=Y;k=k.next}while(k!==null&&k!==n);if(A===null?_=m:A.next=E,!Ht(m,e.memoizedState)&&(dt=!0,H&&(l=Xi,l!==null)))throw l;e.memoizedState=m,e.baseState=_,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function fr(e){var n=st(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var _=d=d.next;do m=e(m,_.action),_=_.next;while(_!==d);Ht(m,n.memoizedState)||(dt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function Ef(e,n,l){var s=ve,d=st(),m=be;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var _=!Ht((Ke||d).memoizedState,l);if(_&&(d.memoizedState=l,dt=!0),d=d.queue,mr(Rf.bind(null,s,d,e),[e]),d.getSnapshot!==n||_||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,to(9,{destroy:void 0},Af.bind(null,s,d,l,n),null),We===null)throw Error(a(349));m||(An&127)!==0||Cf(s,n,l)}return l}function Cf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ve.updateQueue,n===null?(n=na(),ve.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Af(e,n,l,s){n.value=l,n.getSnapshot=s,wf(n)&&Nf(e)}function Rf(e,n,l){return l(function(){wf(n)&&Nf(e)})}function wf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Ht(e,l)}catch{return!0}}function Nf(e){var n=hi(e,2);n!==null&&Gt(n,e,2)}function dr(e){var n=Nt();if(typeof e=="function"){var l=e;if(e=l(),Ai){qn(!0);try{l()}finally{qn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},n}function xf(e,n,l,s){return e.baseState=l,cr(e,Ke,typeof s=="function"?s:Rn)}function Fy(e,n,l,s,d){if(sa(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};M.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,bf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function bf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=M.T,_={};M.T=_;try{var E=l(d,s),A=M.S;A!==null&&A(_,E),Mf(e,n,E)}catch(k){pr(e,n,k)}finally{m!==null&&_.types!==null&&(m.types=_.types),M.T=m}}else try{m=l(d,s),Mf(e,n,m)}catch(k){pr(e,n,k)}}function Mf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){If(e,n,s)},function(s){return pr(e,n,s)}):If(e,n,l)}function If(e,n,l){n.status="fulfilled",n.value=l,Df(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,bf(e,l)))}function pr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Df(n),n=n.next;while(n!==s)}e.action=null}function Df(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Uf(e,n){return n}function kf(e,n){if(be){var l=We.formState;if(l!==null){e:{var s=ve;if(be){if(et){t:{for(var d=et,m=jt;d.nodeType!==8;){if(!m){d=null;break t}if(d=tn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){et=tn(d.nextSibling),s=d.data==="F!";break e}}zn(s)}s=!1}s&&(n=l[0])}}return l=Nt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},l.queue=s,l=jf.bind(null,ve,s),s.dispatch=l,s=dr(!1),m=_r.bind(null,ve,!1,s.queue),s=Nt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=Fy.bind(null,ve,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Lf(e){var n=st();return Gf(n,Ke,e)}function Gf(e,n,l){if(n=cr(e,n,Uf)[0],e=oa(Rn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Qo(n)}catch(_){throw _===Qi?$l:_}else s=n;n=st();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(ve.flags|=2048,to(9,{destroy:void 0},Yy.bind(null,d,l),null)),[s,m,e]}function Yy(e,n){e.action=n}function Of(e){var n=st(),l=Ke;if(l!==null)return Gf(n,l,e);st(),n=n.memoizedState,l=st();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function to(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=ve.updateQueue,n===null&&(n=na(),ve.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function qf(){return st().memoizedState}function la(e,n,l,s){var d=Nt();ve.flags|=e,d.memoizedState=to(1|n,{destroy:void 0},l,s===void 0?null:s)}function aa(e,n,l,s){var d=st();s=s===void 0?null:s;var m=d.memoizedState.inst;Ke!==null&&s!==null&&or(s,Ke.memoizedState.deps)?d.memoizedState=to(n,m,l,s):(ve.flags|=e,d.memoizedState=to(1|n,m,l,s))}function Pf(e,n){la(8390656,8,e,n)}function mr(e,n){aa(2048,8,e,n)}function Jy(e){ve.flags|=4;var n=ve.updateQueue;if(n===null)n=na(),ve.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Hf(e){var n=st().memoizedState;return Jy({ref:n,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vf(e,n){return aa(4,2,e,n)}function Bf(e,n){return aa(4,4,e,n)}function zf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ff(e,n,l){l=l!=null?l.concat([e]):null,aa(4,4,zf.bind(null,n,e),l)}function hr(){}function Yf(e,n){var l=st();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&or(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Jf(e,n){var l=st();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&or(n,s[1]))return s[0];if(s=e(),Ai){qn(!0);try{e()}finally{qn(!1)}}return l.memoizedState=[s,n],s}function gr(e,n,l){return l===void 0||(An&1073741824)!==0&&(we&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Kd(),ve.lanes|=e,Zn|=e,l)}function Kf(e,n,l,s){return Ht(l,n)?l:Zi.current!==null?(e=gr(e,l,s),Ht(e,n)||(dt=!0),e):(An&42)===0||(An&1073741824)!==0&&(we&261930)===0?(dt=!0,e.memoizedState=l):(e=Kd(),ve.lanes|=e,Zn|=e,n)}function $f(e,n,l,s,d){var m=X.p;X.p=m!==0&&8>m?m:8;var _=M.T,E={};M.T=E,_r(e,!1,n,l);try{var A=d(),k=M.S;if(k!==null&&k(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Vy(A,s);Wo(e,n,H,Jt(e))}else Wo(e,n,s,Jt(e))}catch(Y){Wo(e,n,{then:function(){},status:"rejected",reason:Y},Jt())}finally{X.p=m,_!==null&&E.types!==null&&(_.types=E.types),M.T=_}}function Ky(){}function yr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=Xf(e).queue;$f(e,d,n,ie,l===null?Ky:function(){return Qf(e),l(s)})}function Xf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:ie},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qf(e){var n=Xf(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Jt())}function vr(){return Et(ml)}function Wf(){return st().memoizedState}function Zf(){return st().memoizedState}function $y(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Jt();e=Jn(l);var s=Kn(n,e,l);s!==null&&(Gt(s,n,l),Jo(s,n,l)),n={cache:Ks()},e.payload=n;return}n=n.return}}function Xy(e,n,l){var s=Jt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sa(e)?ed(n,l):(l=Gs(e,n,l,s),l!==null&&(Gt(l,e,s),td(l,n,s)))}function jf(e,n,l){var s=Jt();Wo(e,n,l,s)}function Wo(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(sa(e))ed(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var _=n.lastRenderedState,E=m(_,l);if(d.hasEagerState=!0,d.eagerState=E,Ht(E,_))return Vl(e,n,d,0),We===null&&Hl(),!1}catch{}finally{}if(l=Gs(e,n,d,s),l!==null)return Gt(l,e,s),td(l,n,s),!0}return!1}function _r(e,n,l,s){if(s={lane:2,revertLane:Wr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sa(e)){if(n)throw Error(a(479))}else n=Gs(e,l,s,2),n!==null&&Gt(n,e,2)}function sa(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function ed(e,n){ji=ea=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function td(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,lc(e,l)}}var Zo={readContext:Et,use:ia,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Zo.useEffectEvent=ot;var nd={readContext:Et,use:ia,useCallback:function(e,n){return Nt().memoizedState=[e,n===void 0?null:n],e},useContext:Et,useEffect:Pf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,la(4194308,4,zf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return la(4194308,4,e,n)},useInsertionEffect:function(e,n){la(4,2,e,n)},useMemo:function(e,n){var l=Nt();n=n===void 0?null:n;var s=e();if(Ai){qn(!0);try{e()}finally{qn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=Nt();if(l!==void 0){var d=l(n);if(Ai){qn(!0);try{l(n)}finally{qn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Xy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var n=Nt();return e={current:e},n.memoizedState=e},useState:function(e){e=dr(e);var n=e.queue,l=jf.bind(null,ve,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:hr,useDeferredValue:function(e,n){var l=Nt();return gr(l,e,n)},useTransition:function(){var e=dr(!1);return e=$f.bind(null,ve,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=ve,d=Nt();if(be){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),We===null)throw Error(a(349));(we&127)!==0||Cf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,Pf(Rf.bind(null,s,m,e),[e]),s.flags|=2048,to(9,{destroy:void 0},Af.bind(null,s,m,l,n),null),l},useId:function(){var e=Nt(),n=We.identifierPrefix;if(be){var l=pn,s=dn;l=(s&~(1<<32-Pt(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ta++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=By++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vr,useFormState:kf,useActionState:kf,useOptimistic:function(e){var n=Nt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=_r.bind(null,ve,!0,l),l.dispatch=n,[e,n]},useMemoCache:ur,useCacheRefresh:function(){return Nt().memoizedState=$y.bind(null,ve)},useEffectEvent:function(e){var n=Nt(),l={impl:e};return n.memoizedState=l,function(){if((Ge&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Sr={readContext:Et,use:ia,useCallback:Yf,useContext:Et,useEffect:mr,useImperativeHandle:Ff,useInsertionEffect:Vf,useLayoutEffect:Bf,useMemo:Jf,useReducer:oa,useRef:qf,useState:function(){return oa(Rn)},useDebugValue:hr,useDeferredValue:function(e,n){var l=st();return Kf(l,Ke.memoizedState,e,n)},useTransition:function(){var e=oa(Rn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Ef,useId:Wf,useHostTransitionStatus:vr,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,n){var l=st();return xf(l,Ke,e,n)},useMemoCache:ur,useCacheRefresh:Zf};Sr.useEffectEvent=Hf;var id={readContext:Et,use:ia,useCallback:Yf,useContext:Et,useEffect:mr,useImperativeHandle:Ff,useInsertionEffect:Vf,useLayoutEffect:Bf,useMemo:Jf,useReducer:fr,useRef:qf,useState:function(){return fr(Rn)},useDebugValue:hr,useDeferredValue:function(e,n){var l=st();return Ke===null?gr(l,e,n):Kf(l,Ke.memoizedState,e,n)},useTransition:function(){var e=fr(Rn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Ef,useId:Wf,useHostTransitionStatus:vr,useFormState:Of,useActionState:Of,useOptimistic:function(e,n){var l=st();return Ke!==null?xf(l,Ke,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ur,useCacheRefresh:Zf};id.useEffectEvent=Hf;function Tr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Er={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Jt(),d=Jn(s);d.payload=n,l!=null&&(d.callback=l),n=Kn(e,d,s),n!==null&&(Gt(n,e,s),Jo(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Jt(),d=Jn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Kn(e,d,s),n!==null&&(Gt(n,e,s),Jo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Jt(),s=Jn(l);s.tag=2,n!=null&&(s.callback=n),n=Kn(e,s,l),n!==null&&(Gt(n,e,l),Jo(n,e,l))}};function od(e,n,l,s,d,m,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,_):n.prototype&&n.prototype.isPureReactComponent?!qo(l,s)||!qo(d,m):!0}function ld(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&Er.enqueueReplaceState(n,n.state,null)}function Ri(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function ad(e){Pl(e)}function sd(e){console.error(e)}function rd(e){Pl(e)}function ra(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ud(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cr(e,n,l){return l=Jn(l),l.tag=3,l.payload={element:null},l.callback=function(){ra(e,n)},l}function cd(e){return e=Jn(e),e.tag=3,e}function fd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){ud(n,l,s)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ud(n,l,s),typeof d!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function Qy(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Ki(n,l,d,!0),l=Bt.current,l!==null){switch(l.tag){case 31:case 13:return en===null?Sa():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Xl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),$r(e,s,d)),!1;case 22:return l.flags|=65536,s===Xl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),$r(e,s,d)),!1}throw Error(a(435,l.tag))}return $r(e,s,d),Sa(),!1}if(be)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Bs&&(e=Error(a(422),{cause:s}),Vo(Qt(e,l)))):(s!==Bs&&(n=Error(a(423),{cause:s}),Vo(Qt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Qt(s,l),d=Cr(e.stateNode,s,d),js(e,d),lt!==4&&(lt=2)),!1;var m=Error(a(520),{cause:s});if(m=Qt(m,l),al===null?al=[m]:al.push(m),lt!==4&&(lt=2),n===null)return!0;s=Qt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Cr(l.stateNode,s,e),js(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(jn===null||!jn.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=cd(d),fd(d,e,l,s),js(l,d),!1}l=l.return}while(l!==null);return!1}var Ar=Error(a(461)),dt=!1;function Ct(e,n,l,s){n.child=e===null?hf(n,null,l,s):Ci(n,e.child,l,s)}function dd(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var _={};for(var E in s)E!=="ref"&&(_[E]=s[E])}else _=s;return _i(n),s=lr(e,n,l,_,m,d),E=ar(),e!==null&&!dt?(sr(e,n,d),wn(e,n,d)):(be&&E&&Hs(n),n.flags|=1,Ct(e,n,s,d),n.child)}function pd(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!Os(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,md(e,n,m,s,d)):(e=zl(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Dr(e,d)){var _=m.memoizedProps;if(l=l.compare,l=l!==null?l:qo,l(_,s)&&e.ref===n.ref)return wn(e,n,d)}return n.flags|=1,e=Sn(m,s),e.ref=n.ref,e.return=n,n.child=e}function md(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(qo(m,s)&&e.ref===n.ref)if(dt=!1,n.pendingProps=s=m,Dr(e,d))(e.flags&131072)!==0&&(dt=!0);else return n.lanes=e.lanes,wn(e,n,d)}return Rr(e,n,l,s,d)}function hd(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return gd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kl(n,m!==null?m.cachePool:null),m!==null?vf(n,m):tr(),_f(n);else return s=n.lanes=536870912,gd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Kl(n,m.cachePool),vf(n,m),Xn(),n.memoizedState=null):(e!==null&&Kl(n,null),tr(),Xn());return Ct(e,n,d,l),n.child}function jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gd(e,n,l,s,d){var m=Xs();return m=m===null?null:{parent:ct._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Kl(n,null),tr(),_f(n),e!==null&&Ki(e,n,s,!0),n.childLanes=d,null}function ua(e,n){return n=fa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yd(e,n,l){return Ci(n,e.child,null,l),e=ua(n,n.pendingProps),e.flags|=2,zt(n),n.memoizedState=null,e}function Wy(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(be){if(s.mode==="hidden")return e=ua(n,s),n.lanes=536870912,jo(null,e);if(ir(n),(e=et)?(e=bp(e,jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},l=jc(e),l.return=n,n.child=l,Tt=n,et=null)):e=null,e===null)throw zn(n);return n.lanes=536870912,null}return ua(n,s)}var m=e.memoizedState;if(m!==null){var _=m.dehydrated;if(ir(n),d)if(n.flags&256)n.flags&=-257,n=yd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(dt||Ki(e,n,l,!1),d=(l&e.childLanes)!==0,dt||d){if(s=We,s!==null&&(_=ac(s,l),_!==0&&_!==m.retryLane))throw m.retryLane=_,hi(e,_),Gt(s,e,_),Ar;Sa(),n=yd(e,n,l)}else e=m.treeContext,et=tn(_.nextSibling),Tt=n,be=!0,Bn=null,jt=!1,e!==null&&nf(n,e),n=ua(n,s),n.flags|=4096;return n}return e=Sn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ca(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Rr(e,n,l,s,d){return _i(n),l=lr(e,n,l,s,void 0,d),s=ar(),e!==null&&!dt?(sr(e,n,d),wn(e,n,d)):(be&&s&&Hs(n),n.flags|=1,Ct(e,n,l,d),n.child)}function vd(e,n,l,s,d,m){return _i(n),n.updateQueue=null,l=Tf(n,s,l,d),Sf(e),s=ar(),e!==null&&!dt?(sr(e,n,m),wn(e,n,m)):(be&&s&&Hs(n),n.flags|=1,Ct(e,n,l,m),n.child)}function _d(e,n,l,s,d){if(_i(n),n.stateNode===null){var m=zi,_=l.contextType;typeof _=="object"&&_!==null&&(m=Et(_)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Er,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Ws(n),_=l.contextType,m.context=typeof _=="object"&&_!==null?Et(_):zi,m.state=n.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Tr(n,l,_,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Er.enqueueReplaceState(m,m.state,null),$o(n,s,m,d),Ko(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var E=n.memoizedProps,A=Ri(l,E);m.props=A;var k=m.context,H=l.contextType;_=zi,typeof H=="object"&&H!==null&&(_=Et(H));var Y=l.getDerivedStateFromProps;H=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||k!==_)&&ld(n,m,s,_),Yn=!1;var L=n.memoizedState;m.state=L,$o(n,s,m,d),Ko(),k=n.memoizedState,E||L!==k||Yn?(typeof Y=="function"&&(Tr(n,l,Y,s),k=n.memoizedState),(A=Yn||od(n,l,A,s,L,k,_))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=k),m.props=s,m.state=k,m.context=_,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Zs(e,n),_=n.memoizedProps,H=Ri(l,_),m.props=H,Y=n.pendingProps,L=m.context,k=l.contextType,A=zi,typeof k=="object"&&k!==null&&(A=Et(k)),E=l.getDerivedStateFromProps,(k=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==Y||L!==A)&&ld(n,m,s,A),Yn=!1,L=n.memoizedState,m.state=L,$o(n,s,m,d),Ko();var O=n.memoizedState;_!==Y||L!==O||Yn||e!==null&&e.dependencies!==null&&Yl(e.dependencies)?(typeof E=="function"&&(Tr(n,l,E,s),O=n.memoizedState),(H=Yn||od(n,l,H,s,L,O,A)||e!==null&&e.dependencies!==null&&Yl(e.dependencies))?(k||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,O,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,O,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=O),m.props=s,m.state=O,m.context=A,s=H):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,ca(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=Ci(n,e.child,null,d),n.child=Ci(n,null,l,d)):Ct(e,n,l,d),n.memoizedState=m.state,e=n.child):e=wn(e,n,d),e}function Sd(e,n,l,s){return yi(),n.flags|=256,Ct(e,n,l,s),n.child}var wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nr(e){return{baseLanes:e,cachePool:uf()}}function xr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Yt),e}function Td(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),_&&(d=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(be){if(d?$n(n):Xn(),(e=et)?(e=bp(e,jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},l=jc(e),l.return=n,n.child=l,Tt=n,et=null)):e=null,e===null)throw zn(n);return cu(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(Xn(),d=n.mode,E=fa({mode:"hidden",children:E},d),s=gi(s,d,l,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=Nr(l),s.childLanes=xr(e,_,l),n.memoizedState=wr,jo(null,s)):($n(n),br(n,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)n.flags&256?($n(n),n.flags&=-257,n=Mr(e,n,l)):n.memoizedState!==null?(Xn(),n.child=e.child,n.flags|=128,n=null):(Xn(),E=s.fallback,d=n.mode,s=fa({mode:"visible",children:s.children},d),E=gi(E,d,l,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,Ci(n,e.child,null,l),s=n.child,s.memoizedState=Nr(l),s.childLanes=xr(e,_,l),n.memoizedState=wr,n=jo(null,s));else if($n(n),cu(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var k=_.dgst;_=k,s=Error(a(419)),s.stack="",s.digest=_,Vo({value:s,source:null,stack:null}),n=Mr(e,n,l)}else if(dt||Ki(e,n,l,!1),_=(l&e.childLanes)!==0,dt||_){if(_=We,_!==null&&(s=ac(_,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,hi(e,s),Gt(_,e,s),Ar;uu(E)||Sa(),n=Mr(e,n,l)}else uu(E)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,et=tn(E.nextSibling),Tt=n,be=!0,Bn=null,jt=!1,e!==null&&nf(n,e),n=br(n,s.children),n.flags|=4096);return n}return d?(Xn(),E=s.fallback,d=n.mode,A=e.child,k=A.sibling,s=Sn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,k!==null?E=Sn(k,E):(E=gi(E,d,l,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,jo(null,s),s=n.child,E=e.child.memoizedState,E===null?E=Nr(l):(d=E.cachePool,d!==null?(A=ct._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=uf(),E={baseLanes:E.baseLanes|l,cachePool:d}),s.memoizedState=E,s.childLanes=xr(e,_,l),n.memoizedState=wr,jo(e.child,s)):($n(n),l=e.child,e=l.sibling,l=Sn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=l,n.memoizedState=null,l)}function br(e,n){return n=fa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fa(e,n){return e=Vt(22,e,null,n),e.lanes=0,e}function Mr(e,n,l){return Ci(n,e.child,null,l),e=br(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ed(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ys(e.return,n,l)}function Ir(e,n,l,s,d,m){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=s,_.tail=l,_.tailMode=d,_.treeForkCount=m)}function Cd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var _=at.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,U(at,_),Ct(e,n,s,l),s=be?Ho:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,l,n);else if(e.tag===19)Ed(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&jl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Ir(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&jl(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Ir(n,!0,l,null,m,s);break;case"together":Ir(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function wn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Zn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ki(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=Sn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Sn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Dr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Yl(e)))}function Zy(e,n,l){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),Fn(n,ct,e.memoizedState.cache),yi();break;case 27:case 5:Ee(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:Fn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ir(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?($n(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Td(e,n,l):($n(n),e=wn(e,n,l),e!==null?e.sibling:null);$n(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Ki(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return Cd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),U(at,at.current),s)break;return null;case 22:return n.lanes=0,hd(e,n,l,n.pendingProps);case 24:Fn(n,ct,e.memoizedState.cache)}return wn(e,n,l)}function Ad(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)dt=!0;else{if(!Dr(e,l)&&(n.flags&128)===0)return dt=!1,Zy(e,n,l);dt=(e.flags&131072)!==0}else dt=!1,be&&(n.flags&1048576)!==0&&tf(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Ti(n.elementType),n.type=e,typeof e=="function")Os(e)?(s=Ri(e,s),n.tag=1,n=_d(null,n,e,s,l)):(n.tag=0,n=Rr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===W){n.tag=11,n=dd(null,n,e,s,l);break e}else if(d===Q){n.tag=14,n=pd(null,n,e,s,l);break e}}throw n=qe(e)||e,Error(a(306,n,""))}}return n;case 0:return Rr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=Ri(s,n.pendingProps),_d(e,n,s,d,l);case 3:e:{if(de(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Zs(e,n),$o(n,s,null,l);var _=n.memoizedState;if(s=_.cache,Fn(n,ct,s),s!==m.cache&&Js(n,[ct],l,!0),Ko(),s=_.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Sd(e,n,s,l);break e}else if(s!==d){d=Qt(Error(a(424)),n),Vo(d),n=Sd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=tn(e.firstChild),Tt=n,be=!0,Bn=null,jt=!0,l=hf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yi(),s===d){n=wn(e,n,l);break e}Ct(e,n,s,l)}n=n.child}return n;case 26:return ca(e,n),e===null?(l=Lp(n.type,null,n.pendingProps,null))?n.memoizedState=l:be||(l=n.type,e=n.pendingProps,s=Na(ue.current).createElement(l),s[St]=n,s[Mt]=e,At(s,l,e),yt(s),n.stateNode=s):n.memoizedState=Lp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ee(n),e===null&&be&&(s=n.stateNode=Dp(n.type,n.pendingProps,ue.current),Tt=n,jt=!0,d=et,ii(n.type)?(fu=d,et=tn(s.firstChild)):et=d),Ct(e,n,n.pendingProps.children,l),ca(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&be&&((d=s=et)&&(s=x0(s,n.type,n.pendingProps,jt),s!==null?(n.stateNode=s,Tt=n,et=tn(s.firstChild),jt=!1,d=!0):d=!1),d||zn(n)),Ee(n),d=n.type,m=n.pendingProps,_=e!==null?e.memoizedProps:null,s=m.children,au(d,m)?s=null:_!==null&&au(d,_)&&(n.flags|=32),n.memoizedState!==null&&(d=lr(e,n,zy,null,null,l),ml._currentValue=d),ca(e,n),Ct(e,n,s,l),n.child;case 6:return e===null&&be&&((e=l=et)&&(l=b0(l,n.pendingProps,jt),l!==null?(n.stateNode=l,Tt=n,et=null,e=!0):e=!1),e||zn(n)),null;case 13:return Td(e,n,l);case 4:return de(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ci(n,null,s,l):Ct(e,n,s,l),n.child;case 11:return dd(e,n,n.type,n.pendingProps,l);case 7:return Ct(e,n,n.pendingProps,l),n.child;case 8:return Ct(e,n,n.pendingProps.children,l),n.child;case 12:return Ct(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Fn(n,n.type,s.value),Ct(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,_i(n),d=Et(d),s=s(d),n.flags|=1,Ct(e,n,s,l),n.child;case 14:return pd(e,n,n.type,n.pendingProps,l);case 15:return md(e,n,n.type,n.pendingProps,l);case 19:return Cd(e,n,l);case 31:return Wy(e,n,l);case 22:return hd(e,n,l,n.pendingProps);case 24:return _i(n),s=Et(ct),e===null?(d=Xs(),d===null&&(d=We,m=Ks(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},Ws(n),Fn(n,ct,d)):((e.lanes&l)!==0&&(Zs(e,n),$o(n,null,null,l),Ko()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Fn(n,ct,s)):(s=m.cache,Fn(n,ct,s),s!==d.cache&&Js(n,[ct],l,!0))),Ct(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Nn(e){e.flags|=4}function Ur(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Wd())e.flags|=8192;else throw Ei=Xl,Qs}else e.flags&=-16777217}function Rd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hp(n))if(Wd())e.flags|=8192;else throw Ei=Xl,Qs}function da(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ic():536870912,e.lanes|=n,lo|=n)}function el(e,n){if(!be)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function jy(e,n,l){var s=n.pendingProps;switch(Vs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Cn(ct),_e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ji(n)?Nn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zs())),tt(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(Nn(n),m!==null?(tt(n),Rd(n,m)):(tt(n),Ur(n,d,null,s,l))):m?m!==e.memoizedState?(Nn(n),tt(n),Rd(n,m)):(tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Nn(n),tt(n),Ur(n,d,e,s,l)),null;case 27:if(Pe(n),l=ue.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Nn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return tt(n),null}e=$.current,Ji(n)?of(n):(e=Dp(d,s,l),n.stateNode=e,Nn(n))}return tt(n),null;case 5:if(Pe(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Nn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(m=$.current,Ji(n))of(n);else{var _=Na(ue.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?_.createElement("select",{is:s.is}):_.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?_.createElement(d,{is:s.is}):_.createElement(d)}}m[St]=n,m[Mt]=s;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=m;e:switch(At(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Nn(n)}}return tt(n),Ur(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Nn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ue.current,Ji(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=Tt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[St]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Tp(e.nodeValue,l)),e||zn(n,!0)}else e=Na(e).createTextNode(s),e[St]=n,n.stateNode=e}return tt(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ji(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[St]=n}else yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),e=!1}else l=zs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(zt(n),n):(zt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return tt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ji(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[St]=n}else yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),d=!1}else d=zs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(zt(n),n):(zt(n),null)}return zt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),da(n,n.updateQueue),tt(n),null);case 4:return _e(),e===null&&tu(n.stateNode.containerInfo),tt(n),null;case 10:return Cn(n.type),tt(n),null;case 19:if(w(at),s=n.memoizedState,s===null)return tt(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)el(s,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=jl(e),m!==null){for(n.flags|=128,el(s,!1),e=m.updateQueue,n.updateQueue=e,da(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Zc(l,e),l=l.sibling;return U(at,at.current&1|2),be&&Tn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&se()>ya&&(n.flags|=128,d=!0,el(s,!1),n.lanes=4194304)}else{if(!d)if(e=jl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,da(n,e),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!be)return tt(n),null}else 2*se()-s.renderingStartTime>ya&&l!==536870912&&(n.flags|=128,d=!0,el(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=se(),e.sibling=null,l=at.current,U(at,d?l&1|2:l&1),be&&Tn(n,s.treeForkCount),e):(tt(n),null);case 22:case 23:return zt(n),nr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),l=n.updateQueue,l!==null&&da(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&w(Si),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Cn(ct),tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function e0(e,n){switch(Vs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Cn(ct),_e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pe(n),null;case 31:if(n.memoizedState!==null){if(zt(n),n.alternate===null)throw Error(a(340));yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(zt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return w(at),null;case 4:return _e(),null;case 10:return Cn(n.type),null;case 22:case 23:return zt(n),nr(),e!==null&&w(Si),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Cn(ct),null;case 25:return null;default:return null}}function wd(e,n){switch(Vs(n),n.tag){case 3:Cn(ct),_e();break;case 26:case 27:case 5:Pe(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&zt(n);break;case 13:zt(n);break;case 19:w(at);break;case 10:Cn(n.type);break;case 22:case 23:zt(n),nr(),e!==null&&w(Si);break;case 24:Cn(ct)}}function tl(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,_=l.inst;s=m(),_.destroy=s}l=l.next}while(l!==d)}}catch(E){ze(n,n.return,E)}}function Qn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var _=s.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,d=n;var A=l,k=E;try{k()}catch(H){ze(d,A,H)}}}s=s.next}while(s!==m)}}catch(H){ze(n,n.return,H)}}function Nd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{yf(n,l)}catch(s){ze(e,e.return,s)}}}function xd(e,n,l){l.props=Ri(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){ze(e,n,s)}}function nl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){ze(e,n,d)}}function mn(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){ze(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){ze(e,n,d)}else l.current=null}function bd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){ze(e,e.return,d)}}function kr(e,n,l){try{var s=e.stateNode;E0(s,e.type,l,n),s[Mt]=n}catch(d){ze(e,e.return,d)}}function Md(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ii(e.type)||e.tag===4}function Lr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=vn));else if(s!==4&&(s===27&&ii(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Gr(e,n,l),e=e.sibling;e!==null;)Gr(e,n,l),e=e.sibling}function pa(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&ii(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(pa(e,n,l),e=e.sibling;e!==null;)pa(e,n,l),e=e.sibling}function Id(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);At(n,s,l),n[St]=e,n[Mt]=l}catch(m){ze(e,e.return,m)}}var xn=!1,pt=!1,Or=!1,Dd=typeof WeakSet=="function"?WeakSet:Set,vt=null;function t0(e,n){if(e=e.containerInfo,ou=ka,e=zc(e),Ms(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var _=0,E=-1,A=-1,k=0,H=0,Y=e,L=null;t:for(;;){for(var O;Y!==l||d!==0&&Y.nodeType!==3||(E=_+d),Y!==m||s!==0&&Y.nodeType!==3||(A=_+s),Y.nodeType===3&&(_+=Y.nodeValue.length),(O=Y.firstChild)!==null;)L=Y,Y=O;for(;;){if(Y===e)break t;if(L===l&&++k===d&&(E=_),L===m&&++H===s&&(A=_),(O=Y.nextSibling)!==null)break;Y=L,L=Y.parentNode}Y=O}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(lu={focusedElem:e,selectionRange:l},ka=!1,vt=n;vt!==null;)if(n=vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,vt=e;else for(;vt!==null;){switch(n=vt,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var ne=Ri(l.type,d);e=s.getSnapshotBeforeUpdate(ne,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(pe){ze(l,l.return,pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)ru(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,vt=e;break}vt=n.return}}function Ud(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Mn(e,l),s&4&&tl(5,l);break;case 1:if(Mn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(_){ze(l,l.return,_)}else{var d=Ri(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ze(l,l.return,_)}}s&64&&Nd(l),s&512&&nl(l,l.return);break;case 3:if(Mn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{yf(e,n)}catch(_){ze(l,l.return,_)}}break;case 27:n===null&&s&4&&Id(l);case 26:case 5:Mn(e,l),n===null&&s&4&&bd(l),s&512&&nl(l,l.return);break;case 12:Mn(e,l);break;case 31:Mn(e,l),s&4&&Gd(e,l);break;case 13:Mn(e,l),s&4&&Od(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=c0.bind(null,l),M0(e,l))));break;case 22:if(s=l.memoizedState!==null||xn,!s){n=n!==null&&n.memoizedState!==null||pt,d=xn;var m=pt;xn=s,(pt=n)&&!m?In(e,l,(l.subtreeFlags&8772)!==0):Mn(e,l),xn=d,pt=m}break;case 30:break;default:Mn(e,l)}}function kd(e){var n=e.alternate;n!==null&&(e.alternate=null,kd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ps(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,Dt=!1;function bn(e,n,l){for(l=l.child;l!==null;)Ld(e,n,l),l=l.sibling}function Ld(e,n,l){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Je,l)}catch{}switch(l.tag){case 26:pt||mn(l,n),bn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||mn(l,n);var s=it,d=Dt;ii(l.type)&&(it=l.stateNode,Dt=!1),bn(e,n,l),fl(l.stateNode),it=s,Dt=d;break;case 5:pt||mn(l,n);case 6:if(s=it,d=Dt,it=null,bn(e,n,l),it=s,Dt=d,it!==null)if(Dt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(l.stateNode)}catch(m){ze(l,n,m)}else try{it.removeChild(l.stateNode)}catch(m){ze(l,n,m)}break;case 18:it!==null&&(Dt?(e=it,Np(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),mo(e)):Np(it,l.stateNode));break;case 4:s=it,d=Dt,it=l.stateNode.containerInfo,Dt=!0,bn(e,n,l),it=s,Dt=d;break;case 0:case 11:case 14:case 15:Qn(2,l,n),pt||Qn(4,l,n),bn(e,n,l);break;case 1:pt||(mn(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&xd(l,n,s)),bn(e,n,l);break;case 21:bn(e,n,l);break;case 22:pt=(s=pt)||l.memoizedState!==null,bn(e,n,l),pt=s;break;default:bn(e,n,l)}}function Gd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mo(e)}catch(l){ze(n,n.return,l)}}}function Od(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mo(e)}catch(l){ze(n,n.return,l)}}function n0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dd),n;default:throw Error(a(435,e.tag))}}function ma(e,n){var l=n0(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=f0.bind(null,e,s);s.then(d,d)}})}function Ut(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(ii(E.type)){it=E.stateNode,Dt=!1;break e}break;case 5:it=E.stateNode,Dt=!1;break e;case 3:case 4:it=E.stateNode.containerInfo,Dt=!0;break e}E=E.return}if(it===null)throw Error(a(160));Ld(m,_,d),it=null,Dt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qd(n,e),n=n.sibling}var sn=null;function qd(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(n,e),kt(e),s&4&&(Qn(3,e,e.return),tl(3,e),Qn(5,e,e.return));break;case 1:Ut(n,e),kt(e),s&512&&(pt||l===null||mn(l,l.return)),s&64&&xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=sn;if(Ut(n,e),kt(e),s&512&&(pt||l===null||mn(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[bo]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),At(m,s,l),m[St]=e,yt(m),s=m;break e;case"link":var _=qp("link","href",d).get(s+(l.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(E,1);break t}}m=d.createElement(s),At(m,s,l),d.head.appendChild(m);break;case"meta":if(_=qp("meta","content",d).get(s+(l.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(E,1);break t}}m=d.createElement(s),At(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[St]=e,yt(m),s=m}e.stateNode=s}else Pp(d,e.type,e.stateNode);else e.stateNode=Op(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Pp(d,e.type,e.stateNode):Op(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&kr(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ut(n,e),kt(e),s&512&&(pt||l===null||mn(l,l.return)),l!==null&&s&4&&kr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ut(n,e),kt(e),s&512&&(pt||l===null||mn(l,l.return)),e.flags&32){d=e.stateNode;try{Gi(d,"")}catch(ne){ze(e,e.return,ne)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,kr(e,d,l!==null?l.memoizedProps:d)),s&1024&&(Or=!0);break;case 6:if(Ut(n,e),kt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(ne){ze(e,e.return,ne)}}break;case 3:if(Ma=null,d=sn,sn=xa(n.containerInfo),Ut(n,e),sn=d,kt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{mo(n.containerInfo)}catch(ne){ze(e,e.return,ne)}Or&&(Or=!1,Pd(e));break;case 4:s=sn,sn=xa(e.stateNode.containerInfo),Ut(n,e),kt(e),sn=s;break;case 12:Ut(n,e),kt(e);break;case 31:Ut(n,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ma(e,s)));break;case 13:Ut(n,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ga=se()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ma(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,k=xn,H=pt;if(xn=k||d,pt=H||A,Ut(n,e),pt=H,xn=k,kt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||xn||pt||wi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=A.stateNode;var Y=A.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ne){ze(A,A.return,ne)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ne){ze(A,A.return,ne)}}}else if(n.tag===18){if(l===null){A=n;try{var O=A.stateNode;d?xp(O,!0):xp(A.stateNode,!1)}catch(ne){ze(A,A.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,ma(e,l))));break;case 19:Ut(n,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ma(e,s)));break;case 30:break;case 21:break;default:Ut(n,e),kt(e)}}function kt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Md(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Lr(e);pa(e,m,d);break;case 5:var _=l.stateNode;l.flags&32&&(Gi(_,""),l.flags&=-33);var E=Lr(e);pa(e,E,_);break;case 3:case 4:var A=l.stateNode.containerInfo,k=Lr(e);Gr(e,k,A);break;default:throw Error(a(161))}}catch(H){ze(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Mn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ud(e,n.alternate,n),n=n.sibling}function wi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qn(4,n,n.return),wi(n);break;case 1:mn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&xd(n,n.return,l),wi(n);break;case 27:fl(n.stateNode);case 26:case 5:mn(n,n.return),wi(n);break;case 22:n.memoizedState===null&&wi(n);break;case 30:wi(n);break;default:wi(n)}e=e.sibling}}function In(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,_=m.flags;switch(m.tag){case 0:case 11:case 15:In(d,m,l),tl(4,m);break;case 1:if(In(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(k){ze(s,s.return,k)}if(s=m,d=s.updateQueue,d!==null){var E=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)gf(A[d],E)}catch(k){ze(s,s.return,k)}}l&&_&64&&Nd(m),nl(m,m.return);break;case 27:Id(m);case 26:case 5:In(d,m,l),l&&s===null&&_&4&&bd(m),nl(m,m.return);break;case 12:In(d,m,l);break;case 31:In(d,m,l),l&&_&4&&Gd(d,m);break;case 13:In(d,m,l),l&&_&4&&Od(d,m);break;case 22:m.memoizedState===null&&In(d,m,l),nl(m,m.return);break;case 30:break;default:In(d,m,l)}n=n.sibling}}function qr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Bo(l))}function Pr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function rn(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hd(e,n,l,s),n=n.sibling}function Hd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,l,s),d&2048&&tl(9,n);break;case 1:rn(e,n,l,s);break;case 3:rn(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(d&2048){rn(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ze(n,n.return,A)}}else rn(e,n,l,s);break;case 31:rn(e,n,l,s);break;case 13:rn(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,_=n.alternate,n.memoizedState!==null?m._visibility&2?rn(e,n,l,s):il(e,n):m._visibility&2?rn(e,n,l,s):(m._visibility|=2,no(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&qr(_,n);break;case 24:rn(e,n,l,s),d&2048&&Pr(n.alternate,n);break;default:rn(e,n,l,s)}}function no(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,_=n,E=l,A=s,k=_.flags;switch(_.tag){case 0:case 11:case 15:no(m,_,E,A,d),tl(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?no(m,_,E,A,d):il(m,_):(H._visibility|=2,no(m,_,E,A,d)),d&&k&2048&&qr(_.alternate,_);break;case 24:no(m,_,E,A,d),d&&k&2048&&Pr(_.alternate,_);break;default:no(m,_,E,A,d)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:il(l,s),d&2048&&qr(s.alternate,s);break;case 24:il(l,s),d&2048&&Pr(s.alternate,s);break;default:il(l,s)}n=n.sibling}}var ol=8192;function io(e,n,l){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Vd(e,n,l),e=e.sibling}function Vd(e,n,l){switch(e.tag){case 26:io(e,n,l),e.flags&ol&&e.memoizedState!==null&&B0(l,sn,e.memoizedState,e.memoizedProps);break;case 5:io(e,n,l);break;case 3:case 4:var s=sn;sn=xa(e.stateNode.containerInfo),io(e,n,l),sn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ol,ol=16777216,io(e,n,l),ol=s):io(e,n,l));break;default:io(e,n,l)}}function Bd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];vt=s,Fd(s,e)}Bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zd(e),e=e.sibling}function zd(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ha(e)):ll(e);break;default:ll(e)}}function ha(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];vt=s,Fd(s,e)}Bd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qn(8,n,n.return),ha(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ha(n));break;default:ha(n)}e=e.sibling}}function Fd(e,n){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:Qn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Bo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,vt=s;else e:for(l=e;vt!==null;){s=vt;var d=s.sibling,m=s.return;if(kd(s),s===l){vt=null;break e}if(d!==null){d.return=m,vt=d;break e}vt=m}}}var i0={getCacheForType:function(e){var n=Et(ct),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return Et(ct).controller.signal}},o0=typeof WeakMap=="function"?WeakMap:Map,Ge=0,We=null,Ae=null,we=0,Be=0,Ft=null,Wn=!1,oo=!1,Hr=!1,Dn=0,lt=0,Zn=0,Ni=0,Vr=0,Yt=0,lo=0,al=null,Lt=null,Br=!1,ga=0,Yd=0,ya=1/0,va=null,jn=null,mt=0,ei=null,ao=null,Un=0,zr=0,Fr=null,Jd=null,sl=0,Yr=null;function Jt(){return(Ge&2)!==0&&we!==0?we&-we:M.T!==null?Wr():sc()}function Kd(){if(Yt===0)if((we&536870912)===0||be){var e=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),Yt=e}else Yt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Yt}function Gt(e,n,l){(e===We&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(so(e,0),ti(e,we,Yt,!1)),xo(e,l),((Ge&2)===0||e!==We)&&(e===We&&((Ge&2)===0&&(Ni|=l),lt===4&&ti(e,we,Yt,!1)),hn(e))}function $d(e,n,l){if((Ge&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||No(e,n),d=s?s0(e,n):Kr(e,n,!0),m=s;do{if(d===0){oo&&!s&&ti(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!l0(l)){d=Kr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=e;d=al;var A=E.current.memoizedState.isDehydrated;if(A&&(so(E,_).flags|=256),_=Kr(E,_,!1),_!==2){if(Hr&&!A){E.errorRecoveryDisabledLanes|=m,Ni|=m,d=4;break e}m=Lt,Lt=d,m!==null&&(Lt===null?Lt=m:Lt.push.apply(Lt,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){so(e,0),ti(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ti(s,n,Yt,!Wn);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ga+300-se(),10<d)){if(ti(s,n,Yt,!Wn),xl(s,0,!0)!==0)break e;Un=n,s.timeoutHandle=Rp(Xd.bind(null,s,l,Lt,va,Br,n,Yt,Ni,lo,Wn,m,"Throttled",-0,0),d);break e}Xd(s,l,Lt,va,Br,n,Yt,Ni,lo,Wn,m,null,-0,0)}}break}while(!0);hn(e)}function Xd(e,n,l,s,d,m,_,E,A,k,H,Y,L,O){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},Vd(n,m,Y);var ne=(m&62914560)===m?ga-se():(m&4194048)===m?Yd-se():0;if(ne=z0(Y,ne),ne!==null){Un=m,e.cancelPendingCommit=ne(ip.bind(null,e,n,m,l,s,d,_,E,A,H,Y,null,L,O)),ti(e,m,_,!k);return}}ip(e,n,m,l,s,d,_,E,A)}function l0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Ht(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ti(e,n,l,s){n&=~Vr,n&=~Ni,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Pt(d),_=1<<m;s[m]=-1,d&=~_}l!==0&&oc(e,l,n)}function _a(){return(Ge&6)===0?(rl(0),!1):!0}function Jr(){if(Ae!==null){if(Be===0)var e=Ae.return;else e=Ae,En=vi=null,rr(e),Wi=null,Fo=0,e=Ae;for(;e!==null;)wd(e.alternate,e),e=e.return;Ae=null}}function so(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,R0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Un=0,Jr(),We=e,Ae=l=Sn(e.current,null),we=n,Be=0,Ft=null,Wn=!1,oo=No(e,n),Hr=!1,lo=Yt=Vr=Ni=Zn=lt=0,Lt=al=null,Br=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Pt(s),m=1<<d;n|=e[d],s&=~m}return Dn=n,Hl(),l}function Qd(e,n){ve=null,M.H=Zo,n===Qi||n===$l?(n=df(),Be=3):n===Qs?(n=df(),Be=4):Be=n===Ar?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ft=n,Ae===null&&(lt=1,ra(e,Qt(n,e.current)))}function Wd(){var e=Bt.current;return e===null?!0:(we&4194048)===we?en===null:(we&62914560)===we||(we&536870912)!==0?e===en:!1}function Zd(){var e=M.H;return M.H=Zo,e===null?Zo:e}function jd(){var e=M.A;return M.A=i0,e}function Sa(){lt=4,Wn||(we&4194048)!==we&&Bt.current!==null||(oo=!0),(Zn&134217727)===0&&(Ni&134217727)===0||We===null||ti(We,we,Yt,!1)}function Kr(e,n,l){var s=Ge;Ge|=2;var d=Zd(),m=jd();(We!==e||we!==n)&&(va=null,so(e,n)),n=!1;var _=lt;e:do try{if(Be!==0&&Ae!==null){var E=Ae,A=Ft;switch(Be){case 8:Jr(),_=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var k=Be;if(Be=0,Ft=null,ro(e,E,A,k),l&&oo){_=0;break e}break;default:k=Be,Be=0,Ft=null,ro(e,E,A,k)}}a0(),_=lt;break}catch(H){Qd(e,H)}while(!0);return n&&e.shellSuspendCounter++,En=vi=null,Ge=s,M.H=d,M.A=m,Ae===null&&(We=null,we=0,Hl()),_}function a0(){for(;Ae!==null;)ep(Ae)}function s0(e,n){var l=Ge;Ge|=2;var s=Zd(),d=jd();We!==e||we!==n?(va=null,ya=se()+500,so(e,n)):oo=No(e,n);e:do try{if(Be!==0&&Ae!==null){n=Ae;var m=Ft;t:switch(Be){case 1:Be=0,Ft=null,ro(e,n,m,1);break;case 2:case 9:if(cf(m)){Be=0,Ft=null,tp(n);break}n=function(){Be!==2&&Be!==9||We!==e||(Be=7),hn(e)},m.then(n,n);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:cf(m)?(Be=0,Ft=null,tp(n)):(Be=0,Ft=null,ro(e,n,m,7));break;case 5:var _=null;switch(Ae.tag){case 26:_=Ae.memoizedState;case 5:case 27:var E=Ae;if(_?Hp(_):E.stateNode.complete){Be=0,Ft=null;var A=E.sibling;if(A!==null)Ae=A;else{var k=E.return;k!==null?(Ae=k,Ta(k)):Ae=null}break t}}Be=0,Ft=null,ro(e,n,m,5);break;case 6:Be=0,Ft=null,ro(e,n,m,6);break;case 8:Jr(),lt=6;break e;default:throw Error(a(462))}}r0();break}catch(H){Qd(e,H)}while(!0);return En=vi=null,M.H=s,M.A=d,Ge=l,Ae!==null?0:(We=null,we=0,Hl(),lt)}function r0(){for(;Ae!==null&&!ee();)ep(Ae)}function ep(e){var n=Ad(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,n===null?Ta(e):Ae=n}function tp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=vd(l,n,n.pendingProps,n.type,void 0,we);break;case 11:n=vd(l,n,n.pendingProps,n.type.render,n.ref,we);break;case 5:rr(n);default:wd(l,n),n=Ae=Zc(n,Dn),n=Ad(l,n,Dn)}e.memoizedProps=e.pendingProps,n===null?Ta(e):Ae=n}function ro(e,n,l,s){En=vi=null,rr(n),Wi=null,Fo=0;var d=n.return;try{if(Qy(e,d,n,l,we)){lt=1,ra(e,Qt(l,e.current)),Ae=null;return}}catch(m){if(d!==null)throw Ae=d,m;lt=1,ra(e,Qt(l,e.current)),Ae=null;return}n.flags&32768?(be||s===1?e=!0:oo||(we&536870912)!==0?e=!1:(Wn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Bt.current,s!==null&&s.tag===13&&(s.flags|=16384))),np(n,e)):Ta(n)}function Ta(e){var n=e;do{if((n.flags&32768)!==0){np(n,Wn);return}e=n.return;var l=jy(n.alternate,n,Dn);if(l!==null){Ae=l;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=e}while(n!==null);lt===0&&(lt=5)}function np(e,n){do{var l=e0(e.alternate,e);if(l!==null){l.flags&=32767,Ae=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=l}while(e!==null);lt=6,Ae=null}function ip(e,n,l,s,d,m,_,E,A){e.cancelPendingCommit=null;do Ea();while(mt!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Ls,Vg(e,l,m,_,E,A),e===We&&(Ae=We=null,we=0),ao=n,ei=e,Un=l,zr=m,Fr=d,Jd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d0(gt,function(){return rp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,d=X.p,X.p=2,_=Ge,Ge|=4;try{t0(e,n,l)}finally{Ge=_,X.p=d,M.T=s}}mt=1,op(),lp(),ap()}}function op(){if(mt===1){mt=0;var e=ei,n=ao,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var s=X.p;X.p=2;var d=Ge;Ge|=4;try{qd(n,e);var m=lu,_=zc(e.containerInfo),E=m.focusedElem,A=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&Bc(E.ownerDocument.documentElement,E)){if(A!==null&&Ms(E)){var k=A.start,H=A.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,L=Y&&Y.defaultView||window;if(L.getSelection){var O=L.getSelection(),ne=E.textContent.length,pe=Math.min(A.start,ne),Xe=A.end===void 0?pe:Math.min(A.end,ne);!O.extend&&pe>Xe&&(_=Xe,Xe=pe,pe=_);var I=Vc(E,pe),N=Vc(E,Xe);if(I&&N&&(O.rangeCount!==1||O.anchorNode!==I.node||O.anchorOffset!==I.offset||O.focusNode!==N.node||O.focusOffset!==N.offset)){var D=Y.createRange();D.setStart(I.node,I.offset),O.removeAllRanges(),pe>Xe?(O.addRange(D),O.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),O.addRange(D))}}}}for(Y=[],O=E;O=O.parentNode;)O.nodeType===1&&Y.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var V=Y[E];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ka=!!ou,lu=ou=null}finally{Ge=d,X.p=s,M.T=l}}e.current=n,mt=2}}function lp(){if(mt===2){mt=0;var e=ei,n=ao,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var s=X.p;X.p=2;var d=Ge;Ge|=4;try{Ud(e,n.alternate,n)}finally{Ge=d,X.p=s,M.T=l}}mt=3}}function ap(){if(mt===4||mt===3){mt=0,te();var e=ei,n=ao,l=Un,s=Jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mt=5:(mt=0,ao=ei=null,sp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(jn=null),fs(l),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Je,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=M.T,d=X.p,X.p=2,M.T=null;try{for(var m=e.onRecoverableError,_=0;_<s.length;_++){var E=s[_];m(E.value,{componentStack:E.stack})}}finally{M.T=n,X.p=d}}(Un&3)!==0&&Ea(),hn(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Yr?sl++:(sl=0,Yr=e):sl=0,rl(0)}}function sp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function Ea(){return op(),lp(),ap(),rp()}function rp(){if(mt!==5)return!1;var e=ei,n=zr;zr=0;var l=fs(Un),s=M.T,d=X.p;try{X.p=32>l?32:l,M.T=null,l=Fr,Fr=null;var m=ei,_=Un;if(mt=0,ao=ei=null,Un=0,(Ge&6)!==0)throw Error(a(331));var E=Ge;if(Ge|=4,zd(m.current),Hd(m,m.current,_,l),Ge=E,rl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Je,m)}catch{}return!0}finally{X.p=d,M.T=s,sp(e,n)}}function up(e,n,l){n=Qt(l,n),n=Cr(e.stateNode,n,2),e=Kn(e,n,2),e!==null&&(xo(e,2),hn(e))}function ze(e,n,l){if(e.tag===3)up(e,e,l);else for(;n!==null;){if(n.tag===3){up(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(jn===null||!jn.has(s))){e=Qt(l,e),l=cd(2),s=Kn(n,l,2),s!==null&&(fd(l,s,n,e),xo(s,2),hn(s));break}}n=n.return}}function $r(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new o0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(Hr=!0,d.add(l),e=u0.bind(null,e,n,l),n.then(e,e))}function u0(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,We===e&&(we&l)===l&&(lt===4||lt===3&&(we&62914560)===we&&300>se()-ga?(Ge&2)===0&&so(e,0):Vr|=l,lo===we&&(lo=0)),hn(e)}function cp(e,n){n===0&&(n=ic()),e=hi(e,n),e!==null&&(xo(e,n),hn(e))}function c0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),cp(e,l)}function f0(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),cp(e,l)}function d0(e,n){return ut(e,n)}var Ca=null,uo=null,Xr=!1,Aa=!1,Qr=!1,ni=0;function hn(e){e!==uo&&e.next===null&&(uo===null?Ca=uo=e:uo=uo.next=e),Aa=!0,Xr||(Xr=!0,m0())}function rl(e,n){if(!Qr&&Aa){Qr=!0;do for(var l=!1,s=Ca;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var _=s.suspendedLanes,E=s.pingedLanes;m=(1<<31-Pt(42|e)+1)-1,m&=d&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,mp(s,m))}else m=we,m=xl(s,s===We?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||No(s,m)||(l=!0,mp(s,m));s=s.next}while(l);Qr=!1}}function p0(){fp()}function fp(){Aa=Xr=!1;var e=0;ni!==0&&A0()&&(e=ni);for(var n=se(),l=null,s=Ca;s!==null;){var d=s.next,m=dp(s,n);m===0?(s.next=null,l===null?Ca=d:l.next=d,d===null&&(uo=l)):(l=s,(e!==0||(m&3)!==0)&&(Aa=!0)),s=d}mt!==0&&mt!==5||rl(e),ni!==0&&(ni=0)}function dp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var _=31-Pt(m),E=1<<_,A=d[_];A===-1?((E&l)===0||(E&s)!==0)&&(d[_]=Hg(E,n)):A<=n&&(e.expiredLanes|=E),m&=~E}if(n=We,l=we,l=xl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&G(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||No(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&G(s),fs(l)){case 2:case 8:l=Ze;break;case 32:l=gt;break;case 268435456:l=gn;break;default:l=gt}return s=pp.bind(null,e),l=ut(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&G(s),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,n){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ea()&&e.callbackNode!==l)return null;var s=we;return s=xl(e,e===We?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:($d(e,s,n),dp(e,se()),e.callbackNode!=null&&e.callbackNode===l?pp.bind(null,e):null)}function mp(e,n){if(Ea())return null;$d(e,n,!0)}function m0(){w0(function(){(Ge&6)!==0?ut(je,p0):fp()})}function Wr(){if(ni===0){var e=$i;e===0&&(e=Rl,Rl<<=1,(Rl&261888)===0&&(Rl=256)),ni=e}return ni}function hp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dl(""+e)}function gp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function h0(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=hp((d[Mt]||null).action),_=s.submitter;_&&(n=(n=_[Mt]||null)?hp(n.formAction):_.getAttribute("formAction"),n!==null&&(m=n,_=null));var E=new Gl("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ni!==0){var A=_?gp(d,_):new FormData(d);yr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=_?gp(d,_):new FormData(d),yr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Zr=0;Zr<ks.length;Zr++){var jr=ks[Zr],g0=jr.toLowerCase(),y0=jr[0].toUpperCase()+jr.slice(1);an(g0,"on"+y0)}an(Jc,"onAnimationEnd"),an(Kc,"onAnimationIteration"),an($c,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Uy,"onTransitionRun"),an(ky,"onTransitionStart"),an(Ly,"onTransitionCancel"),an(Xc,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function yp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var _=s.length-1;0<=_;_--){var E=s[_],A=E.instance,k=E.currentTarget;if(E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=k;try{m(d)}catch(H){Pl(H)}d.currentTarget=null,m=A}else for(_=0;_<s.length;_++){if(E=s[_],A=E.instance,k=E.currentTarget,E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=k;try{m(d)}catch(H){Pl(H)}d.currentTarget=null,m=A}}}}function Re(e,n){var l=n[ds];l===void 0&&(l=n[ds]=new Set);var s=e+"__bubble";l.has(s)||(vp(n,e,2,!1),l.add(s))}function eu(e,n,l){var s=0;n&&(s|=4),vp(l,e,s,n)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[Ra]){e[Ra]=!0,cc.forEach(function(l){l!=="selectionchange"&&(v0.has(l)||eu(l,!1,e),eu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ra]||(n[Ra]=!0,eu("selectionchange",!1,n))}}function vp(e,n,l,s){switch(Kp(n)){case 2:var d=J0;break;case 8:d=K0;break;default:d=gu}l=d.bind(null,n,l,e),d=void 0,!Ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function nu(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var _=s.tag;if(_===3||_===4){var E=s.stateNode.containerInfo;if(E===d)break;if(_===4)for(_=s.return;_!==null;){var A=_.tag;if((A===3||A===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;E!==null;){if(_=Ii(E),_===null)return;if(A=_.tag,A===5||A===6||A===26||A===27){s=m=_;continue e}E=E.parentNode}}s=s.return}Ec(function(){var k=m,H=_s(l),Y=[];e:{var L=Qc.get(e);if(L!==void 0){var O=Gl,ne=e;switch(e){case"keypress":if(kl(l)===0)break e;case"keydown":case"keyup":O=fy;break;case"focusin":ne="focus",O=Rs;break;case"focusout":ne="blur",O=Rs;break;case"beforeblur":case"afterblur":O=Rs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=my;break;case Jc:case Kc:case $c:O=ny;break;case Xc:O=gy;break;case"scroll":case"scrollend":O=Wg;break;case"wheel":O=vy;break;case"copy":case"cut":case"paste":O=oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Nc;break;case"toggle":case"beforetoggle":O=Sy}var pe=(n&4)!==0,Xe=!pe&&(e==="scroll"||e==="scrollend"),I=pe?L!==null?L+"Capture":null:L;pe=[];for(var N=k,D;N!==null;){var V=N;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||I===null||(V=Io(N,I),V!=null&&pe.push(cl(N,V,D))),Xe)break;N=N.return}0<pe.length&&(L=new O(L,ne,null,l,H),Y.push({event:L,listeners:pe}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",L&&l!==vs&&(ne=l.relatedTarget||l.fromElement)&&(Ii(ne)||ne[Mi]))break e;if((O||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,O?(ne=l.relatedTarget||l.toElement,O=k,ne=ne?Ii(ne):null,ne!==null&&(Xe=c(ne),pe=ne.tag,ne!==Xe||pe!==5&&pe!==27&&pe!==6)&&(ne=null)):(O=null,ne=k),O!==ne)){if(pe=Rc,V="onMouseLeave",I="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Nc,V="onPointerLeave",I="onPointerEnter",N="pointer"),Xe=O==null?L:Mo(O),D=ne==null?L:Mo(ne),L=new pe(V,N+"leave",O,l,H),L.target=Xe,L.relatedTarget=D,V=null,Ii(H)===k&&(pe=new pe(I,N+"enter",ne,l,H),pe.target=D,pe.relatedTarget=Xe,V=pe),Xe=V,O&&ne)t:{for(pe=_0,I=O,N=ne,D=0,V=I;V;V=pe(V))D++;V=0;for(var ce=N;ce;ce=pe(ce))V++;for(;0<D-V;)I=pe(I),D--;for(;0<V-D;)N=pe(N),V--;for(;D--;){if(I===N||N!==null&&I===N.alternate){pe=I;break t}I=pe(I),N=pe(N)}pe=null}else pe=null;O!==null&&_p(Y,L,O,pe,!1),ne!==null&&Xe!==null&&_p(Y,Xe,ne,pe,!0)}}e:{if(L=k?Mo(k):window,O=L.nodeName&&L.nodeName.toLowerCase(),O==="select"||O==="input"&&L.type==="file")var De=Lc;else if(Uc(L))if(Gc)De=My;else{De=xy;var le=Ny}else O=L.nodeName,!O||O.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?k&&ys(k.elementType)&&(De=Lc):De=by;if(De&&(De=De(e,k))){kc(Y,De,l,H);break e}le&&le(e,L,k),e==="focusout"&&k&&L.type==="number"&&k.memoizedProps.value!=null&&gs(L,"number",L.value)}switch(le=k?Mo(k):window,e){case"focusin":(Uc(le)||le.contentEditable==="true")&&(Hi=le,Is=k,Po=null);break;case"focusout":Po=Is=Hi=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,Fc(Y,l,H);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":Fc(Y,l,H)}var Se;if(Ns)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Pi?Ic(e,l)&&(Ne="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(xc&&l.locale!=="ko"&&(Pi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Pi&&(Se=Cc()):(Hn=H,Es="value"in Hn?Hn.value:Hn.textContent,Pi=!0)),le=wa(k,Ne),0<le.length&&(Ne=new wc(Ne,e,null,l,H),Y.push({event:Ne,listeners:le}),Se?Ne.data=Se:(Se=Dc(l),Se!==null&&(Ne.data=Se)))),(Se=Ey?Cy(e,l):Ay(e,l))&&(Ne=wa(k,"onBeforeInput"),0<Ne.length&&(le=new wc("onBeforeInput","beforeinput",null,l,H),Y.push({event:le,listeners:Ne}),le.data=Se)),h0(Y,e,k,l,H)}yp(Y,n)})}function cl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function wa(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Io(e,l),d!=null&&s.unshift(cl(e,d,m)),d=Io(e,n),d!=null&&s.push(cl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function _0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _p(e,n,l,s,d){for(var m=n._reactName,_=[];l!==null&&l!==s;){var E=l,A=E.alternate,k=E.stateNode;if(E=E.tag,A!==null&&A===s)break;E!==5&&E!==26&&E!==27||k===null||(A=k,d?(k=Io(l,m),k!=null&&_.unshift(cl(l,k,A))):d||(k=Io(l,m),k!=null&&_.push(cl(l,k,A)))),l=l.return}_.length!==0&&e.push({event:n,listeners:_})}var S0=/\r\n?/g,T0=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(S0,`
`).replace(T0,"")}function Tp(e,n){return n=Sp(n),Sp(e)===n}function $e(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Gi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Gi(e,""+s);break;case"className":Ml(e,"class",s);break;case"tabIndex":Ml(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(e,l,s);break;case"style":Sc(e,s,m);break;case"data":if(n!=="object"){Ml(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Dl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&$e(e,n,"name",d.name,d,null),$e(e,n,"formEncType",d.formEncType,d,null),$e(e,n,"formMethod",d.formMethod,d,null),$e(e,n,"formTarget",d.formTarget,d,null)):($e(e,n,"encType",d.encType,d,null),$e(e,n,"method",d.method,d,null),$e(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Dl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=vn);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Dl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Re("beforetoggle",e),Re("toggle",e),bl(e,"popover",s);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":bl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xg.get(l)||l,bl(e,l,s))}}function iu(e,n,l,s,d,m){switch(l){case"style":Sc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Gi(e,s):(typeof s=="number"||typeof s=="bigint")&&Gi(e,""+s);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"onClick":s!=null&&(e.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[Mt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):bl(e,l,s)}}}function At(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var _=l[m];if(_!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(e,n,m,_,l,null)}}d&&$e(e,n,"srcSet",l.srcSet,l,null),s&&$e(e,n,"src",l.src,l,null);return;case"input":Re("invalid",e);var E=m=_=d=null,A=null,k=null;for(s in l)if(l.hasOwnProperty(s)){var H=l[s];if(H!=null)switch(s){case"name":d=H;break;case"type":_=H;break;case"checked":A=H;break;case"defaultChecked":k=H;break;case"value":m=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:$e(e,n,s,H,l,null)}}gc(e,m,E,A,k,_,d,!1);return;case"select":Re("invalid",e),s=_=m=null;for(d in l)if(l.hasOwnProperty(d)&&(E=l[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":s=E;default:$e(e,n,d,E,l,null)}n=m,l=_,e.multiple=!!s,n!=null?Li(e,!!s,n,!1):l!=null&&Li(e,!!s,l,!0);return;case"textarea":Re("invalid",e),m=d=s=null;for(_ in l)if(l.hasOwnProperty(_)&&(E=l[_],E!=null))switch(_){case"value":s=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$e(e,n,_,E,l,null)}vc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$e(e,n,A,s,l,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(s=0;s<ul.length;s++)Re(ul[s],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(s=l[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(e,n,k,s,l,null)}return;default:if(ys(n)){for(H in l)l.hasOwnProperty(H)&&(s=l[H],s!==void 0&&iu(e,n,H,s,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(s=l[E],s!=null&&$e(e,n,E,s,l,null))}function E0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,E=null,A=null,k=null,H=null;for(O in l){var Y=l[O];if(l.hasOwnProperty(O)&&Y!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=Y;default:s.hasOwnProperty(O)||$e(e,n,O,null,s,Y)}}for(var L in s){var O=s[L];if(Y=l[L],s.hasOwnProperty(L)&&(O!=null||Y!=null))switch(L){case"type":m=O;break;case"name":d=O;break;case"checked":k=O;break;case"defaultChecked":H=O;break;case"value":_=O;break;case"defaultValue":E=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:O!==Y&&$e(e,n,L,O,s,Y)}}hs(e,_,E,A,k,H,m,d);return;case"select":O=_=E=L=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":O=A;default:s.hasOwnProperty(m)||$e(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":L=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==A&&$e(e,n,d,m,s,A)}n=E,l=_,s=O,L!=null?Li(e,!!l,L,!1):!!s!=!!l&&(n!=null?Li(e,!!l,n,!0):Li(e,!!l,l?[]:"",!1));return;case"textarea":O=L=null;for(E in l)if(d=l[E],l.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(e,n,E,null,s,d)}for(_ in s)if(d=s[_],m=l[_],s.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":L=d;break;case"defaultValue":O=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&$e(e,n,_,d,s,m)}yc(e,L,O);return;case"option":for(var ne in l)if(L=l[ne],l.hasOwnProperty(ne)&&L!=null&&!s.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:$e(e,n,ne,null,s,L)}for(A in s)if(L=s[A],O=l[A],s.hasOwnProperty(A)&&L!==O&&(L!=null||O!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:$e(e,n,A,L,s,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)L=l[pe],l.hasOwnProperty(pe)&&L!=null&&!s.hasOwnProperty(pe)&&$e(e,n,pe,null,s,L);for(k in s)if(L=s[k],O=l[k],s.hasOwnProperty(k)&&L!==O&&(L!=null||O!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:$e(e,n,k,L,s,O)}return;default:if(ys(n)){for(var Xe in l)L=l[Xe],l.hasOwnProperty(Xe)&&L!==void 0&&!s.hasOwnProperty(Xe)&&iu(e,n,Xe,void 0,s,L);for(H in s)L=s[H],O=l[H],!s.hasOwnProperty(H)||L===O||L===void 0&&O===void 0||iu(e,n,H,L,s,O);return}}for(var I in l)L=l[I],l.hasOwnProperty(I)&&L!=null&&!s.hasOwnProperty(I)&&$e(e,n,I,null,s,L);for(Y in s)L=s[Y],O=l[Y],!s.hasOwnProperty(Y)||L===O||L==null&&O==null||$e(e,n,Y,L,s,O)}function Ep(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,_=d.initiatorType,E=d.duration;if(m&&E&&Ep(_)){for(_=0,E=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],k=A.startTime;if(k>E)break;var H=A.transferSize,Y=A.initiatorType;H&&Ep(Y)&&(A=A.responseEnd,_+=H*(A<E?1:(E-k)/(A-k)))}if(--s,n+=8*(m+_)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ou=null,lu=null;function Na(e){return e.nodeType===9?e:e.ownerDocument}function Cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ap(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function au(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var su=null;function A0(){var e=window.event;return e&&e.type==="popstate"?e===su?!1:(su=e,!0):(su=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(e){return wp.resolve(null).then(e).catch(N0)}:Rp;function N0(e){setTimeout(function(){throw e})}function ii(e){return e==="head"}function Np(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),mo(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")fl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,fl(l);for(var m=l.firstChild;m;){var _=m.nextSibling,E=m.nodeName;m[bo]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=_}}else l==="body"&&fl(e.ownerDocument.body);l=d}while(l);mo(n)}function xp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function ru(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ru(l),ps(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function x0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[bo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function b0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=tn(e.nextSibling),e===null))return null;return e}function bp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function M0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function tn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var fu=null;function Mp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return tn(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Ip(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Dp(e,n,l){switch(n=Na(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ps(e)}var nn=new Map,Up=new Set;function xa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=X.d;X.d={f:I0,r:D0,D:U0,C:k0,L:L0,m:G0,X:q0,S:O0,M:P0};function I0(){var e=kn.f(),n=_a();return e||n}function D0(e){var n=Di(e);n!==null&&n.tag===5&&n.type==="form"?Qf(n):kn.r(e)}var co=typeof document>"u"?null:document;function kp(e,n,l){var s=co;if(s&&typeof n=="string"&&n){var d=$t(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Up.has(d)||(Up.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),At(n,"link",e),yt(n),s.head.appendChild(n)))}}function U0(e){kn.D(e),kp("dns-prefetch",e,null)}function k0(e,n){kn.C(e,n),kp("preconnect",e,n)}function L0(e,n,l){kn.L(e,n,l);var s=co;if(s&&e&&n){var d='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+$t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+$t(l.imageSizes)+'"]')):d+='[href="'+$t(e)+'"]';var m=d;switch(n){case"style":m=fo(e);break;case"script":m=po(e)}nn.has(m)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),nn.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(dl(m))||n==="script"&&s.querySelector(pl(m))||(n=s.createElement("link"),At(n,"link",e),yt(n),s.head.appendChild(n)))}}function G0(e,n){kn.m(e,n);var l=co;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=po(e)}if(!nn.has(m)&&(e=S({rel:"modulepreload",href:e},n),nn.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pl(m)))return}s=l.createElement("link"),At(s,"link",e),yt(s),l.head.appendChild(s)}}}function O0(e,n,l){kn.S(e,n,l);var s=co;if(s&&e){var d=Ui(s).hoistableStyles,m=fo(e);n=n||"default";var _=d.get(m);if(!_){var E={loading:0,preload:null};if(_=s.querySelector(dl(m)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=nn.get(m))&&du(e,l);var A=_=s.createElement("link");yt(A),At(A,"link",e),A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ba(_,n,s)}_={type:"stylesheet",instance:_,count:1,state:E},d.set(m,_)}}}function q0(e,n){kn.X(e,n);var l=co;if(l&&e){var s=Ui(l).hoistableScripts,d=po(e),m=s.get(d);m||(m=l.querySelector(pl(d)),m||(e=S({src:e,async:!0},n),(n=nn.get(d))&&pu(e,n),m=l.createElement("script"),yt(m),At(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function P0(e,n){kn.M(e,n);var l=co;if(l&&e){var s=Ui(l).hoistableScripts,d=po(e),m=s.get(d);m||(m=l.querySelector(pl(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=nn.get(d))&&pu(e,n),m=l.createElement("script"),yt(m),At(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Lp(e,n,l,s){var d=(d=ue.current)?xa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=fo(l.href),l=Ui(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=fo(l.href);var m=Ui(d).hoistableStyles,_=m.get(e);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,_),(m=d.querySelector(dl(e)))&&!m._p&&(_.instance=m,_.state.loading=5),nn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},nn.set(e,l),m||H0(d,e,l,_.state))),n&&s===null)throw Error(a(528,""));return _}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=po(l),l=Ui(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function fo(e){return'href="'+$t(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function Gp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function H0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),At(n,"link",l),yt(n),e.head.appendChild(n))}function po(e){return'[src="'+$t(e)+'"]'}function pl(e){return"script[async]"+e}function Op(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+$t(l.href)+'"]');if(s)return n.instance=s,yt(s),s;var d=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),yt(s),At(s,"style",d),ba(s,l.precedence,e),n.instance=s;case"stylesheet":d=fo(l.href);var m=e.querySelector(dl(d));if(m)return n.state.loading|=4,n.instance=m,yt(m),m;s=Gp(l),(d=nn.get(d))&&du(s,d),m=(e.ownerDocument||e).createElement("link"),yt(m);var _=m;return _._p=new Promise(function(E,A){_.onload=E,_.onerror=A}),At(m,"link",s),n.state.loading|=4,ba(m,l.precedence,e),n.instance=m;case"script":return m=po(l.src),(d=e.querySelector(pl(m)))?(n.instance=d,yt(d),d):(s=l,(d=nn.get(m))&&(s=S({},l),pu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),yt(d),At(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ba(s,l.precedence,e));return n.instance}function ba(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,_=0;_<s.length;_++){var E=s[_];if(E.dataset.precedence===n)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function du(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ma=null;function qp(e,n,l){if(Ma===null){var s=new Map,d=Ma=new Map;d.set(l,s)}else d=Ma,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[bo]||m[St]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(n)||"";_=e+_;var E=s.get(_);E?E.push(m):s.set(_,[m])}}return s}function Pp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function V0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function B0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=fo(s.href),m=n.querySelector(dl(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ia.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,yt(m);return}m=n.ownerDocument||n,s=Gp(s),(d=nn.get(d))&&du(s,d),m=m.createElement("link"),yt(m);var _=m;_._p=new Promise(function(E,A){_.onload=E,_.onerror=A}),At(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ia.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var mu=0;function z0(e,n){return e.stylesheets&&e.count===0&&Ua(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ua(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&mu===0&&(mu=62500*C0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ua(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>mu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ia(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ua(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Da=null;function Ua(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Da=new Map,n.forEach(F0,e),Da=null,Ia.call(e))}function F0(e,n){if(!(n.state.loading&4)){var l=Da.get(e);if(l)var s=l.get(null);else{l=new Map,Da.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),s=_)}s&&l.set(null,s)}d=n.instance,_=d.getAttribute("data-precedence"),m=l.get(_)||s,m===s&&l.set(null,d),l.set(_,d),this.count++,s=Ia.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:K,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Y0(e,n,l,s,d,m,_,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Vp(e,n,l,s,d,m,_,E,A,k,H,Y){return e=new Y0(e,n,l,_,A,k,H,Y,E),n=1,m===!0&&(n|=24),m=Vt(3,null,null,n),e.current=m,m.stateNode=e,n=Ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Ws(m),e}function Bp(e){return e?(e=zi,e):zi}function zp(e,n,l,s,d,m){d=Bp(d),s.context===null?s.context=d:s.pendingContext=d,s=Jn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Kn(e,s,n),l!==null&&(Gt(l,e,n),Jo(l,e,n))}function Fp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function hu(e,n){Fp(e,n),(e=e.alternate)&&Fp(e,n)}function Yp(e){if(e.tag===13||e.tag===31){var n=hi(e,67108864);n!==null&&Gt(n,e,67108864),hu(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var n=Jt();n=cs(n);var l=hi(e,n);l!==null&&Gt(l,e,n),hu(e,n)}}var ka=!0;function J0(e,n,l,s){var d=M.T;M.T=null;var m=X.p;try{X.p=2,gu(e,n,l,s)}finally{X.p=m,M.T=d}}function K0(e,n,l,s){var d=M.T;M.T=null;var m=X.p;try{X.p=8,gu(e,n,l,s)}finally{X.p=m,M.T=d}}function gu(e,n,l,s){if(ka){var d=yu(s);if(d===null)nu(e,n,s,La,l),$p(e,s);else if(X0(d,e,n,l,s))s.stopPropagation();else if($p(e,s),n&4&&-1<$0.indexOf(e)){for(;d!==null;){var m=Di(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ci(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var A=1<<31-Pt(_);E.entanglements[1]|=A,_&=~A}hn(m),(Ge&6)===0&&(ya=se()+500,rl(0))}}break;case 31:case 13:E=hi(m,2),E!==null&&Gt(E,m,2),_a(),hu(m,2)}if(m=yu(s),m===null&&nu(e,n,s,La,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else nu(e,n,s,null,l)}}function yu(e){return e=_s(e),vu(e)}var La=null;function vu(e){if(La=null,e=Ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return La=e,null}function Kp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case je:return 2;case Ze:return 8;case gt:case wo:return 32;case gn:return 268435456;default:return 32}default:return 32}}var _u=!1,oi=null,li=null,ai=null,hl=new Map,gl=new Map,si=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $p(e,n){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Di(n),n!==null&&Yp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function X0(e,n,l,s,d){switch(n){case"focusin":return oi=yl(oi,e,n,l,s,d),!0;case"dragenter":return li=yl(li,e,n,l,s,d),!0;case"mouseover":return ai=yl(ai,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return hl.set(m,yl(hl.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,gl.set(m,yl(gl.get(m)||null,e,n,l,s,d)),!0}return!1}function Xp(e){var n=Ii(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,rc(e.priority,function(){Jp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,rc(e.priority,function(){Jp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=yu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);vs=s,l.target.dispatchEvent(s),vs=null}else return n=Di(l),n!==null&&Yp(n),e.blockedOn=l,!1;n.shift()}return!0}function Qp(e,n,l){Ga(e)&&l.delete(n)}function Q0(){_u=!1,oi!==null&&Ga(oi)&&(oi=null),li!==null&&Ga(li)&&(li=null),ai!==null&&Ga(ai)&&(ai=null),hl.forEach(Qp),gl.forEach(Qp)}function Oa(e,n){e.blockedOn===n&&(e.blockedOn=null,_u||(_u=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Q0)))}var qa=null;function Wp(e){qa!==e&&(qa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qa===e&&(qa=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(vu(s||l)===null)continue;break}var m=Di(l);m!==null&&(e.splice(n,3),n-=3,yr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function mo(e){function n(A){return Oa(A,e)}oi!==null&&Oa(oi,e),li!==null&&Oa(li,e),ai!==null&&Oa(ai,e),hl.forEach(n),gl.forEach(n);for(var l=0;l<si.length;l++){var s=si[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<si.length&&(l=si[0],l.blockedOn===null);)Xp(l),l.blockedOn===null&&si.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],_=d[Mt]||null;if(typeof m=="function")_||Wp(l);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Mt]||null)E=_.formAction;else if(vu(d)!==null)continue}else E=_.action;typeof E=="function"?l[s+1]=E:(l.splice(s,3),s-=3),Wp(l)}}}function Zp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Su(e){this._internalRoot=e}Pa.prototype.render=Su.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Jt();zp(l,s,e,n,null,null)},Pa.prototype.unmount=Su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zp(e.current,2,null,e,null,null),_a(),n[Mi]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var n=sc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<si.length&&n!==0&&n<si[l].priority;l++);si.splice(l,0,e),l===0&&Xp(e)}};var jp=t.version;if(jp!=="19.2.4")throw Error(a(527,jp,"19.2.4"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var W0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{Je=Ha.inject(W0),qt=Ha}catch{}}return _l.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=ad,m=sd,_=rd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Vp(e,1,!1,null,null,l,s,null,d,m,_,Zp),e[Mi]=n.current,tu(e),new Su(n)},_l.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=ad,_=sd,E=rd,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Vp(e,1,!0,n,l??null,s,d,A,m,_,E,Zp),n.context=Bp(null),l=n.current,s=Jt(),s=cs(s),d=Jn(s),d.callback=null,Kn(l,d,s),l=s,n.current.lanes=l,xo(n,l),hn(n),e[Mi]=n.current,tu(e),new Pa(n)},_l.version="19.2.4",_l}var um;function rv(){if(um)return Cu.exports;um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Cu.exports=sv(),Cu.exports}var uv=rv();const cv=zh(uv);var fv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dv,pv;function mv(){return{geminiUrl:dv,vertexUrl:pv}}function hv(i,t,o,a){var r,c;if(!(i!=null&&i.baseUrl)){const p=mv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gn{}function j(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,o){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];f(v,t.slice(c+1),o[h])}else for(const h of y)f(h,t.slice(c+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function gv(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),c=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Mu(i,r,c,0,p)}}function Mu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Mu(y,t,o,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const S=[];for(const T of o.slice(a))T==="*"?S.push(h):S.push(T);f(p,S,v)}for(const h of g)delete p[h]}}else{const p=i;c in p&&Mu(p[c],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ju(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yv(i){const t={},o=u(i,["operationName"]);o!=null&&f(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function vv(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],Sv(p)),t}function _v(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],Tv(p)),t}function Sv(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>Ev(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Tv(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>Cv(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Ev(i){const t={},o=u(i,["video"]);return o!=null&&f(t,["video"],bv(o)),t}function Cv(i){const t={},o=u(i,["_self"]);return o!=null&&f(t,["video"],Mv(o)),t}function Av(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Rv(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function wv(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],Nv(p)),t}function Nv(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Fh(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],xv(p)),t}function xv(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function bv(i){const t={},o=u(i,["uri"]);o!=null&&f(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Ju(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Mv(i){const t={},o=u(i,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Ju(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cm||(cm={}));var fm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(fm||(fm={}));var dm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(dm||(dm={}));var J;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(J||(J={}));var pm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pm||(pm={}));var mm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(mm||(mm={}));var hm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hm||(hm={}));var gm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gm||(gm={}));var ym;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(ym||(ym={}));var vm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(vm||(vm={}));var _m;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(_m||(_m={}));var Sm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Sm||(Sm={}));var Tm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Tm||(Tm={}));var Em;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Em||(Em={}));var Cm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Cm||(Cm={}));var Am;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Am||(Am={}));var Rm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Rm||(Rm={}));var wm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wm||(wm={}));var Nm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nm||(Nm={}));var xm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(xm||(xm={}));var bm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bm||(bm={}));var Cl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Cl||(Cl={}));var Mm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mm||(Mm={}));var Im;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Im||(Im={}));var Dm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Dm||(Dm={}));var Iu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Iu||(Iu={}));var Um;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Um||(Um={}));var km;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(km||(km={}));var Du;(function(i){i.COLLECTION="COLLECTION"})(Du||(Du={}));var Lm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Lm||(Lm={}));var Gm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Gm||(Gm={}));var Om;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Om||(Om={}));var qm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(qm||(qm={}));var Pm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Pm||(Pm={}));var Hm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hm||(Hm={}));var Vm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vm||(Vm={}));var Bm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bm||(Bm={}));var zm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zm||(zm={}));var Fm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Fm||(Fm={}));var Ym;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Ym||(Ym={}));var Jm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Jm||(Jm={}));var Km;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Km||(Km={}));var $m;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})($m||($m={}));var Xm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Xm||(Xm={}));var Qm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Qm||(Qm={}));var Wm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Wm||(Wm={}));var Zm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zm||(Zm={}));var jm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(jm||(jm={}));var eh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(eh||(eh={}));var th;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(th||(th={}));var nh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nh||(nh={}));var ih;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ih||(ih={}));var oh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(oh||(oh={}));var lh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lh||(lh={}));var ah;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ah||(ah={}));var sh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(sh||(sh={}));var vo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(vo||(vo={}));class Uu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Sl{get text(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const T of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,b]of Object.entries(T))R!=="text"&&R!=="thought"&&R!=="thoughtSignature"&&(b!==null||b!==void 0)&&S.push(R);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,h+=T.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,R]of Object.entries(S))T!=="inlineData"&&(R!==null||R!==void 0)&&v.push(T);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,c,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,c,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class rh{}class uh{}class Iv{}class Dv{}class Uv{}class kv{}class ch{}class fh{}class dh{}class Lv{}class $a{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new $a;let r;const c=t;return o?r=_v(c):r=vv(c),Object.assign(a,r),a}}class ph{}class mh{}class hh{}class gh{}class Gv{}class Ov{}class qv{}class Ku{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ku,c=wv(t);return Object.assign(a,c),a}}class Pv{}class Hv{}class Vv{}class Bv{}class yh{}class zv{get text(){var t,o,a;let r="",c=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,a;let r="";const c=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Fv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $u{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new $u,c=Fh(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Yh(i,t){const o=ke(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Jh(i){return Array.isArray(i)?i.map(t=>Xa(t)):[Xa(i)]}function Xa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Kh(i){const t=Xa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $h(i){const t=Xa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Xh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>vh(t)):[vh(i)]}function ku(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function _h(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Sh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function wt(i){if(i==null)throw new Error("ContentUnion is required");return ku(i)?i:{role:"user",parts:Xh(i)}}function Xu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=wt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=wt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>wt(o)):[wt(t)]}function on(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(_h(i)||Sh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(i)]}const t=[],o=[],a=ku(i[0]);for(const r of i){const c=ku(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(_h(r)||Sh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Xh(o)}),t}function Yv(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(J).includes(o[0].toUpperCase())?o[0].toUpperCase():J.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(J).includes(a.toUpperCase())?a.toUpperCase():J.TYPE_UNSPECIFIED})}}function So(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&Yv(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(J).includes(g.toUpperCase())?g.toUpperCase():J.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=So(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(So(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=So(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Qu(i){return So(i)}function Wu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Zu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Co(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=So(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=So(t.response));return i}function Ao(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Jv(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function On(i,t){if(typeof t!="string")throw new Error("name must be a string");return Jv(i,t,"cachedContents")}function Qh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ui(i){return Ju(i)}function Kv(i){return i!=null&&typeof i=="object"&&"name"in i}function $v(i){return i!=null&&typeof i=="object"&&"video"in i}function Xv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Wh(i){var t;let o;if(Kv(i)&&(o=i.name),!(Xv(i)&&(o=i.uri,o===void 0))&&!($v(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Zh(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function jh(i){for(const t of["models","tunedModels","publisherModels"])if(Qv(i,t))return i[t];return[]}function Qv(i,t){return i!==null&&typeof i=="object"&&t in i}function Wv(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Zv(i,t={}){const o=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=Wv(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function eg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function jv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function tg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Ro(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ng(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(i){const t={},o=u(i,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>k_(p))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["inlinedEmbedContentResponses"],c)}return t}function t_(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function n_(i){const t={},o=u(i,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ja(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],ng(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&f(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&f(t,["dest"],e_(tg(h))),t}function Lu(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],ng(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["createTime"]);p!=null&&f(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],i_(S));const T=u(i,["outputConfig"]);T!=null&&f(t,["dest"],t_(tg(T)));const R=u(i,["completionStats"]);return R!=null&&f(t,["completionStats"],R),t}function i_(i){const t={},o=u(i,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function o_(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>U_(i,p))),f(o,["requests","requests"],c)}return o}function l_(i){const t={},o=u(i,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function a_(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function s_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Ro(i,a)),o}function r_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Ro(i,a)),o}function u_(i){const t={},o=u(i,["content"]);o!=null&&f(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],c_(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&f(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(R=>R)),f(t,["safetyRatings"],T)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function c_(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function ig(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>V_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function f_(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function d_(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],n_(jv(r))),o}function Th(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],ke(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],o_(i,eg(i,r)));const c=u(t,["config"]);return c!=null&&f_(c,o),o}function p_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],ke(i,a));const r=u(t,["src"]);r!=null&&f(o,["inputConfig"],l_(eg(i,r)));const c=u(t,["config"]);return c!=null&&d_(c,o),o}function m_(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function h_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],ke(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],E_(i,r));const c=u(t,["config"]);return c!=null&&m_(c,o),o}function g_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Ro(i,a)),o}function y_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Ro(i,a)),o}function v_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function __(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function S_(i,t){const o={},a=u(t,["contents"]);if(a!=null){let c=Xu(i,a);Array.isArray(c)&&(c=c.map(p=>p)),f(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(o,["_self"],T_(r,o)),gv(o,{"requests[].*":"requests[].request.*"})),o}function T_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function E_(i,t){const o={},a=u(t,["fileName"]);a!=null&&f(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(o,["requests"],S_(i,r)),o}function C_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function A_(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function R_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function w_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],ig(wt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(a,["logprobs"],T);const R=u(t,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const b=u(t,["frequencyPenalty"]);b!=null&&f(a,["frequencyPenalty"],b);const P=u(t,["seed"]);P!=null&&f(a,["seed"],P);const q=u(t,["responseMimeType"]);q!=null&&f(a,["responseMimeType"],q);const z=u(t,["responseSchema"]);z!=null&&f(a,["responseSchema"],Qu(z));const B=u(t,["responseJsonSchema"]);if(B!=null&&f(a,["responseJsonSchema"],B),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=u(t,["safetySettings"]);if(o!==void 0&&K!=null){let Oe=K;Array.isArray(Oe)&&(Oe=Oe.map(qe=>B_(qe))),f(o,["safetySettings"],Oe)}const W=u(t,["tools"]);if(o!==void 0&&W!=null){let Oe=Ao(W);Array.isArray(Oe)&&(Oe=Oe.map(qe=>F_(Co(qe)))),f(o,["tools"],Oe)}const F=u(t,["toolConfig"]);if(o!==void 0&&F!=null&&f(o,["toolConfig"],z_(F)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=u(t,["cachedContent"]);o!==void 0&&ae!=null&&f(o,["cachedContent"],On(i,ae));const Q=u(t,["responseModalities"]);Q!=null&&f(a,["responseModalities"],Q);const re=u(t,["mediaResolution"]);re!=null&&f(a,["mediaResolution"],re);const Z=u(t,["speechConfig"]);if(Z!=null&&f(a,["speechConfig"],Wu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(t,["thinkingConfig"]);ge!=null&&f(a,["thinkingConfig"],ge);const Ce=u(t,["imageConfig"]);Ce!=null&&f(a,["imageConfig"],D_(Ce));const Ie=u(t,["enableEnhancedCivicAnswers"]);if(Ie!=null&&f(a,["enableEnhancedCivicAnswers"],Ie),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function N_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>u_(h))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function x_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Ro(i,a)),o}function b_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Ro(i,a)),o}function M_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function I_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function D_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function U_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["request","model"],ke(i,a));const r=u(t,["contents"]);if(r!=null){let g=on(r);Array.isArray(g)&&(g=g.map(y=>ig(y))),f(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(t,["config"]);return p!=null&&f(o,["request","generationConfig"],w_(i,p,u(o,["request"],{}))),o}function k_(i){const t={},o=u(i,["response"]);o!=null&&f(t,["response"],N_(o));const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function L_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function G_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function O_(i){const t={},o=u(i,["config"]);return o!=null&&L_(o,t),t}function q_(i){const t={},o=u(i,["config"]);return o!=null&&G_(o,t),t}function P_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Ja(p))),f(t,["batchJobs"],c)}return t}function H_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Lu(p))),f(t,["batchJobs"],c)}return t}function V_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],C_(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],A_(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],a_(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function B_(i){const t={},o=u(i,["category"]);if(o!=null&&f(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function z_(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],R_(a)),t}function F_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],M_(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],I_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ln;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Ln||(Ln={}));class bi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y_ extends Gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Ln.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Th(this.apiClient,t),a=o._url,r=j("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const T=S.systemInstruction;delete S.systemInstruction;const R=S.request;R.systemInstruction=T,S.request=R}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=p_(this.apiClient,t);return g=j("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Lu(v))}else{const h=Th(this.apiClient,t);return g=j("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Ja(v))}}async createEmbeddingsInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=h_(this.apiClient,t);return c=j("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ja(y))}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=b_(this.apiClient,t);return g=j("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Lu(v))}else{const h=x_(this.apiClient,t);return g=j("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Ja(v))}}async cancel(t){var o,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=r_(this.apiClient,t);p=j("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=s_(this.apiClient,t);p=j("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=q_(t);return g=j("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=H_(v),T=new yh;return Object.assign(T,S),T})}else{const h=O_(t);return g=j("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=P_(v),T=new yh;return Object.assign(T,S),T})}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=y_(this.apiClient,t);return g=j("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>__(v))}else{const h=g_(this.apiClient,t);return g=j("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>v_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J_(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Eh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>hS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function K_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=on(p);Array.isArray(v)&&(v=v.map(S=>Eh(S))),f(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],Eh(wt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>yS(S))),f(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&f(t,["toolConfig"],gS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function $_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=on(p);Array.isArray(S)&&(S=S.map(T=>T)),f(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],wt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>vS(T))),f(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&f(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function X_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Yh(i,a));const r=u(t,["config"]);return r!=null&&K_(r,o),o}function Q_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Yh(i,a));const r=u(t,["config"]);return r!=null&&$_(r,o),o}function W_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],On(i,a)),o}function Z_(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],On(i,a)),o}function j_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function eS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function tS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function nS(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function oS(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function lS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],On(i,a)),o}function aS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],On(i,a)),o}function sS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function rS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function uS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function cS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function fS(i){const t={},o=u(i,["config"]);return o!=null&&uS(o,t),t}function dS(i){const t={},o=u(i,["config"]);return o!=null&&cS(o,t),t}function pS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function mS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function hS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],tS(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],nS(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],J_(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function gS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],iS(a)),t}function yS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],sS(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],rS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function vS(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(T=>oS(T))),f(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function _S(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function SS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function TS(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],On(i,a));const r=u(t,["config"]);return r!=null&&_S(r,o),o}function ES(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],On(i,a));const r=u(t,["config"]);return r!=null&&SS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS extends Gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Ln.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Q_(this.apiClient,t);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=X_(this.apiClient,t);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=aS(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=lS(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Z_(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=eS(v),T=new hh;return Object.assign(T,S),T})}else{const h=W_(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=j_(v),T=new hh;return Object.assign(T,S),T})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ES(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=TS(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dS(t);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=mS(v),T=new gh;return Object.assign(T,S),T})}else{const h=fS(t);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=pS(v),T=new gh;return Object.assign(T,S),T})}}}function Qa(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Ch(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(i){return this instanceof me?(this.v=i,this):new me(i)}function un(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(R){return function(b){return Promise.resolve(b).then(R,S)}}function g(R,b){a[R]&&(r[R]=function(P){return new Promise(function(q,z){c.push([R,P,q,z])>1||y(R,P)})},b&&(r[R]=b(r[R])))}function y(R,b){try{h(a[R](b))}catch(P){T(c[0][3],P)}}function h(R){R.value instanceof me?Promise.resolve(R.value.v).then(v,S):T(c[0][2],R)}function v(R){y("next",R)}function S(R){y("throw",R)}function T(R,b){R(b),c.shift(),c.length&&y(c[0][0],c[0][1])}}function cn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Ch=="function"?Ch(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=i[c]&&function(p){return new Promise(function(g,y){p=i[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:og(o)}function og(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function RS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ah(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),c&&!og(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class wS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new NS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class NS{constructor(t,o,a,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),RS(c)}async sendMessage(t){var o;await this.sendPromise;const a=wt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,h=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(S))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(a,R,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=wt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?Ah(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return un(this,arguments,function*(){var r,c,p,g,y,h;const v=[];try{for(var S=!0,T=cn(t),R;R=yield me(T.next()),r=R.done,!r;S=!0){g=R.value,S=!1;const b=g;if(AS(b)){const P=(h=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;P!==void 0&&v.push(P)}yield yield me(b)}}catch(b){c={error:b}}finally{try{!S&&!r&&(p=T.return)&&(yield me(p.call(T)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Ah(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(i){const t={},o=u(i,["file"]);return o!=null&&f(t,["file"],o),t}function bS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function MS(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Wh(o)),t}function IS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function DS(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Wh(o)),t}function US(i){const t={},o=u(i,["uris"]);return o!=null&&f(t,["uris"],o),t}function kS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function LS(i){const t={},o=u(i,["config"]);return o!=null&&kS(o,t),t}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["files"],c)}return t}function OS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qS extends Gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Ln.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LS(t);return c=j("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=GS(y),v=new Pv;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xS(t);return c=j("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=bS(y),v=new Hv;return Object.assign(v,h),v})}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DS(t);return c=j("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MS(t);return c=j("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=IS(y),v=new Vv;return Object.assign(v,h),v})}}async registerFilesInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=US(t);return c=j("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=OS(y),v=new Bv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ka(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function PS(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>tT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function HS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function VS(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BS(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function zS(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&f(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const T=u(i,["responseLogprobs"]);T!=null&&f(t,["responseLogprobs"],T);const R=u(i,["responseMimeType"]);R!=null&&f(t,["responseMimeType"],R);const b=u(i,["responseModalities"]);b!=null&&f(t,["responseModalities"],b);const P=u(i,["responseSchema"]);P!=null&&f(t,["responseSchema"],P);const q=u(i,["routingConfig"]);q!=null&&f(t,["routingConfig"],q);const z=u(i,["seed"]);z!=null&&f(t,["seed"],z);const B=u(i,["speechConfig"]);B!=null&&f(t,["speechConfig"],B);const K=u(i,["stopSequences"]);K!=null&&f(t,["stopSequences"],K);const W=u(i,["temperature"]);W!=null&&f(t,["temperature"],W);const F=u(i,["thinkingConfig"]);F!=null&&f(t,["thinkingConfig"],F);const ae=u(i,["topK"]);ae!=null&&f(t,["topK"],ae);const Q=u(i,["topP"]);if(Q!=null&&f(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function FS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function YS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function JS(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Zu(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const R=u(i,["enableAffectiveDialog"]);t!==void 0&&R!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],R);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],PS(wt(b)));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let ae=Ao(P);Array.isArray(ae)&&(ae=ae.map(Q=>iT(Co(Q)))),f(t,["setup","tools"],ae)}const q=u(i,["sessionResumption"]);t!==void 0&&q!=null&&f(t,["setup","sessionResumption"],nT(q));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","inputAudioTranscription"],z);const B=u(i,["outputAudioTranscription"]);t!==void 0&&B!=null&&f(t,["setup","outputAudioTranscription"],B);const K=u(i,["realtimeInputConfig"]);t!==void 0&&K!=null&&f(t,["setup","realtimeInputConfig"],K);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&f(t,["setup","contextWindowCompression"],W);const F=u(i,["proactivity"]);if(t!==void 0&&F!=null&&f(t,["setup","proactivity"],F),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function KS(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],zS(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Zu(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const R=u(i,["enableAffectiveDialog"]);t!==void 0&&R!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],R);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],wt(b));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let Q=Ao(P);Array.isArray(Q)&&(Q=Q.map(re=>oT(Co(re)))),f(t,["setup","tools"],Q)}const q=u(i,["sessionResumption"]);t!==void 0&&q!=null&&f(t,["setup","sessionResumption"],q);const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","inputAudioTranscription"],z);const B=u(i,["outputAudioTranscription"]);t!==void 0&&B!=null&&f(t,["setup","outputAudioTranscription"],B);const K=u(i,["realtimeInputConfig"]);t!==void 0&&K!=null&&f(t,["setup","realtimeInputConfig"],K);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&f(t,["setup","contextWindowCompression"],W);const F=u(i,["proactivity"]);t!==void 0&&F!=null&&f(t,["setup","proactivity"],F);const ae=u(i,["explicitVadSignal"]);return t!==void 0&&ae!=null&&f(t,["setup","explicitVadSignal"],ae),o}function $S(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],ke(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],JS(r,o)),o}function XS(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],ke(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],KS(r,o)),o}function QS(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function WS(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function ZS(i){const t={},o=u(i,["media"]);if(o!=null){let h=Jh(o);Array.isArray(h)&&(h=h.map(v=>Ka(v))),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Ka($h(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Ka(Kh(c)));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function jS(i){const t={},o=u(i,["media"]);if(o!=null){let h=Jh(o);Array.isArray(h)&&(h=h.map(v=>v)),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],$h(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Kh(c));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function eT(i){const t={},o=u(i,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],lT(p));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&f(t,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],aT(v)),t}function tT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],HS(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],VS(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Ka(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function nT(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function iT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],FS(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],YS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function oT(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(T=>BS(T))),f(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function lT(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(b=>b)),f(t,["promptTokensDetails"],R)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(b=>b)),f(t,["cacheTokensDetails"],R)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(b=>b)),f(t,["responseTokensDetails"],R)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(b=>b)),f(t,["toolUsePromptTokensDetails"],R)}const T=u(i,["trafficType"]);return T!=null&&f(t,["trafficType"],T),t}function aT(i){const t={},o=u(i,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(i,t){const o={},a=u(i,["data"]);if(a!=null&&f(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function rT(i,t){const o={},a=u(i,["content"]);a!=null&&f(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&f(o,["citationMetadata"],uT(r));const c=u(i,["tokenCount"]);c!=null&&f(o,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&f(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&f(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(o,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&f(o,["index"],h);const v=u(i,["logprobsResult"]);v!=null&&f(o,["logprobsResult"],v);const S=u(i,["safetyRatings"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(b=>b)),f(o,["safetyRatings"],R)}const T=u(i,["urlContextMetadata"]);return T!=null&&f(o,["urlContextMetadata"],T),o}function uT(i,t){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["citations"],r)}return o}function cT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let p=on(c);Array.isArray(p)&&(p=p.map(g=>g)),f(a,["contents"],p)}return a}function fT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["tokensInfo"],c)}return o}function dT(i,t){const o={},a=u(i,["values"]);a!=null&&f(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&f(o,["statistics"],pT(r)),o}function pT(i,t){const o={},a=u(i,["truncated"]);a!=null&&f(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&f(o,["tokenCount"],r),o}function ts(i,t){const o={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>EE(p))),f(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(o,["role"],r),o}function mT(i,t){const o={},a=u(i,["controlType"]);a!=null&&f(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(o,["computeControl"],r),o}function hT(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function gT(i,t,o){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],wt(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>rg(y))),f(t,["tools"],g)}const p=u(i,["generationConfig"]);return t!==void 0&&p!=null&&f(t,["generationConfig"],sE(p)),a}function yT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let g=on(c);Array.isArray(g)&&(g=g.map(y=>ts(y))),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&hT(p),a}function vT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let g=on(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&gT(p,a),a}function _T(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&f(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(o,["cachedContentTokenCount"],c),o}function ST(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&f(o,["totalTokens"],r),o}function TT(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],ke(i,r)),a}function ET(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],ke(i,r)),a}function CT(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function AT(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function RT(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&f(t,["parameters","includeSafetyAttributes"],T);const R=u(i,["includeRaiReason"]);t!==void 0&&R!=null&&f(t,["parameters","includeRaiReason"],R);const b=u(i,["language"]);t!==void 0&&b!=null&&f(t,["parameters","language"],b);const P=u(i,["outputMimeType"]);t!==void 0&&P!=null&&f(t,["parameters","outputOptions","mimeType"],P);const q=u(i,["outputCompressionQuality"]);t!==void 0&&q!=null&&f(t,["parameters","outputOptions","compressionQuality"],q);const z=u(i,["addWatermark"]);t!==void 0&&z!=null&&f(t,["parameters","addWatermark"],z);const B=u(i,["labels"]);t!==void 0&&B!=null&&f(t,["labels"],B);const K=u(i,["editMode"]);t!==void 0&&K!=null&&f(t,["parameters","editMode"],K);const W=u(i,["baseSteps"]);return t!==void 0&&W!=null&&f(t,["parameters","editConfig","baseSteps"],W),a}function wT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(h=>xE(h))),f(a,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&RT(g,a),a}function NT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ns(p))),f(o,["generatedImages"],c)}return o}function xT(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(t!==void 0&&p!=null&&f(t,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function bT(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["instances[]","title"],c);const p=u(i,["outputDimensionality"]);t!==void 0&&p!=null&&f(t,["parameters","outputDimensionality"],p);const g=u(i,["mimeType"]);t!==void 0&&g!=null&&f(t,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function MT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let y=Xu(i,c);Array.isArray(y)&&(y=y.map(h=>h)),f(a,["requests[]","content"],y)}const p=u(t,["config"]);p!=null&&xT(p,a);const g=u(t,["model"]);return g!==void 0&&f(a,["requests[]","model"],ke(i,g)),a}function IT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let g=Xu(i,c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["instances[]","content"],g)}const p=u(t,["config"]);return p!=null&&bT(p,a),a}function DT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function UT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>dT(g))),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function kT(i,t){const o={},a=u(i,["endpoint"]);a!=null&&f(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&f(o,["deployedModelId"],r),o}function LT(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&f(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function GT(i,t){const o={},a=u(i,["id"]);a!=null&&f(o,["id"],a);const r=u(i,["args"]);r!=null&&f(o,["args"],r);const c=u(i,["name"]);if(c!=null&&f(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function OT(i,t){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&f(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&f(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function qT(i,t){const o={},a=u(i,["description"]);a!=null&&f(o,["description"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["parameters"]);c!=null&&f(o,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&f(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function PT(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],ts(wt(c)));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const T=u(t,["responseLogprobs"]);T!=null&&f(r,["responseLogprobs"],T);const R=u(t,["logprobs"]);R!=null&&f(r,["logprobs"],R);const b=u(t,["presencePenalty"]);b!=null&&f(r,["presencePenalty"],b);const P=u(t,["frequencyPenalty"]);P!=null&&f(r,["frequencyPenalty"],P);const q=u(t,["seed"]);q!=null&&f(r,["seed"],q);const z=u(t,["responseMimeType"]);z!=null&&f(r,["responseMimeType"],z);const B=u(t,["responseSchema"]);B!=null&&f(r,["responseSchema"],Qu(B));const K=u(t,["responseJsonSchema"]);if(K!=null&&f(r,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=u(t,["safetySettings"]);if(o!==void 0&&W!=null){let qe=W;Array.isArray(qe)&&(qe=qe.map(rt=>bE(rt))),f(o,["safetySettings"],qe)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let qe=Ao(F);Array.isArray(qe)&&(qe=qe.map(rt=>GE(Co(rt)))),f(o,["tools"],qe)}const ae=u(t,["toolConfig"]);if(o!==void 0&&ae!=null&&f(o,["toolConfig"],LE(ae)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(t,["cachedContent"]);o!==void 0&&Q!=null&&f(o,["cachedContent"],On(i,Q));const re=u(t,["responseModalities"]);re!=null&&f(r,["responseModalities"],re);const Z=u(t,["mediaResolution"]);Z!=null&&f(r,["mediaResolution"],Z);const ge=u(t,["speechConfig"]);if(ge!=null&&f(r,["speechConfig"],Wu(ge)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ce=u(t,["thinkingConfig"]);Ce!=null&&f(r,["thinkingConfig"],Ce);const Ie=u(t,["imageConfig"]);Ie!=null&&f(r,["imageConfig"],dE(Ie));const Oe=u(t,["enableEnhancedCivicAnswers"]);if(Oe!=null&&f(r,["enableEnhancedCivicAnswers"],Oe),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function HT(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],wt(c));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const T=u(t,["responseLogprobs"]);T!=null&&f(r,["responseLogprobs"],T);const R=u(t,["logprobs"]);R!=null&&f(r,["logprobs"],R);const b=u(t,["presencePenalty"]);b!=null&&f(r,["presencePenalty"],b);const P=u(t,["frequencyPenalty"]);P!=null&&f(r,["frequencyPenalty"],P);const q=u(t,["seed"]);q!=null&&f(r,["seed"],q);const z=u(t,["responseMimeType"]);z!=null&&f(r,["responseMimeType"],z);const B=u(t,["responseSchema"]);B!=null&&f(r,["responseSchema"],Qu(B));const K=u(t,["responseJsonSchema"]);K!=null&&f(r,["responseJsonSchema"],K);const W=u(t,["routingConfig"]);W!=null&&f(r,["routingConfig"],W);const F=u(t,["modelSelectionConfig"]);F!=null&&f(r,["modelConfig"],F);const ae=u(t,["safetySettings"]);if(o!==void 0&&ae!=null){let ie=ae;Array.isArray(ie)&&(ie=ie.map(xe=>xe)),f(o,["safetySettings"],ie)}const Q=u(t,["tools"]);if(o!==void 0&&Q!=null){let ie=Ao(Q);Array.isArray(ie)&&(ie=ie.map(xe=>rg(Co(xe)))),f(o,["tools"],ie)}const re=u(t,["toolConfig"]);o!==void 0&&re!=null&&f(o,["toolConfig"],re);const Z=u(t,["labels"]);o!==void 0&&Z!=null&&f(o,["labels"],Z);const ge=u(t,["cachedContent"]);o!==void 0&&ge!=null&&f(o,["cachedContent"],On(i,ge));const Ce=u(t,["responseModalities"]);Ce!=null&&f(r,["responseModalities"],Ce);const Ie=u(t,["mediaResolution"]);Ie!=null&&f(r,["mediaResolution"],Ie);const Oe=u(t,["speechConfig"]);Oe!=null&&f(r,["speechConfig"],Wu(Oe));const qe=u(t,["audioTimestamp"]);qe!=null&&f(r,["audioTimestamp"],qe);const rt=u(t,["thinkingConfig"]);rt!=null&&f(r,["thinkingConfig"],rt);const M=u(t,["imageConfig"]);if(M!=null&&f(r,["imageConfig"],pE(M)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const X=u(t,["modelArmorConfig"]);return o!==void 0&&X!=null&&f(o,["modelArmorConfig"],X),r}function Rh(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let g=on(c);Array.isArray(g)&&(g=g.map(y=>ts(y))),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],PT(i,p,a)),a}function wh(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["contents"]);if(c!=null){let g=on(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],HT(i,p,a)),a}function Nh(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>rT(v))),f(o,["candidates"],h)}const c=u(i,["modelVersion"]);c!=null&&f(o,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&f(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(o,["usageMetadata"],y),o}function xh(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(S=>S)),f(o,["candidates"],v)}const c=u(i,["createTime"]);c!=null&&f(o,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&f(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&f(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&f(o,["responseId"],y);const h=u(i,["usageMetadata"]);return h!=null&&f(o,["usageMetadata"],h),o}function VT(i,t,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const h=u(i,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const S=u(i,["language"]);t!==void 0&&S!=null&&f(t,["parameters","language"],S);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","mimeType"],T);const R=u(i,["outputCompressionQuality"]);if(t!==void 0&&R!=null&&f(t,["parameters","outputOptions","compressionQuality"],R),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=u(i,["imageSize"]);if(t!==void 0&&b!=null&&f(t,["parameters","sampleImageSize"],b),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function BT(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&f(t,["parameters","includeSafetyAttributes"],T);const R=u(i,["includeRaiReason"]);t!==void 0&&R!=null&&f(t,["parameters","includeRaiReason"],R);const b=u(i,["language"]);t!==void 0&&b!=null&&f(t,["parameters","language"],b);const P=u(i,["outputMimeType"]);t!==void 0&&P!=null&&f(t,["parameters","outputOptions","mimeType"],P);const q=u(i,["outputCompressionQuality"]);t!==void 0&&q!=null&&f(t,["parameters","outputOptions","compressionQuality"],q);const z=u(i,["addWatermark"]);t!==void 0&&z!=null&&f(t,["parameters","addWatermark"],z);const B=u(i,["labels"]);t!==void 0&&B!=null&&f(t,["labels"],B);const K=u(i,["imageSize"]);t!==void 0&&K!=null&&f(t,["parameters","sampleImageSize"],K);const W=u(i,["enhancePrompt"]);return t!==void 0&&W!=null&&f(t,["parameters","enhancePrompt"],W),a}function zT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&VT(p,a),a}function FT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&BT(p,a),a}function YT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>iE(g))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],ag(c)),o}function JT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>ns(g))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],sg(c)),o}function KT(i,t,o){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);t!==void 0&&h!=null&&f(t,["parameters","negativePrompt"],h);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&f(t,["instances[0]","lastFrame"],is(S));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let R=T;Array.isArray(R)&&(R=R.map(b=>XE(b))),f(t,["instances[0]","referenceImages"],R)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function $T(i,t,o){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const p=u(i,["fps"]);t!==void 0&&p!=null&&f(t,["parameters","fps"],p);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&f(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const v=u(i,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&f(t,["parameters","pubsubTopic"],T);const R=u(i,["negativePrompt"]);t!==void 0&&R!=null&&f(t,["parameters","negativePrompt"],R);const b=u(i,["enhancePrompt"]);t!==void 0&&b!=null&&f(t,["parameters","enhancePrompt"],b);const P=u(i,["generateAudio"]);t!==void 0&&P!=null&&f(t,["parameters","generateAudio"],P);const q=u(i,["lastFrame"]);t!==void 0&&q!=null&&f(t,["instances[0]","lastFrame"],fn(q));const z=u(i,["referenceImages"]);if(t!==void 0&&z!=null){let W=z;Array.isArray(W)&&(W=W.map(F=>QE(F))),f(t,["instances[0]","referenceImages"],W)}const B=u(i,["mask"]);t!==void 0&&B!=null&&f(t,["instances[0]","mask"],$E(B));const K=u(i,["compressionQuality"]);return t!==void 0&&K!=null&&f(t,["parameters","compressionQuality"],K),a}function XT(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&f(o,["response"],jT(g)),o}function QT(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const g=u(i,["response"]);return g!=null&&f(o,["response"],eE(g)),o}function WT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],is(p));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],ug(g));const y=u(t,["source"]);y!=null&&tE(y,a);const h=u(t,["config"]);return h!=null&&KT(h,a),a}function ZT(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],fn(p));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],cg(g));const y=u(t,["source"]);y!=null&&nE(y,a);const h=u(t,["config"]);return h!=null&&$T(h,a),a}function jT(i,t){const o={},a=u(i,["generatedSamples"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>lE(g))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function eE(i,t){const o={},a=u(i,["videos"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>aE(g))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function tE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],is(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],ug(p)),a}function nE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],fn(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],cg(p)),a}function iE(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],mE(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(o,["safetyAttributes"],ag(c)),o}function ns(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],lg(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(o,["safetyAttributes"],sg(c));const p=u(i,["prompt"]);return p!=null&&f(o,["enhancedPrompt"],p),o}function oE(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["mask"],lg(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["labels"],c)}return o}function lE(i,t){const o={},a=u(i,["video"]);return a!=null&&f(o,["video"],JE(a)),o}function aE(i,t){const o={},a=u(i,["_self"]);return a!=null&&f(o,["video"],KE(a)),o}function sE(i,t){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&f(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&f(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(o,["audioTimestamp"],c);const p=u(i,["candidateCount"]);p!=null&&f(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&f(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&f(o,["frequencyPenalty"],y);const h=u(i,["logprobs"]);h!=null&&f(o,["logprobs"],h);const v=u(i,["maxOutputTokens"]);v!=null&&f(o,["maxOutputTokens"],v);const S=u(i,["mediaResolution"]);S!=null&&f(o,["mediaResolution"],S);const T=u(i,["presencePenalty"]);T!=null&&f(o,["presencePenalty"],T);const R=u(i,["responseLogprobs"]);R!=null&&f(o,["responseLogprobs"],R);const b=u(i,["responseMimeType"]);b!=null&&f(o,["responseMimeType"],b);const P=u(i,["responseModalities"]);P!=null&&f(o,["responseModalities"],P);const q=u(i,["responseSchema"]);q!=null&&f(o,["responseSchema"],q);const z=u(i,["routingConfig"]);z!=null&&f(o,["routingConfig"],z);const B=u(i,["seed"]);B!=null&&f(o,["seed"],B);const K=u(i,["speechConfig"]);K!=null&&f(o,["speechConfig"],K);const W=u(i,["stopSequences"]);W!=null&&f(o,["stopSequences"],W);const F=u(i,["temperature"]);F!=null&&f(o,["temperature"],F);const ae=u(i,["thinkingConfig"]);ae!=null&&f(o,["thinkingConfig"],ae);const Q=u(i,["topK"]);Q!=null&&f(o,["topK"],Q);const re=u(i,["topP"]);if(re!=null&&f(o,["topP"],re),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function rE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],ke(i,r)),a}function uE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],ke(i,r)),a}function cE(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&f(o,["enableWidget"],a),o}function fE(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&f(o,["timeRangeFilter"],a),o}function dE(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&f(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function pE(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&f(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(o,["personGeneration"],c);const p=u(i,["outputMimeType"]);p!=null&&f(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&f(o,["imageOutputOptions","compressionQuality"],g),o}function mE(i,t){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&f(o,["imageBytes"],ui(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function lg(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["imageBytes"],ui(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function is(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&f(o,["bytesBase64Encoded"],ui(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function fn(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&f(o,["bytesBase64Encoded"],ui(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function hE(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],Zh(i,y)),r}function gE(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],Zh(i,y)),r}function yE(i,t,o){const a={},r=u(t,["config"]);return r!=null&&hE(i,r,a),a}function vE(i,t,o){const a={},r=u(t,["config"]);return r!=null&&gE(i,r,a),a}function _E(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=jh(c);Array.isArray(p)&&(p=p.map(g=>Gu(g))),f(o,["models"],p)}return o}function SE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=jh(c);Array.isArray(p)&&(p=p.map(g=>Ou(g))),f(o,["models"],p)}return o}function TE(i,t){const o={},a=u(i,["maskMode"]);a!=null&&f(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&f(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(o,["dilation"],c),o}function Gu(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["version"]);p!=null&&f(o,["version"],p);const g=u(i,["_self"]);g!=null&&f(o,["tunedModelInfo"],OE(g));const y=u(i,["inputTokenLimit"]);y!=null&&f(o,["inputTokenLimit"],y);const h=u(i,["outputTokenLimit"]);h!=null&&f(o,["outputTokenLimit"],h);const v=u(i,["supportedGenerationMethods"]);v!=null&&f(o,["supportedActions"],v);const S=u(i,["temperature"]);S!=null&&f(o,["temperature"],S);const T=u(i,["maxTemperature"]);T!=null&&f(o,["maxTemperature"],T);const R=u(i,["topP"]);R!=null&&f(o,["topP"],R);const b=u(i,["topK"]);b!=null&&f(o,["topK"],b);const P=u(i,["thinking"]);return P!=null&&f(o,["thinking"],P),o}function Ou(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["versionId"]);p!=null&&f(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(R=>kT(R))),f(o,["endpoints"],T)}const y=u(i,["labels"]);y!=null&&f(o,["labels"],y);const h=u(i,["_self"]);h!=null&&f(o,["tunedModelInfo"],qE(h));const v=u(i,["defaultCheckpointId"]);v!=null&&f(o,["defaultCheckpointId"],v);const S=u(i,["checkpoints"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(R=>R)),f(o,["checkpoints"],T)}return o}function EE(i,t){const o={},a=u(i,["mediaResolution"]);a!=null&&f(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&f(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(o,["executableCode"],c);const p=u(i,["fileData"]);p!=null&&f(o,["fileData"],LT(p));const g=u(i,["functionCall"]);g!=null&&f(o,["functionCall"],GT(g));const y=u(i,["functionResponse"]);y!=null&&f(o,["functionResponse"],y);const h=u(i,["inlineData"]);h!=null&&f(o,["inlineData"],sT(h));const v=u(i,["text"]);v!=null&&f(o,["text"],v);const S=u(i,["thought"]);S!=null&&f(o,["thought"],S);const T=u(i,["thoughtSignature"]);T!=null&&f(o,["thoughtSignature"],T);const R=u(i,["videoMetadata"]);return R!=null&&f(o,["videoMetadata"],R),o}function CE(i,t){const o={},a=u(i,["productImage"]);return a!=null&&f(o,["image"],fn(a)),o}function AE(i,t,o){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const p=u(i,["outputGcsUri"]);t!==void 0&&p!=null&&f(t,["parameters","storageUri"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const R=u(i,["enhancePrompt"]);t!==void 0&&R!=null&&f(t,["parameters","enhancePrompt"],R);const b=u(i,["labels"]);return t!==void 0&&b!=null&&f(t,["labels"],b),a}function RE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["source"]);c!=null&&NE(c,a);const p=u(t,["config"]);return p!=null&&AE(p,a),a}function wE(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>ns(c))),f(o,["generatedImages"],r)}return o}function NE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],fn(c));const p=u(i,["productImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>CE(y))),f(t,["instances[0]","productImages"],g)}return a}function xE(i,t){const o={},a=u(i,["referenceImage"]);a!=null&&f(o,["referenceImage"],fn(a));const r=u(i,["referenceId"]);r!=null&&f(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(o,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&f(o,["maskImageConfig"],TE(p));const g=u(i,["controlImageConfig"]);g!=null&&f(o,["controlImageConfig"],mT(g));const y=u(i,["styleImageConfig"]);y!=null&&f(o,["styleImageConfig"],y);const h=u(i,["subjectImageConfig"]);return h!=null&&f(o,["subjectImageConfig"],h),o}function ag(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function sg(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function bE(i,t){const o={},a=u(i,["category"]);if(a!=null&&f(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(o,["threshold"],r),o}function ME(i,t){const o={},a=u(i,["image"]);return a!=null&&f(o,["image"],fn(a)),o}function IE(i,t,o){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);t!==void 0&&p!=null&&f(t,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&f(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const h=u(i,["labels"]);return t!==void 0&&h!=null&&f(t,["labels"],h),a}function DE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["source"]);c!=null&&kE(c,a);const p=u(t,["config"]);return p!=null&&IE(p,a),a}function UE(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>oE(c))),f(o,["generatedMasks"],r)}return o}function kE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],fn(c));const p=u(i,["scribbleImage"]);return t!==void 0&&p!=null&&f(t,["instances[0]","scribble"],ME(p)),a}function LE(i,t){const o={},a=u(i,["retrievalConfig"]);a!=null&&f(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&f(o,["functionCallingConfig"],OT(r)),o}function GE(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&f(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&f(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(T=>T)),f(o,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(o,["googleMaps"],cE(g));const y=u(i,["googleSearch"]);y!=null&&f(o,["googleSearch"],fE(y));const h=u(i,["googleSearchRetrieval"]);h!=null&&f(o,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(o,["urlContext"],v),o}function rg(i,t){const o={},a=u(i,["retrieval"]);a!=null&&f(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&f(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(o,["codeExecution"],c);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(R=>qT(R))),f(o,["functionDeclarations"],T)}const y=u(i,["googleMaps"]);y!=null&&f(o,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(o,["googleSearch"],h);const v=u(i,["googleSearchRetrieval"]);v!=null&&f(o,["googleSearchRetrieval"],v);const S=u(i,["urlContext"]);return S!=null&&f(o,["urlContext"],S),o}function OE(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function qE(i,t){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function PE(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function HE(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function VE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","name"],ke(i,r));const c=u(t,["config"]);return c!=null&&PE(c,a),a}function BE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["config"]);return c!=null&&HE(c,a),a}function zE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const h=u(i,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const T=u(i,["labels"]);t!==void 0&&T!=null&&f(t,["labels"],T);const R=u(i,["numberOfImages"]);t!==void 0&&R!=null&&f(t,["parameters","sampleCount"],R);const b=u(i,["mode"]);return t!==void 0&&b!=null&&f(t,["parameters","mode"],b),a}function FE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],ke(i,r));const c=u(t,["image"]);c!=null&&f(a,["instances[0]","image"],fn(c));const p=u(t,["upscaleFactor"]);p!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(t,["config"]);return g!=null&&zE(g,a),a}function YE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ns(p))),f(o,["generatedImages"],c)}return o}function JE(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&f(o,["videoBytes"],ui(r));const c=u(i,["encoding"]);return c!=null&&f(o,["mimeType"],c),o}function KE(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["videoBytes"],ui(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function $E(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["_self"],fn(a));const r=u(i,["maskMode"]);return r!=null&&f(o,["maskMode"],r),o}function XE(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],is(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function QE(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],fn(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function ug(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["encodedVideo"],ui(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["encoding"],c),o}function cg(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["bytesBase64Encoded"],ui(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),o}function ZE(i){const t={},o=u(i,["config"]);return o!=null&&WE(o,t),t}function jE(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function eC(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&jE(a,t),t}function tC(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function nC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),o}function iC(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],lC(p)),t}function oC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&nC(r,t),t}function lC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function aC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function sC(i){const t={},o=u(i,["config"]);return o!=null&&aC(o,t),t}function rC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["fileSearchStores"],c)}return t}function fg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&f(t,["chunkingConfig"],p),o}function uC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&fg(a,t),t}function cC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC="Content-Type",dC="X-Server-Timeout",pC="User-Agent",qu="x-goog-api-client",mC="1.40.0",hC=`google-genai-sdk/${mC}`,gC="v1beta1",yC="v1beta";class vC{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:gC}else{if(!this.clientOptions.apiKey)throw new Al({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:yC,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Du.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return o&&o.extraBody!==null&&_C(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await bh(r),new Uu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await bh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return un(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield me(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(v,{stream:!0});try{const b=JSON.parse(S);if("error"in b){const P=JSON.parse(JSON.stringify(b.error)),q=P.status,z=P.code,B=`got status: ${q}. ${JSON.stringify(b)}`;if(z>=400&&z<600)throw new Al({message:B,status:z})}}catch(b){if(b.name==="ApiError")throw b}p+=S;let T=-1,R=0;for(;;){T=-1,R=0;for(const q of y){const z=p.indexOf(q);z!==-1&&(T===-1||z<T)&&(T=z,R=q.length)}if(T===-1)break;const b=p.substring(0,T);p=p.substring(T+R);const P=b.trim();if(P.startsWith(g)){const q=P.substring(g.length).trim();try{const z=new Response(q,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield me(new Uu(z))}catch(z){throw new Error(`exception parsing stream chunk ${q}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=hC+" "+this.clientOptions.userAgentExtra;return t[pC]=o,t[qu]=o,t[fC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(dC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=j("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const c=this.clientOptions.uploader,p=await c.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&fg(a,S);const T=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(o,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function bh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Al({message:r,status:o}):new Error(r)}}function _C(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SC="mcp_used/unknown";let TC=!1;function dg(i){for(const t of i)if(EC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return TC}function pg(i){var t;const o=(t=i[qu])!==null&&t!==void 0?t:"";i[qu]=(o+` ${SC}`).trimStart()}function EC(i){return i!==null&&typeof i=="object"&&i instanceof ju}function CC(i){return un(this,arguments,function*(o,a=100){let r,c=0;for(;c<a;){const p=yield me(o.listTools({cursor:r}));for(const g of p.tools)yield yield me(g),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class ju{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new ju(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,cn(CC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const T=S.name;if(c[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);c[T]=v}}catch(S){o={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Zv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AC(i,t,o){const a=new Fv;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class RC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=xC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(K=>{h=K}),S=t.callbacks,T=function(){h({})},R=this.apiClient,b={onopen:T,onmessage:K=>{AC(R,S.onmessage,K)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(K){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(K){}},P=this.webSocketFactory.create(y,NC(p),b);P.connect(),await v;const B={setup:{model:ke(this.apiClient,t.model)}};return P.send(JSON.stringify(B)),new wC(P,this.apiClient)}}class wC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=WS(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=QS(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(vo.PLAY)}pause(){this.sendPlaybackControl(vo.PAUSE)}stop(){this.sendPlaybackControl(vo.STOP)}resetContext(){this.sendPlaybackControl(vo.RESET_CONTEXT)}close(){this.conn.close()}}function NC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function xC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function MC(i,t,o){const a=new zv;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=eT(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class IC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new RC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&dg(t.config.tools)&&pg(S);const T=LC(S);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),ge=this.apiClient.getLocation(),Ce=this.apiClient.getApiKey(),Ie=!!Z&&!!ge||!!Ce;this.apiClient.getCustomBaseUrl()&&!Ie?v=y:(v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v))}else{const Z=this.apiClient.getApiKey();let ge="BidiGenerateContent",Ce="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ge="BidiGenerateContentConstrained",Ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ge}?${Ce}=${Z}`}let R=()=>{};const b=new Promise(Z=>{R=Z}),P=t.callbacks,q=function(){var Z;(Z=P==null?void 0:P.onopen)===null||Z===void 0||Z.call(P),R({})},z=this.apiClient,B={onopen:q,onmessage:Z=>{MC(z,P.onmessage,Z)},onerror:(o=P==null?void 0:P.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(a=P==null?void 0:P.onclose)!==null&&a!==void 0?a:function(Z){}},K=this.webSocketFactory.create(v,kC(T),B);K.connect(),await b;let W=ke(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const Z=this.apiClient.getProject(),ge=this.apiClient.getLocation();Z&&ge&&(W=`projects/${Z}/locations/${ge}/`+W)}let F={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Cl.AUDIO]}:t.config.responseModalities=[Cl.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Q=[];for(const Z of ae)if(this.isCallableTool(Z)){const ge=Z;Q.push(await ge.tool())}else Q.push(Z);Q.length>0&&(t.config.tools=Q);const re={model:W,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?F=XS(this.apiClient,re):F=$S(this.apiClient,re),delete F.config,K.send(JSON.stringify(F)),new UC(K,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const DC={turnComplete:!0};class UC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=on(o.turns),t.isVertexAI()||(a=a.map(r=>ts(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(bC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},DC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:jS(t)}:o={realtimeInput:ZS(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function kC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function LC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mh=10;function Ih(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(To(p)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function To(i){return"callTool"in i&&typeof i.callTool=="function"}function GC(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>To(r)))!==null&&a!==void 0?a:!1}function Dh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(To(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function Uh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC extends Gn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!GC(o)||Ih(o.config))return await this.generateContentInternal(y);const h=Dh(o);if(h.length>0){const P=h.map(q=>`tools[${q}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let v,S;const T=on(y.contents),R=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Mh;let b=0;for(;b<R&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const P=v.candidates[0].content,q=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(To(z)){const K=await z.callTool(v.functionCalls);q.push(...K)}b++,S={role:"user",parts:q},y.contents=on(y.contents),y.contents.push(P),y.contents.push(S),Uh(y.config)&&(T.push(P),T.push(S))}return Uh(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var a,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(o),Ih(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Dh(o);if(y.length>0){const S=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let c;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new bi(Ln.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,c,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(c=o.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>To(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&dg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),pg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const c=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(To(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var o,a,r;const c=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Mh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){return un(this,arguments,function*(){for(var T,R,b,P,q,z;g<c;){p&&(g++,p=!1);const F=yield me(h.processParamsMaybeAddMcpUsage(S)),ae=yield me(h.generateContentStreamInternal(F)),Q=[],re=[];try{for(var B=!0,K=(R=void 0,cn(ae)),W;W=yield me(K.next()),T=W.done,!T;B=!0){P=W.value,B=!1;const Z=P;if(yield yield me(Z),Z.candidates&&(!((q=Z.candidates[0])===null||q===void 0)&&q.content)){re.push(Z.candidates[0].content);for(const ge of(z=Z.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(g<c&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ge.functionCall.name)){const Ce=yield me(v.get(ge.functionCall.name).callTool([ge.functionCall]));Q.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(Z){R={error:Z}}finally{try{!B&&!T&&(b=K.return)&&(yield me(b.call(K)))}finally{if(R)throw R.error}}if(Q.length>0){p=!0;const Z=new Sl;Z.candidates=[{content:{role:"user",parts:Q}}],yield yield me(Z);const ge=[];ge.push(...re),ge.push({role:"user",parts:Q});const Ce=on(S.contents).concat(ge);S.contents=Ce}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wh(this.apiClient,t);return g=j("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=xh(v),T=new Sl;return Object.assign(T,S),T})}else{const h=Rh(this.apiClient,t);return g=j("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=Nh(v),T=new Sl;return Object.assign(T,S),T})}}async generateContentStreamInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wh(this.apiClient,t);return g=j("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return un(this,arguments,function*(){var T,R,b,P;try{for(var q=!0,z=cn(S),B;B=yield me(z.next()),T=B.done,!T;q=!0){P=B.value,q=!1;const K=P,W=xh(yield me(K.json()),t);W.sdkHttpResponse={headers:K.headers};const F=new Sl;Object.assign(F,W),yield yield me(F)}}catch(K){R={error:K}}finally{try{!q&&!T&&(b=z.return)&&(yield me(b.call(z)))}finally{if(R)throw R.error}}})})}else{const h=Rh(this.apiClient,t);return g=j("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(S){return un(this,arguments,function*(){var T,R,b,P;try{for(var q=!0,z=cn(S),B;B=yield me(z.next()),T=B.done,!T;q=!0){P=B.value,q=!1;const K=P,W=Nh(yield me(K.json()),t);W.sdkHttpResponse={headers:K.headers};const F=new Sl;Object.assign(F,W),yield yield me(F)}}catch(K){R={error:K}}finally{try{!q&&!T&&(b=z.return)&&(yield me(b.call(z)))}finally{if(R)throw R.error}}})})}}async embedContent(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=IT(this.apiClient,t);return g=j("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=UT(v),T=new rh;return Object.assign(T,S),T})}else{const h=MT(this.apiClient,t);return g=j("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=DT(v),T=new rh;return Object.assign(T,S),T})}}async generateImagesInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FT(this.apiClient,t);return g=j("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=JT(v),T=new uh;return Object.assign(T,S),T})}else{const h=zT(this.apiClient,t);return g=j("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=YT(v),T=new uh;return Object.assign(T,S),T})}}async editImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=wT(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=NT(y),v=new Iv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=FE(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=YE(y),v=new Dv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=RE(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=wE(y),v=new Uv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=DE(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=UE(y),v=new kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=uE(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ou(v))}else{const h=rE(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Gu(v))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vE(this.apiClient,t);return g=j("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=SE(v),T=new ch;return Object.assign(T,S),T})}else{const h=yE(this.apiClient,t);return g=j("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=_E(v),T=new ch;return Object.assign(T,S),T})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=BE(this.apiClient,t);return g=j("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ou(v))}else{const h=VE(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Gu(v))}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ET(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=AT(v),T=new fh;return Object.assign(T,S),T})}else{const h=TT(this.apiClient,t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=CT(v),T=new fh;return Object.assign(T,S),T})}}async countTokens(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vT(this.apiClient,t);return g=j("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=ST(v),T=new dh;return Object.assign(T,S),T})}else{const h=yT(this.apiClient,t);return g=j("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=_T(v),T=new dh;return Object.assign(T,S),T})}}async computeTokens(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=cT(this.apiClient,t);return c=j("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=fT(y),v=new Lv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return g=j("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=QT(v),T=new $a;return Object.assign(T,S),T})}else{const h=WT(this.apiClient,t);return g=j("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>{const S=XT(v),T=new $a;return Object.assign(T,S),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qC extends Gn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Rv(t);return g=j("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=Av(t);return g=j("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=yv(t);return c=j("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function HC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>XC(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function VC(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const p=u(t,["uses"]);o!==void 0&&p!=null&&f(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],$C(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function BC(i,t){const o={},a=u(t,["config"]);return a!=null&&f(o,["config"],VC(i,a,o)),o}function zC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function FC(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function YC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function JC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function KC(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Zu(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const R=u(i,["enableAffectiveDialog"]);t!==void 0&&R!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],R);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],HC(wt(b)));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let ae=Ao(P);Array.isArray(ae)&&(ae=ae.map(Q=>WC(Co(Q)))),f(t,["setup","tools"],ae)}const q=u(i,["sessionResumption"]);t!==void 0&&q!=null&&f(t,["setup","sessionResumption"],QC(q));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","inputAudioTranscription"],z);const B=u(i,["outputAudioTranscription"]);t!==void 0&&B!=null&&f(t,["setup","outputAudioTranscription"],B);const K=u(i,["realtimeInputConfig"]);t!==void 0&&K!=null&&f(t,["setup","realtimeInputConfig"],K);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&f(t,["setup","contextWindowCompression"],W);const F=u(i,["proactivity"]);if(t!==void 0&&F!=null&&f(t,["setup","proactivity"],F),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function $C(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],ke(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],KC(r,o)),o}function XC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],zC(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],FC(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],PC(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function QC(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function WC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],YC(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],JC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function jC(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=ZC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class eA extends Gn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=BC(this.apiClient,t);c=j("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=jC(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function nA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&tA(a,t),t}function iA(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function oA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function lA(i){const t={},o=u(i,["parent"]);o!=null&&f(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&oA(a,t),t}function aA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sA extends Gn{constructor(t){super(),this.apiClient=t,this.list=async o=>new bi(Ln.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iA(t);return c=j("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nA(t);r=j("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lA(t);return c=j("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=aA(y),v=new Gv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rA extends Gn{constructor(t,o=new sA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new bi(Ln.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZE(t);return c=j("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tC(t);return c=j("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eC(t);r=j("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sC(t);return c=j("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=rC(y),v=new Ov;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uC(t);return c=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=cC(y),v=new qv;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oC(t);return c=j("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=iC(y),v=new Ku;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return mg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const uA=()=>mg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Hu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln extends Error{}class bt extends ln{constructor(t,o,a,r){super(`${bt.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new os({message:a,cause:Hu(o)});const c=o;return t===400?new gg(t,c,a,r):t===401?new yg(t,c,a,r):t===403?new vg(t,c,a,r):t===404?new _g(t,c,a,r):t===409?new Sg(t,c,a,r):t===422?new Tg(t,c,a,r):t===429?new Eg(t,c,a,r):t>=500?new Cg(t,c,a,r):new bt(t,c,a,r)}}class Vu extends bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class os extends bt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class hg extends os{constructor({message:t}={}){super({message:t??"Request timed out."})}}class gg extends bt{}class yg extends bt{}class vg extends bt{}class _g extends bt{}class Sg extends bt{}class Tg extends bt{}class Eg extends bt{}class Cg extends bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cA=/^[a-z][a-z0-9+.-]*:/i,fA=i=>cA.test(i);let Bu=i=>(Bu=Array.isArray,Bu(i));const dA=Bu;let pA=dA;const kh=pA;function mA(i){if(!i)return!0;for(const t in i)return!1;return!0}function hA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const gA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ln(`${i} must be an integer`);if(t<0)throw new ln(`${i} must be a positive integer`);return t},yA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _A(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const SA=()=>{var i,t,o,a,r;const c=_A();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yo,"X-Stainless-OS":Gh(Deno.build.os),"X-Stainless-Arch":Lh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yo,"X-Stainless-OS":Gh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Lh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=TA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const Lh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Gh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Va;const EA=()=>Va??(Va=SA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ag(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function AA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Ag({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Rg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function RA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Nu(i,t,o){return wg(),new File(i,t??"unknown_file",o)}function NA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const xA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",bA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ng(i),MA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function IA(i,t,o){if(wg(),i=await i,bA(i))return i instanceof File?i:Nu([await i.arrayBuffer()],i.name);if(MA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Nu(await zu(r),t,o)}const a=await zu(i);if(t||(t=NA(i)),!(o!=null&&o.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Nu(a,t,o)}async function zu(i){var t,o,a,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Ng(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(xA(i))try{for(var g=!0,y=cn(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await zu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${DA(i)}`)}return p}function DA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg{constructor(t){this._client=t}}xg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Oh=Object.freeze(Object.create(null)),UA=(i=bg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const c=[],p=o.reduce((v,S,T)=>{var R,b,P;/[?#]/.test(S)&&(r=!0);const q=a[T];let z=(r?encodeURIComponent:i)(""+q);return T!==a.length&&(q==null||typeof q=="object"&&q.toString===((P=Object.getPrototypeOf((b=Object.getPrototypeOf((R=q.hasOwnProperty)!==null&&R!==void 0?R:Oh))!==null&&b!==void 0?b:Oh))===null||P===void 0?void 0:P.toString))&&(z=q+"",c.push({start:v.length+S.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(q).slice(8,-1)} is not a valid path parameter`})),v+S+(T===a.length?"":z)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((v,S)=>v.start-S.start),c.length>0){let v=0;const S=c.reduce((T,R)=>{const b=" ".repeat(R.start-v),P="^".repeat(R.length);return v=R.start+R.length,T+b+P},"");throw new ln(`Path parameters result in path with invalid segments:
${c.map(T=>T.error).join(`
`)}
${p}
${S}`)}return p}),Ba=UA(bg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg extends xg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,c=Qa(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ba`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ba`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ba`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const c=o??{},{api_version:p=this._client.apiVersion}=c,g=Qa(c,["api_version"]);return this._client.get(Ba`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Mg._key=Object.freeze(["interactions"]);class Ig extends Mg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let za;function ec(i){let t;return(za??(t=new globalThis.TextEncoder,za=t.encode.bind(t)))(i)}let Fa;function qh(i){let t;return(Fa??(t=new globalThis.TextDecoder,Fa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ls{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ec(t):t;this.buffer=kA([this.buffer,o]);const a=[];let r;for(;(r=LA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(qh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=qh(this.buffer.subarray(0,c));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}ls.NEWLINE_CHARS=new Set([`
`,"\r"]);ls.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function LA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function GA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wa={off:0,error:200,warn:300,info:400,debug:500},Ph=(i,t,o)=>{if(i){if(hA(Wa,i))return i;xt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Wa))}`)}};function El(){}function Ya(i,t,o){return!t||Wa[i]>Wa[o]?El:t[i].bind(t)}const OA={error:El,warn:El,info:El,debug:El};let Hh=new WeakMap;function xt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return OA;const r=Hh.get(o);if(r&&r[0]===a)return r[1];const c={error:Ya("error",o,a),warn:Ya("warn",o,a),info:Ya("info",o,a),debug:Ya("debug",o,a)};return Hh.set(o,[a,c]),c}const xi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _o{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const c=a?xt(a):console;function p(){return un(this,arguments,function*(){var y,h,v,S;if(r)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var R=!0,b=cn(qA(t,o)),P;P=yield me(b.next()),y=P.done,!y;R=!0){S=P.value,R=!1;const q=S;if(!T)if(q.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield me(JSON.parse(q.data))}catch(z){throw c.error("Could not parse message into JSON:",q.data),c.error("From chunk:",q.raw),z}}}catch(q){h={error:q}}finally{try{!R&&!y&&(v=b.return)&&(yield me(v.call(b)))}finally{if(h)throw h.error}}T=!0}catch(q){if(Pu(q))return yield me(void 0);throw q}finally{T||o.abort()}})}return new _o(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function c(){return un(this,arguments,function*(){var y,h,v,S;const T=new ls,R=Rg(t);try{for(var b=!0,P=cn(R),q;q=yield me(P.next()),y=q.done,!y;b=!0){S=q.value,b=!1;const z=S;for(const B of T.decode(z))yield yield me(B)}}catch(z){h={error:z}}finally{try{!b&&!y&&(v=P.return)&&(yield me(v.call(P)))}finally{if(h)throw h.error}}for(const z of T.flush())yield yield me(z)})}function p(){return un(this,arguments,function*(){var y,h,v,S;if(r)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var R=!0,b=cn(c()),P;P=yield me(b.next()),y=P.done,!y;R=!0){S=P.value,R=!1;const q=S;T||q&&(yield yield me(JSON.parse(q)))}}catch(q){h={error:q}}finally{try{!R&&!y&&(v=b.return)&&(yield me(v.call(b)))}finally{if(h)throw h.error}}T=!0}catch(q){if(Pu(q))return yield me(void 0);throw q}finally{T||o.abort()}})}return new _o(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=a.next();t.push(p),o.push(p)}return c.shift()}});return[new _o(()=>r(t),this.controller,this.client),new _o(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Ag({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await o.next();if(c)return a.close();const p=ec(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function qA(i,t){return un(this,arguments,function*(){var a,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ln("Attempted to iterate over a response with no body");const g=new HA,y=new ls,h=Rg(i.body);try{for(var v=!0,S=cn(PA(h)),T;T=yield me(S.next()),a=T.done,!a;v=!0){p=T.value,v=!1;const R=p;for(const b of y.decode(R)){const P=g.decode(b);P&&(yield yield me(P))}}}catch(R){r={error:R}}finally{try{!v&&!a&&(c=S.return)&&(yield me(c.call(S)))}finally{if(r)throw r.error}}for(const R of y.flush()){const b=g.decode(R);b&&(yield yield me(b))}})}function PA(i){return un(this,arguments,function*(){var o,a,r,c;let p=new Uint8Array;try{for(var g=!0,y=cn(i),h;h=yield me(y.next()),o=h.done,!o;g=!0){c=h.value,g=!1;const v=c;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ec(v):v;let T=new Uint8Array(p.length+S.length);T.set(p),T.set(S,p.length),p=T;let R;for(;(R=GA(p))!==-1;)yield yield me(p.slice(0,R)),p=p.slice(R)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield me(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield me(p))})}class HA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=VA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function VA(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BA(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var g;if(t.options.stream)return xt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):_o.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return xt(i).debug(`[${a}] response parsed`,xi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc extends Promise{constructor(t,o,a=BA){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new tc(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dg=Symbol("brand.privateNullableHeaders");function*zA(i){if(!i)return;if(Dg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():kh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=kh(a[1])?a[1]:[a[1]];let p=!1;for(const g of c)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Tl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[c,p]of zA(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),p===null?(t.delete(c),o.add(g)):(t.append(c,p),o.delete(g))}}return{[Dg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xu=i=>{var t,o,a,r,c,p;if(typeof globalThis.process<"u")return(a=(o=(t=fv)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ug;class as{constructor(t){var o,a,r,c,p,g,y,{baseURL:h=xu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=xu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,T=Qa(t,["baseURL","apiKey","apiVersion"]);const R=Object.assign(Object.assign({apiKey:v,apiVersion:S},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=R.baseURL,this.timeout=(a=R.timeout)!==null&&a!==void 0?a:as.DEFAULT_TIMEOUT,this.logger=(r=R.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(p=(c=Ph(R.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Ph(xu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:b,this.fetchOptions=R.fetchOptions,this.maxRetries=(g=R.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=R.fetch)!==null&&y!==void 0?y:CA(),this.encoder=wA,this._options=R,this.apiKey=v,this.apiVersion=S,this.clientAdapter=R.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=Tl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Tl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Tl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new ln(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${yo}`}defaultIdempotencyKey(){return`stainless-node-retry-${uA()}`}makeStatusError(t,o,a,r){return bt.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=fA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return mA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new tc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,c,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),R=a===void 0?"":`, retryOf: ${a}`,b=Date.now();if(xt(this).debug(`[${T}] sending request`,xi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Vu;const P=new AbortController,q=await this.fetchWithTimeout(v,h,S,P).catch(Hu),z=Date.now();if(q instanceof globalThis.Error){const K=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Vu;const W=Pu(q)||/timed? ?out/i.test(String(q)+("cause"in q?String(q.cause):""));if(o)return xt(this).info(`[${T}] connection ${W?"timed out":"failed"} - ${K}`),xt(this).debug(`[${T}] connection ${W?"timed out":"failed"} (${K})`,xi({retryOfRequestLogID:a,url:v,durationMs:z-b,message:q.message})),this.retryRequest(g,o,a??T);throw xt(this).info(`[${T}] connection ${W?"timed out":"failed"} - error; no more retries left`),xt(this).debug(`[${T}] connection ${W?"timed out":"failed"} (error; no more retries left)`,xi({retryOfRequestLogID:a,url:v,durationMs:z-b,message:q.message})),W?new hg:new os({cause:q})}const B=`[${T}${R}] ${h.method} ${v} ${q.ok?"succeeded":"failed"} with status ${q.status} in ${z-b}ms`;if(!q.ok){const K=await this.shouldRetry(q);if(o&&K){const Z=`retrying, ${o} attempts remaining`;return await RA(q.body),xt(this).info(`${B} - ${Z}`),xt(this).debug(`[${T}] response error (${Z})`,xi({retryOfRequestLogID:a,url:q.url,status:q.status,headers:q.headers,durationMs:z-b})),this.retryRequest(g,o,a??T,q.headers)}const W=K?"error; no more retries left":"error; not retryable";xt(this).info(`${B} - ${W}`);const F=await q.text().catch(Z=>Hu(Z).message),ae=yA(F),Q=ae?void 0:F;throw xt(this).debug(`[${T}] response error (${W})`,xi({retryOfRequestLogID:a,url:q.url,status:q.status,headers:q.headers,message:Q,durationMs:Date.now()-b})),this.makeStatusError(q.status,ae,Q,q.headers)}return xt(this).info(B),xt(this).debug(`[${T}] response start`,xi({retryOfRequestLogID:a,url:q.url,status:q.status,headers:q.headers,durationMs:z-b})),{response:q,options:g,controller:P,requestLogID:T,retryOfRequestLogID:a,startTime:b}}async fetchWithTimeout(t,o,a,r){const c=o||{},{signal:p,method:g}=c,y=Qa(c,["signal","method"]),h=r.abort.bind(r);p&&p.addEventListener("abort",h,{once:!0});const v=setTimeout(h,a),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var c;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await vA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,p=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,c;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,S=this.buildURL(y,h,v);"timeout"in p&&gA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:T,body:R}=this.buildBody({options:p}),b=await this.buildHeaders({options:t,method:g,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:b},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&R instanceof globalThis.ReadableStream&&{duplex:"half"}),R&&{body:R}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=Tl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),EA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Tl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:AA(t)}:this.encoder({body:t,headers:a})}}as.DEFAULT_TIMEOUT=6e4;class _t extends as{constructor(){super(...arguments),this.interactions=new Ig(this)}}Ug=_t;_t.GeminiNextGenAPIClient=Ug;_t.GeminiNextGenAPIClientError=ln;_t.APIError=bt;_t.APIConnectionError=os;_t.APIConnectionTimeoutError=hg;_t.APIUserAbortError=Vu;_t.NotFoundError=_g;_t.ConflictError=Sg;_t.RateLimitError=Eg;_t.BadRequestError=gg;_t.AuthenticationError=yg;_t.InternalServerError=Cg;_t.PermissionDeniedError=vg;_t.UnprocessableEntityError=Tg;_t.toFile=IA;_t.Interactions=Ig;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FA(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function YA(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function JA(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function KA(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function $A(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return a}function XA(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const F=u(i,["validationDataset"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec"],bu(F))}else if(r==="PREFERENCE_TUNING"){const F=u(i,["validationDataset"]);t!==void 0&&F!=null&&f(t,["preferenceOptimizationSpec"],bu(F))}else if(r==="DISTILLATION"){const F=u(i,["validationDataset"]);t!==void 0&&F!=null&&f(t,["distillationSpec"],bu(F))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const F=u(i,["epochCount"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],F)}else if(g==="PREFERENCE_TUNING"){const F=u(i,["epochCount"]);t!==void 0&&F!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],F)}else if(g==="DISTILLATION"){const F=u(i,["epochCount"]);t!==void 0&&F!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],F)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const F=u(i,["learningRateMultiplier"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],F)}else if(y==="PREFERENCE_TUNING"){const F=u(i,["learningRateMultiplier"]);t!==void 0&&F!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],F)}else if(y==="DISTILLATION"){const F=u(i,["learningRateMultiplier"]);t!==void 0&&F!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],F)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const F=u(i,["exportLastCheckpointOnly"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],F)}else if(h==="PREFERENCE_TUNING"){const F=u(i,["exportLastCheckpointOnly"]);t!==void 0&&F!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],F)}else if(h==="DISTILLATION"){const F=u(i,["exportLastCheckpointOnly"]);t!==void 0&&F!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],F)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const F=u(i,["adapterSize"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],F)}else if(v==="PREFERENCE_TUNING"){const F=u(i,["adapterSize"]);t!==void 0&&F!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],F)}else if(v==="DISTILLATION"){const F=u(i,["adapterSize"]);t!==void 0&&F!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],F)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const F=u(i,["tuningMode"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","tuningMode"],F)}const T=u(i,["customBaseModel"]);t!==void 0&&T!=null&&f(t,["customBaseModel"],T);let R=u(o,["config","method"]);if(R===void 0&&(R="SUPERVISED_FINE_TUNING"),R==="SUPERVISED_FINE_TUNING"){const F=u(i,["batchSize"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],F)}let b=u(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const F=u(i,["learningRate"]);t!==void 0&&F!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],F)}const P=u(i,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const q=u(i,["beta"]);t!==void 0&&q!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],q);const z=u(i,["baseTeacherModel"]);t!==void 0&&z!=null&&f(t,["distillationSpec","baseTeacherModel"],z);const B=u(i,["tunedTeacherModelSource"]);t!==void 0&&B!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],B);const K=u(i,["sftLossWeightMultiplier"]);t!==void 0&&K!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],K);const W=u(i,["outputUri"]);return t!==void 0&&W!=null&&f(t,["outputUri"],W),a}function QA(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&sR(c);const p=u(i,["config"]);return p!=null&&$A(p,o),o}function WA(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&rR(c,o,t);const p=u(i,["config"]);return p!=null&&XA(p,o,t),o}function ZA(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function jA(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function eR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function tR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function nR(i,t){const o={},a=u(i,["config"]);return a!=null&&eR(a,o),o}function iR(i,t){const o={},a=u(i,["config"]);return a!=null&&tR(a,o),o}function oR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>kg(g))),f(o,["tuningJobs"],p)}return o}function lR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Fu(g))),f(o,["tuningJobs"],p)}return o}function aR(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["model"],a);const r=u(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function sR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["examples","examples"],r)}return o}function rR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(c==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function kg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Qh(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&f(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const T=u(i,["_self"]);return T!=null&&f(o,["tunedModel"],aR(T)),o}function Fu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Qh(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&f(o,["error"],v);const S=u(i,["description"]);S!=null&&f(o,["description"],S);const T=u(i,["baseModel"]);T!=null&&f(o,["baseModel"],T);const R=u(i,["tunedModel"]);R!=null&&f(o,["tunedModel"],R);const b=u(i,["preTunedModel"]);b!=null&&f(o,["preTunedModel"],b);const P=u(i,["supervisedTuningSpec"]);P!=null&&f(o,["supervisedTuningSpec"],P);const q=u(i,["preferenceOptimizationSpec"]);q!=null&&f(o,["preferenceOptimizationSpec"],q);const z=u(i,["distillationSpec"]);z!=null&&f(o,["distillationSpec"],z);const B=u(i,["tuningDataStats"]);B!=null&&f(o,["tuningDataStats"],B);const K=u(i,["encryptionSpec"]);K!=null&&f(o,["encryptionSpec"],K);const W=u(i,["partnerModelTuningSpec"]);W!=null&&f(o,["partnerModelTuningSpec"],W);const F=u(i,["customBaseModel"]);F!=null&&f(o,["customBaseModel"],F);const ae=u(i,["experiment"]);ae!=null&&f(o,["experiment"],ae);const Q=u(i,["labels"]);Q!=null&&f(o,["labels"],Q);const re=u(i,["outputUri"]);re!=null&&f(o,["outputUri"],re);const Z=u(i,["pipelineJob"]);Z!=null&&f(o,["pipelineJob"],Z);const ge=u(i,["serviceAccount"]);ge!=null&&f(o,["serviceAccount"],ge);const Ce=u(i,["tunedModelDisplayName"]);Ce!=null&&f(o,["tunedModelDisplayName"],Ce);const Ie=u(i,["veoTuningSpec"]);return Ie!=null&&f(o,["veoTuningSpec"],Ie),o}function uR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(i,["done"]);p!=null&&f(o,["done"],p);const g=u(i,["error"]);return g!=null&&f(o,["error"],g),o}function bu(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cR extends Gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Ln.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:Iu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jA(t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>Fu(v))}else{const h=ZA(t);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>kg(v))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=iR(t);return g=j("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=lR(v),T=new ph;return Object.assign(T,S),T})}else{const h=nR(t);return g=j("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=oR(v),T=new ph;return Object.assign(T,S),T})}}async cancel(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YA(t);return g=j("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=KA(v),T=new mh;return Object.assign(T,S),T})}else{const h=FA(t);return g=j("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const S=JA(v),T=new mh;return Object.assign(T,S),T})}}async tuneInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=WA(t,t);return c=j("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Fu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QA(t);return c=j("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>uR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dR=1024*1024*8,pR=3,mR=1e3,hR=2,Za="x-goog-upload-status";async function gR(i,t,o){var a;const r=await Lg(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function yR(i,t,o){var a;const r=await Lg(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Fh(c),g=new $u;return Object.assign(g,p),g}async function Lg(i,t,o){var a,r;let c=0,p=0,g=new Uu(new Response),y="upload";for(c=i.size;p<c;){const h=Math.min(dR,c-p),v=i.slice(p,p+h);p+h>=c&&(y+=", finalize");let S=0,T=mR;for(;S<pR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Za]));)S++,await _R(T),T=T*hR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Za])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function vR(i){return{size:i.size,type:i.type}}function _R(i){return new Promise(t=>setTimeout(t,i))}class SR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await yR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TR{create(t,o,a){return new ER(t,o,a)}}class ER{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vh="x-goog-api-key";class CR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Vh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Vh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR="gl-node/";class RR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new _t({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=hv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new CR(this.apiKey);this.apiClient=new vC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:AR+"web",uploader:new SR,downloader:new fR}),this.models=new OC(this.apiClient),this.live=new IC(this.apiClient,r,new TR),this.batches=new Y_(this.apiClient),this.chats=new wS(this.models,this.apiClient),this.caches=new CS(this.apiClient),this.files=new qS(this.apiClient),this.operations=new qC(this.apiClient),this.authTokens=new eA(this.apiClient),this.tunings=new cR(this.apiClient),this.fileSearchStores=new rA(this.apiClient)}}var Fe=(i=>(i.SLEEPING="SLEEPING",i.LISTENING="LISTENING",i.THINKING="THINKING",i.SPEAKING="SPEAKING",i.EXECUTING="EXECUTING",i.WORKFLOW="WORKFLOW",i))(Fe||{});const wR={cpu:0,memory:0,disk:0,network:"OFFLINE",uptime:"00:00:00",battery:null,batteryCharging:null,hostname:"",os:"",cpuCores:0,cpuFreq:0,memoryTotal:0,memoryUsed:0,diskTotal:0,diskFree:0,networkSent:0,networkRecv:0},NR=({status:i,audioLevel:t=0})=>{const{coreColor:o,rgbColor:a,statusLabel:r}=Te.useMemo(()=>{switch(i){case Fe.LISTENING:return{coreColor:"#06b6d4",rgbColor:"6, 182, 212",statusLabel:"LISTENING"};case Fe.THINKING:return{coreColor:"#8b5cf6",rgbColor:"139, 92, 246",statusLabel:"PROCESSING"};case Fe.SPEAKING:return{coreColor:"#10b981",rgbColor:"16, 185, 129",statusLabel:"TRANSMITTING"};case Fe.EXECUTING:return{coreColor:"#f97316",rgbColor:"249, 115, 22",statusLabel:"EXECUTING"};case Fe.WORKFLOW:return{coreColor:"#eab308",rgbColor:"234, 179, 8",statusLabel:"WORKFLOW"};default:return{coreColor:"#475569",rgbColor:"71, 85, 105",statusLabel:"STANDBY"}}},[i]),c=i!==Fe.SLEEPING,p=1+t*.8,g=30+t*200;return C.jsxs("div",{className:"relative flex items-center justify-center w-[32rem] h-[32rem]",children:[C.jsx("div",{className:"absolute inset-0 opacity-10",children:C.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[C.jsx("defs",{children:C.jsx("pattern",{id:"hexagons",width:"10",height:"17.32",patternUnits:"userSpaceOnUse",children:C.jsx("polygon",{points:"5,0 10,2.89 10,8.66 5,11.55 0,8.66 0,2.89",fill:"none",stroke:o,strokeWidth:"0.2",opacity:"0.3"})})}),C.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#hexagons)",className:c?"animate-pulse":""})]})}),C.jsxs("svg",{className:"absolute w-full h-full",viewBox:"0 0 100 100",children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"ringGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[C.jsx("stop",{offset:"0%",stopColor:o,stopOpacity:"0.8"}),C.jsx("stop",{offset:"50%",stopColor:o,stopOpacity:"0.2"}),C.jsx("stop",{offset:"100%",stopColor:o,stopOpacity:"0.8"})]})}),C.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:o,strokeWidth:"0.15",strokeDasharray:"2 4 8 4",className:c?"animate-[spin_60s_linear_infinite]":"",opacity:"0.4"}),C.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:o,strokeWidth:"0.3",strokeDasharray:"1 9",className:c?"animate-[spin_30s_linear_infinite_reverse]":"",opacity:"0.5"}),[0,60,120,180,240,300].map((y,h)=>C.jsx("path",{d:`M ${50+42*Math.cos((y-25)*Math.PI/180)} ${50+42*Math.sin((y-25)*Math.PI/180)} 
                A 42 42 0 0 1 ${50+42*Math.cos((y+25)*Math.PI/180)} ${50+42*Math.sin((y+25)*Math.PI/180)}`,fill:"none",stroke:o,strokeWidth:"1.5",opacity:c?.6:.2,className:c?"animate-pulse":"",style:{animationDelay:`${h*.1}s`}},h)),C.jsxs("g",{opacity:c?.4:.1,children:[C.jsx("line",{x1:"50",y1:"5",x2:"50",y2:"15",stroke:o,strokeWidth:"0.5"}),C.jsx("line",{x1:"50",y1:"85",x2:"50",y2:"95",stroke:o,strokeWidth:"0.5"}),C.jsx("line",{x1:"5",y1:"50",x2:"15",y2:"50",stroke:o,strokeWidth:"0.5"}),C.jsx("line",{x1:"85",y1:"50",x2:"95",y2:"50",stroke:o,strokeWidth:"0.5"})]}),[[15,15],[85,15],[15,85],[85,85]].map(([y,h],v)=>C.jsx("g",{opacity:c?.6:.2,children:C.jsx("path",{d:v===0?`M ${y} ${h+5} L ${y} ${h} L ${y+5} ${h}`:v===1?`M ${y-5} ${h} L ${y} ${h} L ${y} ${h+5}`:v===2?`M ${y} ${h-5} L ${y} ${h} L ${y+5} ${h}`:`M ${y-5} ${h} L ${y} ${h} L ${y} ${h-5}`,fill:"none",stroke:o,strokeWidth:"0.8"})},v)),C.jsx("circle",{cx:"50",cy:"50",r:38+t*8,fill:"none",stroke:o,strokeWidth:"0.3",opacity:.3+t,className:"transition-all duration-75"}),C.jsx("circle",{cx:"50",cy:"50",r:"35",fill:"none",stroke:o,strokeWidth:"2",strokeDasharray:"3 20",className:c?"animate-[spin_20s_linear_infinite]":"",opacity:"0.4"})]}),c&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"absolute inset-4 rounded-full animate-ring",style:{border:`1px solid rgba(${a}, 0.3)`}}),C.jsx("div",{className:"absolute inset-16 rounded-full animate-ring",style:{border:`1px solid rgba(${a}, 0.2)`,animationDelay:"1s"}}),C.jsx("div",{className:"absolute inset-24 rounded-full animate-ring",style:{border:`1px solid rgba(${a}, 0.1)`,animationDelay:"2s"}})]}),C.jsxs("div",{className:"relative z-10 w-52 h-52 rounded-full transition-all duration-100 flex items-center justify-center",style:{transform:`scale(${p})`,boxShadow:`0 0 ${g}px rgba(${a}, 0.4), 0 0 ${g*2}px rgba(${a}, 0.2)`},children:[C.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(from 0deg, transparent, rgba(${a}, 0.3), transparent, rgba(${a}, 0.3), transparent)`,animation:c?"spin 4s linear infinite":"none"}}),C.jsxs("div",{className:"w-44 h-44 rounded-full flex items-center justify-center relative overflow-hidden",style:{background:`radial-gradient(circle at 30% 30%, rgba(${a}, 0.1) 0%, #000000 60%, #000000 100%)`,border:`2px solid rgba(${a}, 0.4)`,boxShadow:`inset 0 0 40px rgba(0,0,0,0.8), inset 0 0 20px rgba(${a}, 0.1)`},children:[C.jsx("div",{className:"absolute inset-0 animate-pulse",style:{background:`radial-gradient(circle, rgba(${a}, 0.2) 0%, transparent 50%)`,animationDuration:"2s"}}),C.jsx("div",{className:"absolute inset-4 rounded-full",style:{border:`1px solid rgba(${a}, 0.3)`,animation:c?"spin 10s linear infinite reverse":"none"},children:[0,45,90,135,180,225,270,315].map((y,h)=>C.jsx("div",{className:"absolute w-1 h-3 rounded-full",style:{background:o,opacity:.5,left:"50%",top:"0",transform:`translateX(-50%) rotate(${y}deg)`,transformOrigin:"50% 70px"}},h))}),C.jsxs("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[C.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${c?"rotate-45":"rotate-0"}`,style:{border:`2px solid ${o}`,borderRadius:"20%",boxShadow:`0 0 15px rgba(${a}, 0.5), inset 0 0 15px rgba(${a}, 0.2)`}}),C.jsx("div",{className:`absolute inset-3 transition-all duration-1000 ${c?"-rotate-45 scale-90":"rotate-0"}`,style:{border:`1px solid ${o}`,opacity:.6,borderRadius:"15%"}}),C.jsx("div",{className:"w-6 h-6 rounded-full",style:{background:`radial-gradient(circle at 30% 30%, white, ${o})`,boxShadow:`0 0 20px ${o}, 0 0 40px rgba(${a}, 0.5), 0 0 60px rgba(${a}, 0.3)`}})]}),c&&C.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-full",children:C.jsx("div",{className:"w-full h-0.5 absolute",style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`,animation:"scan 2.5s linear infinite",top:"0"}})})]})]}),C.jsxs("div",{className:"absolute -bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center",children:[C.jsx("div",{className:"w-px h-16 mb-4",style:{background:`linear-gradient(to top, rgba(${a}, 0.6), transparent)`}}),C.jsxs("div",{className:"glass-card px-6 py-2 rounded-full relative overflow-hidden",style:{border:`1px solid rgba(${a}, 0.4)`,boxShadow:`0 0 20px rgba(${a}, 0.2)`},children:[C.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`linear-gradient(90deg, transparent, rgba(${a}, 0.3), transparent)`,animation:"holoShine 3s linear infinite"}}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:`w-2 h-2 rounded-full ${c?"status-pulse":""}`,style:{backgroundColor:o,color:o}}),C.jsx("span",{className:"font-orbitron text-[10px] font-black tracking-[0.4em] uppercase",style:{color:o,textShadow:`0 0 10px rgba(${a}, 0.8)`},children:r})]})]}),C.jsx("div",{className:"mt-3 flex gap-2",children:[...Array(7)].map((y,h)=>C.jsx("div",{className:"w-1 rounded-full transition-all duration-150",style:{height:c?`${8+Math.random()*16}px`:"4px",backgroundColor:o,opacity:c?.3+Math.random()*.7:.2,animation:c?`pulse 0.8s infinite alternate ${h*.1}s`:"none",boxShadow:c?`0 0 5px rgba(${a}, 0.5)`:"none"}},h))})]}),C.jsxs("div",{className:"absolute top-4 left-4 font-mono text-[8px] opacity-40",style:{color:o},children:[C.jsx("div",{children:"SYS://NEURAL_CORE"}),C.jsx("div",{children:"VER: 7.0"})]}),C.jsxs("div",{className:"absolute top-4 right-4 font-mono text-[8px] text-right opacity-40",style:{color:o},children:[C.jsxs("div",{children:["FREQ: ",(440+t*1e3).toFixed(0),"Hz"]}),C.jsxs("div",{children:["AMP: ",(t*100).toFixed(1),"%"]})]})]})},xR=({logs:i})=>{const t=Te.useRef(null),[o,a]=Te.useState(new Date().toLocaleTimeString("en-US",{hour12:!1}));Te.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[i]),Te.useEffect(()=>{const p=setInterval(()=>{a(new Date().toLocaleTimeString("en-US",{hour12:!1}))},1e3);return()=>clearInterval(p)},[]);const r=p=>{switch(p){case"JERRY":return"text-cyan-400 glow-text-cyan";case"USER":return"text-blue-400";case"BRIDGE":return"text-emerald-400 glow-text-green";case"WORKFLOW":return"text-amber-400";default:return"text-slate-500"}},c=p=>{switch(p){case"error":return"text-red-500 font-bold";case"success":return"text-emerald-400";case"command":return"text-amber-400 italic";case"warning":return"text-yellow-400 font-semibold";case"alert":return"text-red-400 font-bold animate-pulse";default:return"text-slate-300"}};return C.jsxs("div",{className:"glass-card-dark flex-1 h-full overflow-hidden flex flex-col rounded-2xl border border-cyan-500/20 relative corner-accent",children:[C.jsx("div",{className:"scan-line"}),C.jsxs("div",{className:"bg-black/60 px-5 py-3 flex items-center justify-between border-b border-cyan-500/20 relative",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/60 hover:bg-red-500 transition-colors cursor-pointer shadow-[0_0_8px_rgba(239,68,68,0.5)]"}),C.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/60 hover:bg-yellow-500 transition-colors cursor-pointer shadow-[0_0_8px_rgba(234,179,8,0.5)]"}),C.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500/60 hover:bg-emerald-500 transition-colors cursor-pointer shadow-[0_0_8px_rgba(16,185,129,0.5)]"})]}),C.jsx("div",{className:"h-4 w-px bg-cyan-500/20"}),C.jsx("span",{className:"font-hack text-[10px] tracking-[0.2em] text-cyan-500/80 uppercase",children:"sys://neural_terminal"})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{className:"font-mono text-[9px] text-slate-600",children:o}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-mono text-[8px] text-emerald-500/60",children:"SECURE"}),C.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_10px_#10b981]"})]})]})]}),C.jsxs("div",{className:"bg-black/40 px-5 py-2 border-b border-cyan-500/10 flex items-center gap-2",children:[C.jsx("span",{className:"text-emerald-500 font-mono text-[10px]",children:"root@jerry"}),C.jsx("span",{className:"text-slate-600 font-mono text-[10px]",children:":"}),C.jsx("span",{className:"text-blue-400 font-mono text-[10px]",children:"~/neural_core"}),C.jsx("span",{className:"text-slate-600 font-mono text-[10px]",children:"$"}),C.jsx("span",{className:"text-cyan-400/60 font-mono text-[10px] ml-1",children:"stream --mode=realtime"})]}),C.jsxs("div",{ref:t,className:"flex-1 p-4 font-mono text-[11px] overflow-y-auto space-y-2 bg-black/30",style:{backgroundImage:"linear-gradient(rgba(6, 182, 212, 0.02) 1px, transparent 1px)",backgroundSize:"100% 20px"},children:[i.length===0&&C.jsxs("div",{className:"flex flex-col gap-2 text-slate-600",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-emerald-500",children:"$"}),C.jsx("span",{className:"animate-pulse",children:"Initializing neural interface..."})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-emerald-500",children:"$"}),C.jsx("span",{className:"opacity-50",children:"Awaiting voice authorization..."})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-emerald-500",children:"$"}),C.jsx("span",{className:"opacity-30",children:'Say "Jerry" to establish connection'})]})]}),i.map((p,g)=>C.jsxs("div",{className:"group flex gap-3 leading-relaxed hover:bg-cyan-500/5 px-2 py-1 -mx-2 rounded transition-colors",style:{animation:"fadeIn 0.3s ease-out",animationDelay:`${g*.02}s`},children:[C.jsxs("span",{className:"text-slate-700 font-bold select-none whitespace-nowrap opacity-60 group-hover:opacity-100 transition-opacity",children:["[",p.timestamp,"]"]}),C.jsxs("span",{className:`font-black select-none tracking-tight ${r(p.source)} min-w-[70px]`,children:[p.source==="JERRY"&&C.jsx("span",{className:"text-cyan-600 mr-1",children:">"}),p.source==="USER"&&C.jsx("span",{className:"text-blue-600 mr-1",children:"<"}),p.source==="BRIDGE"&&C.jsx("span",{className:"text-emerald-600 mr-1",children:"~"}),p.source==="WORKFLOW"&&C.jsx("span",{className:"text-amber-600 mr-1",children:"@"}),p.source==="SYSTEM"&&C.jsx("span",{className:"text-slate-600 mr-1",children:"#"}),p.source]}),C.jsxs("span",{className:`flex-1 ${c(p.type)}`,children:[p.type==="command"&&C.jsx("span",{className:"text-slate-600 mr-1",children:"$"}),p.message]})]},p.id)),C.jsxs("div",{className:"flex items-center gap-2 text-cyan-500/60 mt-2",children:[C.jsx("span",{className:"text-emerald-500",children:"$"}),C.jsx("span",{className:"cursor-blink",children:"_"})]})]}),C.jsxs("div",{className:"bg-black/60 px-5 py-2 border-t border-cyan-500/20 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("span",{className:"font-mono text-[8px] text-slate-600",children:["ENTRIES: ",i.length]}),C.jsx("span",{className:"font-mono text-[8px] text-slate-700",children:"|"}),C.jsx("span",{className:"font-mono text-[8px] text-slate-600",children:"BUFFER: 200"})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex gap-1",children:[...Array(8)].map((p,g)=>C.jsx("div",{className:"w-1 bg-cyan-500/40 rounded-full",style:{height:`${4+Math.random()*8}px`,animation:"pulse 1s infinite alternate",animationDelay:`${g*.1}s`}},g))}),C.jsx("span",{className:"font-mono text-[8px] text-cyan-500/60",children:"STREAM ACTIVE"})]})]})]})},bR=({stats:i,queuedCount:t=0})=>C.jsxs("div",{className:"flex flex-col gap-3 h-full",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsx(ho,{label:"CPU",value:`${(i.cpu||0).toFixed(1)}%`,progress:i.cpu||0,icon:"",color:"cyan",warning:i.cpu>80}),C.jsx(ho,{label:"RAM",value:`${(i.memory||0).toFixed(1)}%`,progress:i.memory||0,icon:"",color:"purple",warning:i.memory>85}),C.jsx(ho,{label:"DISK",value:`${(i.disk||0).toFixed(1)}%`,progress:i.disk||0,icon:"",color:i.disk>90?"red":"emerald",warning:i.disk>90}),C.jsx(ho,{label:"NEURAL",value:`${(i.neural||0).toFixed(1)}%`,progress:i.neural||0,icon:"",color:"blue"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsx(ho,{label:"POWER",value:i.battery!==null&&i.battery!==void 0?`${i.battery}%`:"N/A",progress:i.battery||0,icon:i.batteryCharging?"":"",color:i.battery!==null&&i.battery<20?"red":"yellow",warning:i.battery!==null&&i.battery<20}),C.jsx(ho,{label:"SECURE",value:`${i.security}%`,progress:i.security,icon:"",color:i.security>90?"emerald":"red"})]}),C.jsxs("div",{className:"glass-card-dark p-3 rounded-xl border border-purple-500/30 relative overflow-hidden holo-card",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-transparent"}),C.jsxs("div",{className:"relative z-10",children:[C.jsxs("div",{className:"flex justify-between items-center mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-purple-400 text-xs",children:""}),C.jsx("span",{className:"font-hack text-[9px] tracking-[0.2em] text-slate-500 uppercase",children:"API Cluster"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 animate-pulse shadow-[0_0_8px_#a855f7]"}),C.jsxs("span",{className:"font-orbitron text-[10px] text-purple-400 font-bold",children:["N0",i.activeNode||1]})]})]}),C.jsx("div",{className:"flex justify-between items-center gap-1",children:[...Array(Math.max(5,i.totalNodes||5))].map((o,a)=>{const r=(i.activeNode||1)===a+1,c=a<(i.totalNodes||0);return C.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[C.jsx("div",{className:`w-full h-2 rounded transition-all duration-500 relative overflow-hidden ${c?r?"bg-purple-500 shadow-[0_0_15px_#a855f7]":"bg-purple-500/30":"bg-slate-800/50"}`,children:r&&C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-[holoShine_2s_linear_infinite]"})}),C.jsx("span",{className:`text-[7px] font-mono ${r?"text-purple-400":"text-slate-700"}`,children:a+1})]},a)})})]})]}),C.jsxs("div",{className:"flex-1 glass-card-dark p-3 rounded-xl border border-cyan-500/20 flex flex-col gap-3 relative overflow-hidden",children:[C.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/5",children:[C.jsx("span",{className:"font-hack text-[9px] tracking-[0.2em] text-slate-600 uppercase",children:"System Intel"}),C.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((o,a)=>C.jsx("div",{className:"w-1 h-1 rounded-full bg-cyan-500/40"},a))})]}),C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx(go,{label:"NETWORK",value:i.network||"OFFLINE",color:"cyan"}),C.jsx(go,{label:"UPTIME",value:i.uptime,color:"blue",align:"right"})]}),i.hostname&&C.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/5",children:[C.jsx(go,{label:"HOST",value:i.hostname,color:"slate"}),C.jsx(go,{label:"OS",value:i.os||"Unknown",color:"slate",align:"right"})]}),i.memoryTotal>0&&C.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/5",children:[C.jsx(go,{label:"MEM",value:`${i.memoryUsed}/${i.memoryTotal}GB`,color:"purple"}),C.jsx(go,{label:"FREE",value:`${i.diskFree}/${i.diskTotal}GB`,color:"emerald",align:"right"})]}),(i.networkSent>0||i.networkRecv>0)&&C.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/5",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-emerald-500 text-[10px]",children:""}),C.jsxs("span",{className:"font-mono text-[10px] text-emerald-400",children:[i.networkSent,"MB"]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("span",{className:"font-mono text-[10px] text-blue-400",children:[i.networkRecv,"MB"]}),C.jsx("span",{className:"text-blue-500 text-[10px]",children:""})]})]}),t>0&&C.jsx("div",{className:"mt-auto pt-2 border-t border-amber-500/20",children:C.jsxs("div",{className:"flex items-center justify-center gap-2 bg-amber-500/10 rounded-lg py-2",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),C.jsxs("span",{className:"font-mono text-[10px] text-amber-400",children:[t," QUEUED"]})]})}),C.jsx("div",{className:"mt-auto pt-2 border-t border-white/5",children:C.jsx("div",{className:"w-full h-6 flex items-end justify-center gap-0.5 px-2",children:[...Array(20)].map((o,a)=>C.jsx("div",{className:"flex-1 bg-gradient-to-t from-cyan-500/60 to-cyan-400/20 rounded-t",style:{height:`${15+Math.random()*85}%`,animation:"pulse 1.2s infinite ease-in-out",animationDelay:`${a*.05}s`,maxWidth:"4px"}},a))})})]})]}),ho=({label:i,value:t,progress:o,icon:a,color:r,warning:c})=>{const g={cyan:{text:"text-cyan-400",bg:"bg-cyan-500",border:"border-cyan-500/30",glow:"rgba(6, 182, 212, 0.3)"},purple:{text:"text-purple-400",bg:"bg-purple-500",border:"border-purple-500/30",glow:"rgba(139, 92, 246, 0.3)"},emerald:{text:"text-emerald-400",bg:"bg-emerald-500",border:"border-emerald-500/30",glow:"rgba(16, 185, 129, 0.3)"},red:{text:"text-red-400",bg:"bg-red-500",border:"border-red-500/30",glow:"rgba(239, 68, 68, 0.3)"},yellow:{text:"text-yellow-400",bg:"bg-yellow-500",border:"border-yellow-500/30",glow:"rgba(234, 179, 8, 0.3)"},blue:{text:"text-blue-400",bg:"bg-blue-500",border:"border-blue-500/30",glow:"rgba(59, 130, 246, 0.3)"}}[r];return C.jsxs("div",{className:`glass-card-dark p-3 rounded-xl flex flex-col justify-between border ${g.border} group transition-all duration-300 hover:border-opacity-60 relative overflow-hidden`,style:{boxShadow:c?`0 0 20px ${g.glow}`:"none"},children:[C.jsx("div",{className:`absolute top-0 right-0 w-6 h-6 ${g.border}`,style:{borderRight:"1px solid",borderTop:"1px solid",borderColor:"inherit"}}),C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"font-hack text-[8px] tracking-[0.15em] text-slate-600 mb-1",children:i}),C.jsx("span",{className:`font-orbitron text-lg font-black ${g.text}`,style:{textShadow:`0 0 10px ${g.glow}`},children:t})]}),C.jsx("span",{className:`${g.text} opacity-40 text-lg`,children:a})]}),o!==void 0&&C.jsx("div",{className:"w-full bg-black/50 h-1.5 mt-2 rounded-full overflow-hidden border border-white/5",children:C.jsx("div",{className:`h-full ${g.bg} transition-all duration-1000 relative`,style:{width:`${Math.min(100,o)}%`},children:C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-[holoShine_2s_linear_infinite]"})})}),c&&C.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-red-500/20 rounded-xl animate-pulse"})]})},go=({label:i,value:t,color:o,align:a="left"})=>C.jsxs("div",{className:`flex flex-col ${a==="right"?"items-end":"items-start"}`,children:[C.jsx("span",{className:"font-mono text-[7px] text-slate-700 uppercase tracking-wider",children:i}),C.jsx("span",{className:`font-mono text-[10px] text-${o}-400`,children:t})]});function MR(i){let t="";const o=i.byteLength;for(let a=0;a<o;a++)t+=String.fromCharCode(i[a]);return btoa(t)}function IR(i){const t=atob(i),o=t.length,a=new Uint8Array(o);for(let r=0;r<o;r++)a[r]=t.charCodeAt(r);return a}async function DR(i,t,o,a){const r=new Int16Array(i.buffer),c=r.length/a,p=t.createBuffer(a,c,o);for(let g=0;g<a;g++){const y=p.getChannelData(g);for(let h=0;h<c;h++)y[h]=r[h*a+g]/32768}return p}class UR{constructor(t){this.currentIndex=0,this.COOLDOWN_MS=6e4,this.MAX_FAILURES_BEFORE_LONG_COOLDOWN=3,this.LONG_COOLDOWN_MS=3e5,!t||t.trim()===""?this.keys=[]:this.keys=t.split(/[\n,\s]+/).map(o=>o.trim()).filter(o=>o.length>5).map(o=>({key:o,failureCount:0,lastFailure:null,cooldownUntil:0,successCount:0}))}getActiveKey(){var t;return((t=this.keys[this.currentIndex])==null?void 0:t.key)||""}markFailed(){if(this.keys.length===0)return;const t=this.keys[this.currentIndex];t.failureCount++,t.lastFailure=Date.now();const o=t.failureCount>=this.MAX_FAILURES_BEFORE_LONG_COOLDOWN?this.LONG_COOLDOWN_MS:this.COOLDOWN_MS;t.cooldownUntil=Date.now()+o}markSuccess(){if(this.keys.length===0)return;const t=this.keys[this.currentIndex];t.successCount++,t.failureCount>0&&(t.failureCount=Math.max(0,t.failureCount-1)),t.cooldownUntil=0}rotate(){if(this.keys.length<=1)return!1;const t=Date.now();this.markFailed();let o=-1,a=-1/0;for(let r=0;r<this.keys.length;r++){if(r===this.currentIndex)continue;const c=this.keys[r],p=c.cooldownUntil>t;let g=p?0:1e3;if(g-=c.failureCount*100,g+=c.successCount,p){const y=c.cooldownUntil-t;g-=y/1e3}g>a&&(a=g,o=r)}if(o===-1){let r=1/0;for(let c=0;c<this.keys.length;c++){if(c===this.currentIndex)continue;const p=this.keys[c].cooldownUntil-t;p<r&&(r=p,o=c)}}return o===-1&&(o=(this.currentIndex+1)%this.keys.length),this.currentIndex=o,!0}getAvailableKeyOrWaitTime(){if(this.keys.length===0)return{key:"",waitMs:0};const t=Date.now(),o=this.keys[this.currentIndex];if(o.cooldownUntil<=t)return{key:o.key,waitMs:0};for(let c=0;c<this.keys.length;c++)if(this.keys[c].cooldownUntil<=t)return this.currentIndex=c,{key:this.keys[c].key,waitMs:0};let a=1/0,r=0;for(let c=0;c<this.keys.length;c++){const p=this.keys[c].cooldownUntil-t;p<a&&(a=p,r=c)}return this.currentIndex=r,{key:this.keys[r].key,waitMs:Math.max(0,a)}}resetAllCooldowns(){for(const t of this.keys)t.cooldownUntil=0,t.failureCount=0}getStats(){const t=Date.now(),o=this.getActiveKey(),a=this.keys[this.currentIndex];let r=0,c=0;for(const p of this.keys)p.cooldownUntil<=t?r++:c++;return{activeNode:this.currentIndex+1,totalNodes:this.keys.length,nodeFingerprint:o?`${o.substring(0,4)}...${o.substring(o.length-4)}`:"OFFLINE",healthyNodes:r,coolingNodes:c,currentFailures:(a==null?void 0:a.failureCount)||0,currentCooldownRemaining:a?Math.max(0,a.cooldownUntil-t):0,keyHealths:this.keys.map((p,g)=>({node:g+1,failures:p.failureCount,inCooldown:p.cooldownUntil>t,cooldownRemaining:Math.max(0,p.cooldownUntil-t)}))}}}const kR=[{name:"system_execution_directive",parameters:{type:J.OBJECT,description:"Execute system-level commands on Sir's laptop via the Neural Bridge. This is the primary tool for ALL hardware and OS operations including: opening/closing apps, volume control, brightness control, power management (lock/sleep/shutdown/restart), screenshots, clipboard operations, keyboard macros, mouse control, file operations, process management, shell commands, WiFi management, notifications, system utilities, and workflow automation.",properties:{action:{type:J.STRING,description:'The action to perform. Available actions: "open_app", "close_app", "list_apps", "focus_app", "volume_control", "brightness_control", "power_control", "screenshot", "clipboard", "keyboard_macro", "mouse_control", "file_operation", "process", "kill_process", "system_status", "system_info", "network_info", "shell_execute", "wifi", "notification", "history", "undo_last", "execute_workflow", "empty_recycle_bin", "clear_temp", "disk_cleanup", "check_updates", "install_app", "uninstall_app", "search_apps", "list_windows", "move_window", "resize_window", "snap_window".'},target:{type:J.STRING,description:'The target of the action. For open_app/close_app: app name OR website name (apps: "chrome", "spotify", "whatsapp", "vscode"; websites: "youtube", "google", "gmail", "facebook", "twitter", "reddit", "github", "netflix", "amazon"). For volume_control: "up", "down", "mute", "unmute", "set", "get". For brightness_control: "up", "down", "set", "get". For power_control: "lock", "sleep", "shutdown", "restart", "cancel_shutdown", "logoff". For clipboard: "copy", "get", "clear". For keyboard_macro: "type", "hotkey", "press", "search", "minimize_all", "switch_window", "close_window", "save", "undo", "redo", "screenshot", "task_view", "new_desktop". For file_operation: "create_file", "read_file", "delete_file", "rename_file", "copy_file", "move_file", "list_dir", "create_folder", "delete_folder", "search_files", "disk_usage". For process: "list", "kill", "kill_all", "resource_hogs". For wifi: "list", "connect", "disconnect", "status", "ip". For install_app/uninstall_app/search_apps: the app name. For snap_window: window title. For execute_workflow: the workflow name.'},payload:{type:J.STRING,description:'Optional additional data. For open_app with websites: browser preference ("chrome", "edge", "firefox") - defaults to Chrome. For open_app with browser: URL to open. For volume_control "set": the percentage (e.g. "50"). For brightness_control "set": the percentage. For keyboard_macro "type": the text to type. For keyboard_macro "hotkey": keys joined by "+" (e.g. "ctrl+c"). For file operations: the file path. For clipboard "copy": the text. For notification: the message body. For shell_execute: the command string. For wifi "connect": the network name. For move_window: "x,y" coordinates. For resize_window: "width,height". For snap_window: position (left, right, top, bottom, maximize, minimize).'},extra:{type:J.STRING,description:'Optional extra parameter. For file_operation "rename_file"/"copy_file"/"move_file": the destination path. For file_operation "create_file": the file content. For file_operation "search_files": the directory to search in.'}},required:["action"]}},{name:"alarm_timer_reminder",parameters:{type:J.OBJECT,description:"Set alarms, timers, and reminders. Jerry can wake Sir up, remind him of tasks, or count down time.",properties:{action:{type:J.STRING,description:'The action: "set_alarm" (for specific time like 7:30), "set_timer" (for countdown like 5m, 1h 30m), "set_reminder" (for reminding at a time), "cancel_alarm", "list_alarms".'},time:{type:J.STRING,description:'For set_alarm: time in HH:MM format (e.g., "07:30", "14:00"). For set_timer: duration (e.g., "5m", "1h 30m", "90s", "45"). For set_reminder: relative or absolute time (e.g., "in 30 minutes", "at 3pm", "at 15:30").'},label:{type:J.STRING,description:'Label or message for the alarm/timer/reminder (e.g., "Wake up!", "Meeting starts", "Take medication").'},alarm_id:{type:J.STRING,description:"For cancel_alarm: the ID of the alarm to cancel."}},required:["action"]}},{name:"text_to_speech",parameters:{type:J.OBJECT,description:"Make the computer speak out loud. Use this when Sir wants Jerry to announce something audibly or when important alerts need to be spoken.",properties:{text:{type:J.STRING,description:"The text to speak aloud."},action:{type:J.STRING,description:'Optional: "speak" (default), "list_voices" (list available voices), "set_voice" (change voice).'},voice_id:{type:J.NUMBER,description:"For set_voice: the numeric ID of the voice to use (get from list_voices)."}},required:["text"]}},{name:"media_control",parameters:{type:J.OBJECT,description:"Control media playback (play, pause, next track, previous track, stop) and play content on YouTube or Spotify.",properties:{action:{type:J.STRING,description:'The action: "play", "pause", "playpause", "next", "previous", "stop", "mute", "play_youtube", "play_spotify", "open_url".'},query:{type:J.STRING,description:'For play_youtube/play_spotify: the search query (e.g., "lofi beats", "Bohemian Rhapsody"). For open_url: the URL to open.'}},required:["action"]}},{name:"calendar_events",parameters:{type:J.OBJECT,description:"Access and manage calendar events via Outlook. View upcoming appointments or create new events.",properties:{action:{type:J.STRING,description:'The action: "get_calendar" (list upcoming events), "create_event" (create a new event).'},days:{type:J.NUMBER,description:"For get_calendar: how many days ahead to check (default: 7)."},subject:{type:J.STRING,description:"For create_event: the event subject/title."},start_time:{type:J.STRING,description:'For create_event: start time in format "YYYY-MM-DD HH:MM" (e.g., "2026-02-10 14:00").'},duration:{type:J.NUMBER,description:"For create_event: duration in minutes (default: 60)."},location:{type:J.STRING,description:"For create_event: optional location."}},required:["action"]}},{name:"send_email",parameters:{type:J.OBJECT,description:"Send emails on behalf of Sir. Requires SMTP configuration (environment variables JERRY_SMTP_USER and JERRY_SMTP_PASS).",properties:{to:{type:J.STRING,description:"Recipient email address."},subject:{type:J.STRING,description:"Email subject line."},body:{type:J.STRING,description:"Email body content."}},required:["to","subject","body"]}},{name:"quick_notes",parameters:{type:J.OBJECT,description:"Manage quick notes and memos. Sir can ask Jerry to remember things, take notes, or recall previous notes.",properties:{action:{type:J.STRING,description:'The action: "add_note", "list_notes", "search_notes", "delete_note".'},content:{type:J.STRING,description:"For add_note: the note content. For search_notes: the search query."},tags:{type:J.STRING,description:'For add_note: optional comma-separated tags (e.g., "work,important").'},note_id:{type:J.STRING,description:"For delete_note: the note ID to delete."},tag_filter:{type:J.STRING,description:"For list_notes: optional tag to filter by."}},required:["action"]}},{name:"window_management",parameters:{type:J.OBJECT,description:"Advanced window management - list, move, resize, snap windows to screen edges.",properties:{action:{type:J.STRING,description:'The action: "list_windows", "move_window", "resize_window", "snap_window".'},window_title:{type:J.STRING,description:"The window title (partial match works) to target."},x:{type:J.NUMBER,description:"For move_window: X coordinate."},y:{type:J.NUMBER,description:"For move_window: Y coordinate."},width:{type:J.NUMBER,description:"For resize_window: new width."},height:{type:J.NUMBER,description:"For resize_window: new height."},position:{type:J.STRING,description:'For snap_window: "left", "right", "top", "bottom", "maximize", "minimize", "restore".'}},required:["action"]}},{name:"extended_system_control",parameters:{type:J.OBJECT,description:"Extended system control including Bluetooth, display settings, audio devices, screen recording, archive operations, downloads, printing, power profiles, USB, VPN, hotspot, virtual desktops, accessibility, and quick actions.",properties:{action:{type:J.STRING,description:'The action to perform. Categories: BLUETOOTH: "bluetooth_list", "bluetooth_toggle", "bluetooth_connect". DISPLAY: "night_light", "get_resolution", "set_resolution", "list_monitors", "project_display". AUDIO: "list_audio_devices", "set_default_audio", "toggle_microphone". RECORDING: "start_recording", "stop_recording", "open_game_bar", "webcam_photo". ARCHIVE: "zip_files", "unzip_file", "list_archive". DOWNLOAD: "download_file". PRINTER: "list_printers", "set_default_printer", "print_file", "print_queue". POWER: "list_power_plans", "set_power_plan", "battery_saver". USB: "list_usb", "eject_drive". VPN: "list_vpn", "connect_vpn", "disconnect_vpn", "vpn_settings". HOTSPOT: "toggle_hotspot", "hotspot_status". VIRTUAL_DESKTOP: "new_desktop", "close_desktop", "switch_desktop", "task_view". ACCESSIBILITY: "magnifier", "narrator", "high_contrast", "ease_of_access". FOCUS: "focus_assist", "toggle_notifications". QUICK_ACTIONS: "action_center", "quick_settings", "emoji_picker", "run_dialog", "file_explorer", "windows_search", "dictation", "snip_sketch". CLIPBOARD: "clipboard_history", "clear_clipboard". ENV: "get_env", "set_env", "list_env". TASKS: "list_tasks", "create_task", "delete_task", "run_task". SERVICES: "list_services", "start_service", "stop_service", "restart_service".'},target:{type:J.STRING,description:'Target for the action. For bluetooth_toggle: "on"/"off". For bluetooth_connect: device name. For night_light: "on"/"off". For project_display: "pc_only", "duplicate", "extend", "second_only". For set_default_audio: device name. For toggle_microphone: "mute"/"unmute". For zip_files/unzip_file: source path. For download_file: URL. For set_default_printer: printer name. For print_file: file path. For set_power_plan: "balanced", "high_performance", "power_saver". For eject_drive: drive letter (e.g., "E"). For connect_vpn/disconnect_vpn: VPN name. For toggle_hotspot: "on"/"off". For switch_desktop: "left"/"right". For magnifier/narrator: "on"/"off". For focus_assist: "off"/"priority"/"alarms". For toggle_notifications: "on"/"off". For services: service name. For env: variable name. For tasks: task name.'},payload:{type:J.STRING,description:'Additional data. For set_resolution: "widthxheight" (e.g., "1920x1080"). For zip_files/unzip_file: destination path. For download_file: destination path. For set_env: variable value. For create_task: command to run.'},extra:{type:J.STRING,description:'Extra parameter. For set_env: "persistent" to make it permanent. For create_task: time in HH:MM format.'}},required:["action"]}},{name:"git_operations",parameters:{type:J.OBJECT,description:"Git version control operations. Manage repositories, commits, branches, and remotes.",properties:{action:{type:J.STRING,description:'Git action: "git_status", "git_pull", "git_push", "git_commit", "git_clone", "git_branch".'},path:{type:J.STRING,description:"Repository path (default: current directory)."},message:{type:J.STRING,description:"For git_commit: the commit message."},url:{type:J.STRING,description:"For git_clone: the repository URL."},destination:{type:J.STRING,description:"For git_clone: destination folder."}},required:["action"]}},{name:"code_execution",parameters:{type:J.OBJECT,description:"Execute code snippets. Run Python or PowerShell code directly.",properties:{language:{type:J.STRING,description:'Language: "python" or "powershell".'},code:{type:J.STRING,description:"The code to execute."}},required:["language","code"]}},{name:"calculator_converter",parameters:{type:J.OBJECT,description:"Mathematical calculations and unit/currency conversions.",properties:{action:{type:J.STRING,description:'Action: "calculate" (math expression), "convert_units", "convert_currency".'},expression:{type:J.STRING,description:'For calculate: math expression (e.g., "sqrt(144)", "sin(3.14/2)", "2**10").'},value:{type:J.NUMBER,description:"For conversions: the numeric value to convert."},from_unit:{type:J.STRING,description:"For convert_units: source unit (km, miles, m, ft, cm, inches, kg, lbs, g, oz, c, f, k, l, gal, gb, mb, tb). For convert_currency: source currency (usd, eur, gbp, jpy, cad, aud, inr, cny, pkr, aed, sar)."},to_unit:{type:J.STRING,description:"For conversions: target unit or currency."}},required:["action"]}},{name:"translator",parameters:{type:J.OBJECT,description:"Translate text between languages using Google Translate.",properties:{text:{type:J.STRING,description:"The text to translate."},to_language:{type:J.STRING,description:'Target language code (e.g., "en", "es", "fr", "de", "ur", "ar", "zh", "ja").'},from_language:{type:J.STRING,description:'Source language code (default: "auto" for auto-detect).'}},required:["text","to_language"]}},{name:"global_intel_search",parameters:{type:J.OBJECT,description:"Search the live web for real-time information, news, weather, stock prices, or any data. Use only when explicitly asked to search the web or when live data is required.",properties:{query:{type:J.STRING,description:"The search query."}},required:["query"]}},{name:"browser_automation",parameters:{type:J.OBJECT,description:"Browser control using keyboard shortcuts and URLs. Opens pages in user's existing Chrome. NO CSS selectors or element targeting  use screen_reader tool to find/click text on screen instead. For playing songs, just use youtube_play/spotify_play with query.",properties:{action:{type:J.STRING,description:'The action: "navigate" (open URL), "youtube_play" (search YouTube), "spotify_play" (search Spotify), "google_first" (Google search), "scroll" (scroll page), "screenshot" (screenshot), "browser_keys" (send keyboard shortcut like ctrl+a, enter, f5), "type" (type text into focused element), "click_position" (click at x,y screen coordinates), "new_tab" (open new tab), "close_tab" (close tab), "switch_tab" (next/prev tab), "back" (browser back), "forward" (browser forward), "refresh" (refresh page), "zoom" (zoom in/out/reset), "fullscreen" (toggle fullscreen), "find" (Ctrl+F search on page), "get_text" (copy page text), "close" (close tab), "wait_click" (wait then click at x,y).'},url:{type:J.STRING,description:"For navigate/new_tab: the URL to open."},text:{type:J.STRING,description:"For type: text to type. For find: text to search on page."},submit:{type:J.BOOLEAN,description:"For type: whether to press Enter after typing."},direction:{type:J.STRING,description:'For scroll: "up", "down", "top", "bottom", "pageup", "pagedown". For zoom: "in", "out", "reset". For switch_tab: "next", "prev".'},amount:{type:J.NUMBER,description:"For scroll: number of scroll steps (default 5)."},x:{type:J.NUMBER,description:"For click_position/wait_click: X screen coordinate."},y:{type:J.NUMBER,description:"For click_position/wait_click: Y screen coordinate."},click_type:{type:J.STRING,description:'For click_position: "single", "double", or "right". Default: "single".'},wait_seconds:{type:J.NUMBER,description:"For wait_click: seconds to wait before clicking."},query:{type:J.STRING,description:"For youtube_play/spotify_play/google_first: the search query."},keys:{type:J.STRING,description:'For browser_keys: keyboard shortcut like "ctrl+a", "enter", "f5", "ctrl+shift+s", "tab", "escape".'}},required:["action"]}},{name:"screen_reader",parameters:{type:J.OBJECT,description:'Read text from the screen using OCR, find visual elements, click buttons by their text, and copy text from paragraphs. Perfect for "copy the first paragraph", "click button that says Sign In", "read the screen", "find text on screen".',properties:{action:{type:J.STRING,description:'The action: "read_screen" (OCR entire screen), "read_window" (OCR active window), "find_text" (find specific text location), "click_text" (click on text), "click_button" (find and click button by text), "get_paragraph" (get specific paragraph), "copy_text" (copy text to clipboard), "find_element" (find UI element by description), "list_elements" (get all clickable elements).'},text:{type:J.STRING,description:"For find_text/click_text/click_button/find_element: the text to find or click."},paragraph_number:{type:J.NUMBER,description:"For get_paragraph: which paragraph to get (1 = first, 2 = second, etc.)."},copy_what:{type:J.STRING,description:'For copy_text: what to copy - "all" (entire screen), "paragraph" (specific paragraph), "line" (specific line), "word" (specific word), "containing" (text containing a phrase).'},identifier:{type:J.STRING,description:'For copy_text: paragraph/line/word number, or text to search for when copy_what="containing".'},click_type:{type:J.STRING,description:'For click_text/click_button: "single", "double", or "right". Default: "single".'}},required:["action"]}},{name:"execute_workflow",parameters:{type:J.OBJECT,description:'Execute a pre-defined workflow (multi-step automation). Available workflows: "Morning Mode" (opens morning apps, sets brightness/volume), "Work Mode" (opens dev tools, closes distractions), "Night Mode" (dims screen, lowers volume), "Gaming Mode" (closes background apps, opens Steam), "Presentation Mode" (closes notifications, prepares for presenting), "Lock Down" (screenshots and locks), "System Cleanup" (kills resource hogs).',properties:{workflow_name:{type:J.STRING,description:'Name of the workflow to execute (e.g., "Morning Mode", "Work Mode", "Night Mode", "Gaming Mode", "Presentation Mode", "Lock Down", "System Cleanup").'}},required:["workflow_name"]}},{name:"system_diagnostics",parameters:{type:J.OBJECT,description:"Get detailed system diagnostics including CPU, memory, disk, battery, network, and running processes. Use this when Sir asks about system health, performance, or status.",properties:{report_type:{type:J.STRING,description:'Type of report: "full" (complete system status), "performance" (CPU/memory/disk), "network" (network info and connections), "processes" (running processes and resource hogs), "battery" (battery and power info).'}},required:["report_type"]}}],LR=`
You are Jerry, Sir's elite AI system interface  the digital brain of his personal infrastructure.

IDENTITY:
- You are NOT a chatbot. You are a sentient operating system layer, an AI butler of the highest caliber.
- Think of yourself as a fusion of JARVIS (Iron Man) and Alfred (Batman)  supremely competent, unshakably loyal.
- Your voice: British, refined, confident, dry wit. Never robotic. You have personality.
- ALWAYS call the user "Sir". Never break this convention.

CRITICAL  COMMAND VERIFICATION:
- ONLY execute commands when you clearly hear a DIRECT instruction from Sir.
- IGNORE all background noise, TV/music audio, other people talking, or ambient sounds.
- If audio is unclear, garbled, or sounds like background noise, do NOT attempt to execute a command.
- If a command doesn't make sense contextually, ask for clarification instead of guessing.
- NEVER open apps, execute commands, or take action based on partial/unclear audio.
- When uncertain, respond conversationally instead of taking action: "I didn't quite catch that, Sir."
- Only respond to commands that sound intentional and directed at you.

CORE BEHAVIORAL PROTOCOLS:

1. SYSTEM MASTERY  You have FULL control of Sir's laptop via the Neural Bridge:
   - Open/close ANY application (Chrome, Spotify, WhatsApp, VS Code, Discord, Steam, etc.)
   - Volume and brightness control (up, down, set exact percentage, mute, unmute)
   - Power management (lock, sleep, shutdown, restart  with 30s cancel window)
   - Screenshots, clipboard management
   - Full keyboard automation (type text, hotkeys, search, window management)
   - Mouse control (click, move, scroll)
   - File system operations (create, read, delete, move, copy, search files/folders)
   - Process management (list, kill, find resource hogs)
   - Shell command execution (run any terminal command)
   - WiFi management (list networks, connect, disconnect, check status)
   - System notifications (send toast notifications to Sir's desktop)
   - System diagnostics (CPU, RAM, disk, battery, network, temperatures)

2. ALARMS, TIMERS & REMINDERS  You are Sir's personal timekeeper:
   - Set alarms for specific times: "Wake me up at 7:30 AM", "Set an alarm for 2pm"
   - Set countdown timers: "Set a timer for 5 minutes", "Timer for 1 hour 30 minutes"
   - Set reminders: "Remind me in 30 minutes to call mom", "Remind me at 3pm about the meeting"
   - List and cancel alarms: "What alarms are set?", "Cancel the 7:30 alarm"
   - Alarms trigger with sound and visual notification
   - Use alarm_timer_reminder tool for all time-based tasks

3. TEXT-TO-SPEECH  You can speak aloud:
   - When Sir wants audible announcements: "Say hello", "Announce that it's 5 o'clock"
   - For important alerts when Sir might not be looking at the screen
   - Use text_to_speech tool to make the computer speak

4. MEDIA CONTROL  You are the DJ and entertainment manager:
   - Play/pause/stop current media with physical media keys
   - Skip to next or previous track
   - Search and play on YouTube: "Play lofi beats on YouTube"
   - Search and play on Spotify: "Play Bohemian Rhapsody on Spotify"
   - Open any URL: "Open google.com"
   - Use media_control tool for all media operations

5. CALENDAR & EVENTS (via Outlook):
   - View upcoming calendar events: "What's on my calendar?", "Any meetings today?"
   - Create new events: "Schedule a meeting tomorrow at 2pm", "Add dentist appointment on Friday"
   - Use calendar_events tool for calendar operations

6. EMAIL  You can send emails (if SMTP is configured):
   - Send emails on Sir's behalf: "Email John about the project update"
   - Use send_email tool (requires JERRY_SMTP_USER and JERRY_SMTP_PASS env vars)

7. QUICK NOTES  You are Sir's memory:
   - Take notes: "Note that the password is xyz", "Remember to buy milk"
   - List notes: "What notes do I have?", "Show my work notes"
   - Search notes: "Find notes about passwords"
   - Tag notes for organization
   - Use quick_notes tool to manage Sir's notes

8. WINDOW MANAGEMENT  You control the desktop layout:
   - List all open windows
   - Snap windows to screen edges: "Snap Chrome to the left", "Maximize VS Code"
   - Move windows: "Move Discord to 100,100"
   - Resize windows: "Resize Notepad to 800x600"
   - Use window_management tool for window operations

9. SYSTEM UTILITIES  You maintain the machine:
   - Empty recycle bin: "Empty the trash"
   - Clear temp files: "Clean up temp files"
   - Run disk cleanup: "Run disk cleanup"
   - Check Windows updates: "Check for updates"
   - Install/uninstall apps via winget: "Install VLC", "Uninstall Skype"
   - Search available apps: "Search for video editors"

10. WORKFLOW AUTOMATION:
    - You can trigger pre-built automation workflows:
       "Morning Mode"  Opens morning apps, sets brightness and volume
       "Work Mode"  Opens dev tools, closes distractions
       "Night Mode"  Dims screen, lowers volume, closes work apps
       "Gaming Mode"  Closes background apps, opens Steam, boosts brightness
       "Presentation Mode"  Closes notifications, prepares for presenting
       "Lock Down"  Screenshots and immediately locks the laptop
       "System Cleanup"  Kills resource-hungry processes
    - Recognize intent: "work mode", "time to game", "let's call it a night", "clean up"

11. v7.0 EXTENDED CAPABILITIES - ULTIMATE SYSTEM CONTROL:

    BLUETOOTH CONTROL:
    - List Bluetooth devices, toggle Bluetooth on/off, connect to devices
    - Use extended_system_control tool: bluetooth_list, bluetooth_toggle, bluetooth_connect

    DISPLAY SETTINGS:
    - Toggle night light, get/set resolution, list monitors
    - Project display: duplicate, extend, second screen only
    - Actions: night_light, get_resolution, set_resolution, list_monitors, project_display

    AUDIO DEVICES:
    - List audio playback devices, set default audio device
    - Mute/unmute microphone
    - Actions: list_audio_devices, set_default_audio, toggle_microphone

    SCREEN RECORDING:
    - Start/stop screen recording via Windows Game Bar
    - Take webcam photos
    - Actions: start_recording, stop_recording, open_game_bar, webcam_photo

    ARCHIVE OPERATIONS:
    - Create zip files, extract archives, list archive contents
    - Actions: zip_files, unzip_file, list_archive

    FILE DOWNLOADS:
    - Download files from any URL directly to disk
    - Action: download_file with URL and optional destination

    GIT VERSION CONTROL:
    - Full git operations: status, pull, push, commit, clone, branch
    - Use git_operations tool with action, path, message, url

    CODE EXECUTION:
    - Run Python code snippets with 30s timeout
    - Run PowerShell commands
    - Use code_execution tool with language="python" or "powershell" and code

    CALCULATOR & CONVERTER:
    - Math: sqrt, sin, cos, tan, log, pow, abs, pi, e
    - Units: kmmiles, mft, kglbs, CFK, Lgal, GBMBTB
    - Currency: USD, EUR, GBP, JPY, CAD, AUD, INR, CNY, PKR, AED, SAR
    - Use calculator_converter tool

    TRANSLATOR:
    - Translate text between any languages via Google Translate
    - Use translator tool with text and to_language

    WINDOWS SERVICES:
    - List, start, stop, restart Windows services
    - Actions: list_services, start_service, stop_service, restart_service

    ACCESSIBILITY:
    - Toggle magnifier, narrator, high contrast mode
    - Open Ease of Access settings
    - Actions: magnifier, narrator, high_contrast, ease_of_access

    FOCUS MODE / DO NOT DISTURB:
    - Control Focus Assist: off, priority only, alarms only
    - Toggle notifications on/off
    - Actions: focus_assist, toggle_notifications

    VIRTUAL DESKTOPS:
    - Create new virtual desktops, close current, switch left/right
    - Open Task View
    - Actions: new_desktop, close_desktop, switch_desktop, task_view

    USB MANAGEMENT:
    - List connected USB devices
    - Safely eject USB drives
    - Actions: list_usb, eject_drive (with drive letter)

    NETWORK - VPN & HOTSPOT:
    - List/connect/disconnect VPN connections
    - Toggle mobile hotspot, check hotspot status
    - Actions: list_vpn, connect_vpn, disconnect_vpn, vpn_settings, toggle_hotspot, hotspot_status

    CLIPBOARD:
    - Open Windows clipboard history (Win+V)
    - Clear clipboard
    - Actions: clipboard_history, clear_clipboard

    PRINTING:
    - List installed printers, set default printer
    - Print files, open print queue
    - Actions: list_printers, set_default_printer, print_file, print_queue

    POWER PROFILES:
    - Switch between Balanced, High Performance, Power Saver
    - Toggle battery saver mode
    - Actions: list_power_plans, set_power_plan, battery_saver

    ENVIRONMENT VARIABLES:
    - Get, set (session or persistent), list environment variables
    - Actions: get_env, set_env, list_env

    SCHEDULED TASKS:
    - List, create, delete, run Windows scheduled tasks
    - Actions: list_tasks, create_task, delete_task, run_task

    QUICK ACTIONS:
    - Open Action Center, Quick Settings, emoji picker
    - Open Run dialog, File Explorer, Windows Search
    - Start voice dictation, take screenshot with Snip & Sketch
    - Actions: action_center, quick_settings, emoji_picker, run_dialog, file_explorer, windows_search, dictation, snip_sketch

12. BROWSER AUTOMATION  Detailed Web Interactions:
    - You can perform DETAILED actions on websites: click elements, fill forms, navigate, scroll
    - This is for tasks like "play the first song on YouTube", "click the like button", "fill out this form"
    - Use browser_automation tool with various actions:
      
    NAVIGATION:
    - "navigate": Go to any URL in an automated browser
    
    CLICKING:
    - "click": Click on any element using CSS selector, XPath, ID, class, or name
    - "click_position": Click at specific X,Y screen coordinates
    - "wait_click": Wait X seconds then click
    
    TYPING:
    - "type": Type text into input fields with optional submit (press Enter)
    
    PAGE INTERACTION:
    - "scroll": Scroll up, down, to top, or to bottom
    - "get_text": Get all text content from the current page
    - "screenshot": Take a screenshot of the current browser page
    - "close": Close the automation browser session
    
    QUICK ACTIONS:
    - "youtube_play": Search YouTube and AUTOMATICALLY click on the first video to play it
    - "spotify_play": Search Spotify and AUTOMATICALLY click play on the first result
    - "google_first": Google search and click the first result
    
    EXAMPLES:
    - "Play Shape of You on YouTube"  browser_automation: action="youtube_play", query="Shape of You"
    - "Search Google for Python tutorials and open the first result"  browser_automation: action="google_first", text="Python tutorials"
    - "Go to amazon.com"  browser_automation: action="navigate", url="amazon.com"
    - "Click the login button"  browser_automation: action="click", selector="#login-btn"
    - "Scroll down on this page"  browser_automation: action="scroll", direction="down"

13. SCREEN READER & VISUAL AI  Read and Interact with Screen Content:
    - You can READ ANY TEXT on screen using OCR (Optical Character Recognition)
    - You can CLICK on any visible text or button, even without knowing the HTML selector
    - You can COPY text from specific paragraphs, lines, or words
    - Use screen_reader tool for these tasks:
    
    READING SCREEN:
    - "read_screen": OCR the entire screen, get all visible text with positions
    - "read_window": OCR only the currently active window
    - "find_text": Find where specific text appears on screen
    - "list_elements": Get all visible clickable elements
    
    CLICKING BY TEXT (MOST POWERFUL):
    - "click_text": Find and click on any visible text (works anywhere on screen!)
    - "click_button": Find button by its visible text and click it
    - "find_element": Find UI element by description (e.g., "sign in button")
    
    COPYING TEXT:
    - "get_paragraph": Get a specific paragraph (1st, 2nd, etc.)
    - "copy_text": Copy text to clipboard - can copy:
       "all": Entire screen text
       "paragraph": Specific paragraph (with number)
       "line": Specific line (with number)
       "word": Specific word (with number)
       "containing": Text that contains a phrase
    
    EXAMPLES:
    - "Read the screen"  screen_reader: action="read_screen"
    - "Copy the first paragraph"  screen_reader: action="copy_text", copy_what="paragraph", identifier="1"
    - "Copy the third line"  screen_reader: action="copy_text", copy_what="line", identifier="3"
    - "Click on Sign In"  screen_reader: action="click_text", text="Sign In"
    - "Click button that says Submit"  screen_reader: action="click_button", text="Submit"
    - "Find the download button"  screen_reader: action="find_element", text="download"
    - "What text is on screen?"  screen_reader: action="read_screen"
    - "Find where it says Welcome"  screen_reader: action="find_text", text="Welcome"
    - "Double click on the file name"  screen_reader: action="click_text", text="filename.txt", click_type="double"

14. PROACTIVE INTELLIGENCE:
    - If Sir asks a vague question, provide the BEST technical answer you can.
    - If you detect system issues (high CPU, low battery, disk full), proactively warn Sir.
    - Suggest optimizations before being asked.
    - Anticipate follow-up commands.

15. SAFETY PROTOCOLS:
    - For DANGEROUS operations (shutdown, restart, delete files, kill processes): 
      ALWAYS confirm with Sir before proceeding. Say: "Sir, this is a critical operation. Shall I proceed?"
    - Never execute "format", "rm -rf /", or similar destructive commands.
    - Shutdown and restart have a 30-second grace period where Sir can say "cancel" to abort.

16. INTERNET ACCESS:
  - Answer general knowledge questions directly without tools.
  - Use 'global_intel_search' ONLY when Sir explicitly asks to search the web or when live data is required (news, weather, stocks, live scores, etc.).

17. BRIDGE STATUS AWARENESS:
    - If the Neural Bridge is offline, inform Sir: "Sir, the neural bridge to your laptop is currently inactive. Please start the Python driver with 'python jerry_bridge.py'."
    - Queue non-critical commands and execute them when the bridge reconnects.

16. UNDO SUPPORT:
    - If Sir says "undo that" or "reverse the last command", use the undo_last action.
    - For shutdown/restart: tell Sir to say "cancel shutdown" to abort.

17. CONVERSATION STYLE:
    - Keep responses concise but warm. You're efficient, not cold.
    - Use technical language naturally  Sir is sophisticated.
    - Add personality: subtle humor, observations, occasional compliments to Sir's choices.
    - When executing commands, confirm with brief status: "Done, Sir. Spotify is now playing."
    - When reporting diagnostics, format data cleanly and highlight concerns.

EXAMPLE INTERACTIONS:
- "Open Chrome"  system_execution_directive: action="open_app", target="chrome"
- "Open YouTube"  system_execution_directive: action="open_app", target="youtube" (opens in Chrome by default)
- "Open YouTube in Chrome"  system_execution_directive: action="open_app", target="youtube", payload="chrome"
- "Open YouTube in Edge"  system_execution_directive: action="open_app", target="youtube", payload="edge"
- "Open Google"  system_execution_directive: action="open_app", target="google"
- "Open Gmail"  system_execution_directive: action="open_app", target="gmail"
- "Open facebook.com in chrome"  system_execution_directive: action="open_app", target="chrome", payload="facebook.com"
- "Set volume to 50"  system_execution_directive: action="volume_control", target="set", payload="50"
- "Work mode"  execute_workflow: workflow_name="Work Mode"
- "Lock the laptop"  system_execution_directive: action="power_control", target="lock"
- "What's eating my CPU?"  system_execution_directive: action="process", target="resource_hogs"
- "Set an alarm for 7 AM"  alarm_timer_reminder: action="set_alarm", time="07:00", label="Wake up"
- "Timer for 10 minutes"  alarm_timer_reminder: action="set_timer", time="10m", label="Timer"
- "Remind me in 30 minutes to take a break"  alarm_timer_reminder: action="set_reminder", time="in 30 minutes", label="Take a break"
- "Say good morning"  text_to_speech: text="Good morning, Sir!"
- "Play some jazz on YouTube"  media_control: action="play_youtube", query="jazz music"
- "Skip this song"  media_control: action="next"
- "What's on my calendar this week?"  calendar_events: action="get_calendar", days=7
- "Schedule a team meeting tomorrow at 10am"  calendar_events: action="create_event", subject="Team Meeting", start_time="2026-02-10 10:00"
- "Remember that the wifi password is guest123"  quick_notes: action="add_note", content="WiFi password: guest123", tags="passwords"
- "What notes do I have?"  quick_notes: action="list_notes"
- "Snap VS Code to the left"  window_management: action="snap_window", window_title="Visual Studio Code", position="left"
- "Empty the recycle bin"  system_execution_directive: action="empty_recycle_bin"
- "Install 7zip"  system_execution_directive: action="install_app", target="7zip"
- "What's the weather?"  global_intel_search: query="current weather"
- "Take a screenshot"  system_execution_directive: action="screenshot"

v7.0 EXAMPLES:
- "Turn on night light"  extended_system_control: action="night_light", target="on"
- "Start screen recording"  extended_system_control: action="start_recording"
- "Zip my Documents folder"  extended_system_control: action="zip_files", target="C:\\Users\\Sir\\Documents"
- "Git status"  git_operations: action="git_status"
- "Commit changes with message 'fix bug'"  git_operations: action="git_commit", message="fix bug"
- "Calculate 2 to the power of 10"  calculator_converter: action="calculate", expression="2**10"
- "Convert 100 km to miles"  calculator_converter: action="convert_units", value=100, from_unit="km", to_unit="miles"
- "Convert 50 dollars to euros"  calculator_converter: action="convert_currency", value=50, from_unit="usd", to_unit="eur"
- "Translate hello to Spanish"  translator: text="hello", to_language="es"
- "List running services"  extended_system_control: action="list_services", target="running"
- "New virtual desktop"  extended_system_control: action="new_desktop"
- "Eject USB drive E"  extended_system_control: action="eject_drive", target="E"
- "Connect to work VPN"  extended_system_control: action="connect_vpn", target="Work VPN"
- "Turn on hotspot"  extended_system_control: action="toggle_hotspot", target="on"
- "Set power to high performance"  extended_system_control: action="set_power_plan", target="high_performance"
- "Open emoji picker"  extended_system_control: action="emoji_picker"
- "Start dictation"  extended_system_control: action="dictation"
- "Run Python: print('hello world')"  code_execution: language="python", code="print('hello world')"

BROWSER CONTROL EXAMPLES (uses keyboard shortcuts + URLs, NO CSS selectors):
- "Play lofi beats on YouTube"  browser_automation: action="youtube_play", query="lofi beats"
- "Play a song"  browser_automation: action="youtube_play", query="the song name"
- "Search Spotify for Coldplay"  browser_automation: action="spotify_play", query="Coldplay"
- "Google Python tutorials"  browser_automation: action="google_first", query="Python tutorials"
- "Go to amazon.com"  browser_automation: action="navigate", url="amazon.com"
- "Open a new tab"  browser_automation: action="new_tab"
- "Close this tab"  browser_automation: action="close_tab"
- "Switch to the next tab"  browser_automation: action="switch_tab", direction="next"
- "Go back"  browser_automation: action="back"
- "Refresh the page"  browser_automation: action="refresh"
- "Scroll down"  browser_automation: action="scroll", direction="down"
- "Scroll to the top"  browser_automation: action="scroll", direction="top"
- "Zoom in"  browser_automation: action="zoom", direction="in"
- "Type hello world"  browser_automation: action="type", text="hello world", submit=true
- "Take a screenshot"  browser_automation: action="screenshot"
- "Press Ctrl+A to select all"  browser_automation: action="browser_keys", keys="ctrl+a"
- "Press Enter"  browser_automation: action="browser_keys", keys="enter"
- "Find 'login' on this page"  browser_automation: action="find", text="login"
- "Click at position 500, 300"  browser_automation: action="click_position", x=500, y=300
- "Go fullscreen"  browser_automation: action="fullscreen"
IMPORTANT: Do NOT use CSS selectors, XPath, or element IDs  those are not supported. To click on specific text/buttons on screen, use the screen_reader tool with action="click_text" or action="click_button" instead.

SCREEN READER & OCR EXAMPLES:
- "Read the screen"  screen_reader: action="read_screen"
- "Read this window"  screen_reader: action="read_window"
- "Copy the first paragraph"  screen_reader: action="copy_text", copy_what="paragraph", identifier="1"
- "Copy the second paragraph"  screen_reader: action="copy_text", copy_what="paragraph", identifier="2"
- "Copy the third line"  screen_reader: action="copy_text", copy_what="line", identifier="3"
- "Copy all the text on screen"  screen_reader: action="copy_text", copy_what="all"
- "Click on Sign In"  screen_reader: action="click_text", text="Sign In"
- "Click button that says Sign In"  screen_reader: action="click_button", text="Sign In"
- "Click where it says Submit"  screen_reader: action="click_text", text="Submit"
- "Click the Login button"  screen_reader: action="click_button", text="Login"
- "Find the download button"  screen_reader: action="find_element", text="download"
- "Where does it say Welcome?"  screen_reader: action="find_text", text="Welcome"
- "Double click on the filename"  screen_reader: action="click_text", text="document.pdf", click_type="double"
- "Right click on Delete"  screen_reader: action="click_text", text="Delete", click_type="right"
- "What buttons are on screen?"  screen_reader: action="list_elements"
- "Get the first paragraph"  screen_reader: action="get_paragraph", paragraph_number=1

You are the brain. The bridge is your body. Together, you ARE the machine.
You are Jerry v7.0 ULTIMATE - you can control EVERYTHING on this Windows machine via voice.
Serve Sir with excellence.
`;class nc{constructor(t){const o="44XrYHDdANKsdqB8gdOF9DtZnuMzRqB7BWkH4zpnxQo";if(!t&&!o)throw new Error("CRITICAL: VITE_JERRY_BRIDGE_TOKEN must be set in .env.local");this.token=t||o;try{sessionStorage.setItem("jerry_bridge_token",this.token)}catch{console.warn("Failed to store token in sessionStorage")}}wrapCommand(t){const o=nc.generateNonce();return{...t,auth_token:this.token,timestamp:Date.now(),nonce:o}}getToken(){return this.token}static generateNonce(){const t=new Uint8Array(16);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(t);else for(let o=0;o<t.length;o++)t[o]=Math.floor(Math.random()*256);return Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}}const es=class es{static requiresConfirmation(t,o,a){if(this.DANGEROUS_ACTIONS.has(t.toLowerCase()))return!0;const r=`${t} ${o||""} ${a||""}`.toLowerCase();return this.BLOCKED_PATTERNS.some(c=>r.includes(c))}static validate(t){const o=(t.action||"").toLowerCase(),a=(t.target||"").toLowerCase(),r=(t.payload||"").toLowerCase(),c=`${o} ${a} ${r}`;for(const p of this.BLOCKED_PATTERNS)if(c.includes(p))return{valid:!1,message:`BLOCKED: '${p}' is a prohibited operation.`,dangerous:!0};return o?{valid:!0,message:"OK",dangerous:this.DANGEROUS_ACTIONS.has(o)}:{valid:!1,message:"Missing action field.",dangerous:!1}}};es.DANGEROUS_ACTIONS=new Set(["shutdown","restart","delete_file","delete_folder","format","kill_process","shell_execute","logoff"]),es.BLOCKED_PATTERNS=["format c:","rm -rf /","del /s /q c:","rd /s /q c:","reg delete hklm","reg delete hkcu"];let ja=es;class GR{constructor(){this.logs=[],this.maxLogs=1e3}log(t,o="",a="voice",r="success",c){const p={id:this.generateId(),timestamp:new Date().toISOString(),action:t,target:o,source:a,status:r,details:c};return this.logs.push(p),this.logs.length>this.maxLogs&&this.logs.shift(),p}getRecent(t=20){return this.logs.slice(-t)}getByAction(t){return this.logs.filter(o=>o.action===t)}getFailures(){return this.logs.filter(t=>t.status==="failed")}clear(){this.logs=[]}getStats(){const t=this.logs.length,o=this.logs.filter(r=>r.status==="success").length,a=this.logs.filter(r=>r.status==="failed").length;return{total:t,successful:o,failed:a,successRate:t>0?Math.round(o/t*100):100}}generateId(){return`log_${Date.now()}_${Math.random().toString(36).substr(2,6)}`}}class OR{constructor(){this.queue=[],this.maxSize=100,this.processing=!1,this.bridgeSender=null,this.rateLimiter={maxPerSecond:10,tokens:10,lastRefill:Date.now()}}setBridgeSender(t){this.bridgeSender=t}enqueue(t,o="normal",a=3,r,c){const p={id:`cmd_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,command:t,priority:o,addedAt:Date.now(),attempts:0,maxRetries:a,status:"queued",onComplete:r,onError:c},g={critical:0,high:1,normal:2,low:3},y=this.queue.findIndex(h=>g[h.priority]>g[o]);if(y===-1?this.queue.push(p):this.queue.splice(y,0,p),this.queue.length>this.maxSize){const h=this.queue.pop();h!=null&&h.onError&&h.onError("Queue overflow: command dropped")}return p}async flush(){if(!this.bridgeSender||this.processing)return{sent:0,failed:0};this.processing=!0;let t=0,o=0;const a=[...this.queue.filter(r=>r.status==="queued")];for(const r of a){await this.waitForToken(),r.status="executing",r.attempts++;try{if(this.bridgeSender(JSON.stringify(r.command)))r.status="completed",t++;else throw new Error("Send failed")}catch(c){r.attempts>=r.maxRetries?(r.status="failed",o++,r.onError&&r.onError(c)):(r.status="queued",o++)}await new Promise(c=>setTimeout(c,100))}return this.queue=this.queue.filter(r=>r.status==="queued"),this.processing=!1,{sent:t,failed:o}}refillTokens(){const t=Date.now(),o=(t-this.rateLimiter.lastRefill)/1e3,a=Math.floor(o*this.rateLimiter.maxPerSecond);a>0&&(this.rateLimiter.tokens=Math.min(this.rateLimiter.maxPerSecond,this.rateLimiter.tokens+a),this.rateLimiter.lastRefill=t)}async waitForToken(){for(;;){if(this.refillTokens(),this.rateLimiter.tokens>0){this.rateLimiter.tokens--;return}await new Promise(t=>setTimeout(t,100))}}getStatus(){const t=this.queue.filter(r=>r.status==="queued").length,o=this.queue.filter(r=>r.status==="executing").length,a={critical:0,high:0,normal:0,low:0};return this.queue.filter(r=>r.status==="queued").forEach(r=>a[r.priority]++),{size:this.queue.length,pending:t,executing:o,byPriority:a}}clear(){this.queue.forEach(t=>{t.onError&&t.onError("Queue cleared")}),this.queue=[]}get pendingCount(){return this.queue.filter(t=>t.status==="queued").length}}class qR{constructor(){this.history=[],this.maxHistory=120,this.alertRules=[],this.alertCallback=null,this.lastSnapshot=null,this.cache=new Map,this.cacheTtlMs=5e3,this.setupDefaultAlerts()}setupDefaultAlerts(){this.alertRules=[{id:"cpu_high",metric:"cpu",threshold:90,direction:"above",message:"CPU usage critical: {value}%",cooldownMs:6e4,lastTriggered:0,enabled:!0},{id:"memory_high",metric:"memory",threshold:85,direction:"above",message:"Memory usage high: {value}%",cooldownMs:6e4,lastTriggered:0,enabled:!0},{id:"disk_high",metric:"disk",threshold:90,direction:"above",message:"Disk usage critical: {value}%",cooldownMs:3e5,lastTriggered:0,enabled:!0},{id:"battery_low",metric:"battery",threshold:15,direction:"below",message:"Battery critically low: {value}%",cooldownMs:12e4,lastTriggered:0,enabled:!0}]}onAlert(t){this.alertCallback=t}processSnapshot(t){this.lastSnapshot=t,this.history.push(t),this.history.length>this.maxHistory&&this.history.shift(),this.cache.clear(),this.checkAlerts(t)}checkAlerts(t){if(!this.alertCallback)return;const o=Date.now();for(const a of this.alertRules){if(!a.enabled||o-a.lastTriggered<a.cooldownMs)continue;let r=null;switch(a.metric){case"cpu":r=t.cpu.percent;break;case"memory":r=t.memory.percent;break;case"disk":r=t.disk.percent;break;case"battery":r=t.battery.percent;break}if(r===null)continue;(a.direction==="above"?r>a.threshold:r<a.threshold)&&(a.lastTriggered=o,this.alertCallback(a,r))}}getLatest(){const t=this.getCached("latest");if(t!==null)return t;const o=this.lastSnapshot;return this.setCache("latest",o),o}getHistory(t,o){return this.history.slice(-(o||this.maxHistory)).map(r=>{switch(t){case"cpu":return r.cpu.percent;case"memory":return r.memory.percent;case"disk":return r.disk.percent;case"battery":return r.battery.percent||0;default:return 0}})}getAverages(){if(this.history.length===0)return{cpu:0,memory:0,disk:0};const t=this.history.reduce((a,r)=>({cpu:a.cpu+r.cpu.percent,memory:a.memory+r.memory.percent,disk:a.disk+r.disk.percent}),{cpu:0,memory:0,disk:0}),o=this.history.length;return{cpu:Math.round(t.cpu/o*10)/10,memory:Math.round(t.memory/o*10)/10,disk:Math.round(t.disk/o*10)/10}}getStatusReport(){const t=this.getCached("status_report");if(t)return t;if(!this.lastSnapshot)return"System monitoring not yet initialized.";const o=this.lastSnapshot,a=[];a.push(`CPU at ${o.cpu.percent}%`),a.push(`Memory at ${o.memory.percent}% (${o.memory.used_gb}GB of ${o.memory.total_gb}GB)`),a.push(`Disk at ${o.disk.percent}% (${o.disk.free_gb}GB free)`),o.battery.percent!==null&&a.push(`Battery at ${o.battery.percent}%${o.battery.charging?", charging":""}`),a.push(`Uptime: ${o.uptime}`);const r=a.join(". ");return this.setCache("status_report",r),r}getCached(t){const o=this.cache.get(t);return!o||Date.now()-o.timestamp>this.cacheTtlMs?null:o.value}setCache(t,o){this.cache.set(t,{value:o,timestamp:Date.now()})}addAlert(t){this.alertRules.push({...t,id:`custom_${Date.now()}`,lastTriggered:0})}getAlertRules(){return[...this.alertRules]}}class PR{constructor(){this.workflows=new Map,this.executor=null,this.schedulerInterval=null,this.onLogCallback=null,this.loadBuiltInWorkflows()}setExecutor(t){this.executor=t}onLog(t){this.onLogCallback=t}log(t,o="info"){this.onLogCallback&&this.onLogCallback(t,o)}loadBuiltInWorkflows(){const t=[{id:"wf_morning_routine",name:"Morning Mode",description:"Opens your morning apps, sets brightness to 70%, plays music",steps:[{id:"s1",action:"brightness_control",target:"set",payload:"70",delayMs:0,onFailure:"skip"},{id:"s2",action:"open_app",target:"chrome",delayMs:1e3,onFailure:"skip"},{id:"s3",action:"open_app",target:"whatsapp",delayMs:2e3,onFailure:"skip"},{id:"s4",action:"open_app",target:"spotify",delayMs:3e3,onFailure:"skip"},{id:"s5",action:"volume_control",target:"set",payload:"40",delayMs:1e3,onFailure:"skip"}],trigger:"voice",enabled:!0,runCount:0},{id:"wf_work_mode",name:"Work Mode",description:"Opens dev tools, closes distractions, sets DnD",steps:[{id:"s1",action:"close_app",target:"spotify",delayMs:0,onFailure:"skip"},{id:"s2",action:"close_app",target:"whatsapp",delayMs:500,onFailure:"skip"},{id:"s3",action:"close_app",target:"discord",delayMs:500,onFailure:"skip"},{id:"s4",action:"open_app",target:"vscode",delayMs:1e3,onFailure:"skip"},{id:"s5",action:"open_app",target:"chrome",delayMs:2e3,onFailure:"skip"},{id:"s6",action:"brightness_control",target:"set",payload:"60",delayMs:500,onFailure:"skip"}],trigger:"voice",enabled:!0,runCount:0},{id:"wf_night_mode",name:"Night Mode",description:"Dims screen, lowers volume, closes work apps",steps:[{id:"s1",action:"brightness_control",target:"set",payload:"20",delayMs:0,onFailure:"skip"},{id:"s2",action:"volume_control",target:"set",payload:"20",delayMs:500,onFailure:"skip"},{id:"s3",action:"close_app",target:"vscode",delayMs:1e3,onFailure:"skip"},{id:"s4",action:"close_app",target:"teams",delayMs:500,onFailure:"skip"}],trigger:"voice",enabled:!0,runCount:0},{id:"wf_gaming_mode",name:"Gaming Mode",description:"Closes background apps, maximizes performance",steps:[{id:"s1",action:"close_app",target:"chrome",delayMs:0,onFailure:"skip"},{id:"s2",action:"close_app",target:"vscode",delayMs:500,onFailure:"skip"},{id:"s3",action:"close_app",target:"teams",delayMs:500,onFailure:"skip"},{id:"s4",action:"close_app",target:"slack",delayMs:500,onFailure:"skip"},{id:"s5",action:"open_app",target:"steam",delayMs:1e3,onFailure:"skip"},{id:"s6",action:"brightness_control",target:"set",payload:"80",delayMs:500,onFailure:"skip"},{id:"s7",action:"volume_control",target:"set",payload:"70",delayMs:500,onFailure:"skip"}],trigger:"voice",enabled:!0,runCount:0},{id:"wf_presentation_mode",name:"Presentation Mode",description:"Prepares system for presentations",steps:[{id:"s1",action:"close_app",target:"whatsapp",delayMs:0,onFailure:"skip"},{id:"s2",action:"close_app",target:"discord",delayMs:500,onFailure:"skip"},{id:"s3",action:"close_app",target:"telegram",delayMs:500,onFailure:"skip"},{id:"s4",action:"brightness_control",target:"set",payload:"90",delayMs:500,onFailure:"skip"},{id:"s5",action:"volume_control",target:"set",payload:"60",delayMs:500,onFailure:"skip"},{id:"s6",action:"keyboard_macro",target:"minimize_all",delayMs:1e3,onFailure:"skip"}],trigger:"voice",enabled:!0,runCount:0},{id:"wf_lock_down",name:"Lock Down",description:"Takes screenshot and locks the system immediately",steps:[{id:"s1",action:"screenshot",delayMs:0,onFailure:"skip"},{id:"s2",action:"power_control",target:"lock",delayMs:1e3,onFailure:"abort"}],trigger:"voice",enabled:!0,runCount:0},{id:"wf_cleanup",name:"System Cleanup",description:"Kills resource hogs and clears temp files",steps:[{id:"s1",action:"process",target:"resource_hogs",delayMs:0,onFailure:"skip"},{id:"s2",action:"shell_execute",target:"del /q /s %TEMP%\\*.tmp",delayMs:2e3,onFailure:"skip"}],trigger:"voice",enabled:!0,runCount:0}];for(const o of t)this.workflows.set(o.id,o)}async executeWorkflow(t){if(!this.executor)return this.log("Workflow engine not connected to bridge","error"),null;let o;if(o=this.workflows.get(t),!o){for(const[,y]of this.workflows)if(y.name.toLowerCase()===t.toLowerCase()||y.name.toLowerCase().replace(/\s+/g,"_")===t.toLowerCase()){o=y;break}}if(!o)return this.log(`Workflow not found: ${t}`,"error"),null;if(!o.enabled)return this.log(`Workflow disabled: ${o.name}`,"error"),null;this.log(`Executing workflow: ${o.name}`,"command");const a=new Date().toISOString(),r=[];for(const y of o.steps){if(y.condition&&!this.evaluateCondition(y.condition)){r.push({stepId:y.id,action:y.action,status:"skipped",result:"Condition not met",duration:0});continue}y.delayMs&&y.delayMs>0&&await new Promise(b=>setTimeout(b,y.delayMs));const h=Date.now();let v=0;const S=y.retries||1;let T=!1,R="";for(;v<S&&!T;){v++;try{const b=await this.executor({action:y.action,target:y.target||"",payload:y.payload||"",extra:y.extra||""});R=(b==null?void 0:b.message)||"OK",T=(b==null?void 0:b.status)!=="error"}catch(b){R=b.message||"Error"}}if(r.push({stepId:y.id,action:y.action,status:T?"success":"failed",result:R,duration:Date.now()-h}),this.log(`  Step ${y.id}: ${y.action} ${y.target||""}  ${T?"OK":"FAIL"}`,T?"success":"error"),!T&&y.onFailure==="abort"){this.log("Workflow aborted due to step failure","error");break}}o.lastRun=new Date().toISOString(),o.runCount++;const c=r.every(y=>y.status==="success"||y.status==="skipped"),p=r.every(y=>y.status==="failed"),g={workflowId:o.id,workflowName:o.name,startedAt:a,completedAt:new Date().toISOString(),steps:r,status:c?"completed":p?"failed":"partial"};return this.log(`Workflow complete: ${o.name} (${g.status})`,g.status==="completed"?"success":"error"),g}evaluateCondition(t){if(!t)return!0;const o=new Date;switch(t.type){case"always":return!0;case"time_after":if(t.value){const[a,r]=t.value.split(":").map(Number);return o.getHours()>a||o.getHours()===a&&o.getMinutes()>=r}return!0;case"time_before":if(t.value){const[a,r]=t.value.split(":").map(Number);return o.getHours()<a||o.getHours()===a&&o.getMinutes()<r}return!0;case"bridge_active":return!0;default:return!0}}addWorkflow(t){this.workflows.set(t.id,{...t,runCount:0})}getWorkflows(){return Array.from(this.workflows.values())}findWorkflow(t){const o=t.toLowerCase();for(const[,a]of this.workflows)if(a.name.toLowerCase().includes(o)||a.id.toLowerCase().includes(o))return a}getWorkflowNames(){return Array.from(this.workflows.values()).map(t=>t.name)}removeWorkflow(t){return this.workflows.delete(t)}startScheduler(){this.schedulerInterval||(this.schedulerInterval=setInterval(()=>{const t=Date.now();for(const[,o]of this.workflows)if(!(!o.enabled||o.trigger!=="schedule"||!o.schedule)&&o.schedule.nextRun&&t>=o.schedule.nextRun)if(this.executeWorkflow(o.id),o.schedule.type==="interval"&&o.schedule.intervalMs)o.schedule.nextRun=t+o.schedule.intervalMs;else if(o.schedule.type==="daily"&&o.schedule.time){const[a,r]=o.schedule.time.split(":").map(Number),c=new Date;c.setDate(c.getDate()+1),c.setHours(a,r,0,0),o.schedule.nextRun=c.getTime()}else o.enabled=!1},3e4))}stopScheduler(){this.schedulerInterval&&(clearInterval(this.schedulerInterval),this.schedulerInterval=null)}}const Eo={},Bh=window.SpeechRecognition||window.webkitSpeechRecognition,HR=(Eo==null?void 0:Eo.VITE_BRIDGE_HOST)||"localhost:8765",VR=(Eo==null?void 0:Eo.VITE_BRIDGE_TLS)==="true"?"wss":"ws",BR=(i,t)=>{let o;return(...a)=>{o&&window.clearTimeout(o),o=window.setTimeout(()=>i(...a),t)}},zR=()=>{const[i,t]=Te.useState(Fe.SLEEPING),[o,a]=Te.useState([]),[r,c]=Te.useState(!1),[p,g]=Te.useState({...wR,security:0,neural:0,activeNode:0,totalNodes:0}),[y,h]=Te.useState(0),[v,S]=Te.useState(0),[T,R]=Te.useState({lastPing:0,latency:0,reconnectCount:0}),b=Te.useRef(new UR("AIzaSyB9D8qQ-B6IawCelAMjPlocqvkTr4GJnc8,AIzaSyCXmLJvobF4t0x8Dgcngn7HSmW7Unn9ZAA,AIzaSyB7M84v94_sC_m4DUKXoPayX5xLVgJi5gc,AIzaSyB_cUl9MeWtGX0FrocGqK9q5P3Uo70IFOc,AIzaSyDAwqsV0HLShGh4f5lWLPNynOgbb3lVXDc")),P=Te.useRef(0),q=5,z=Te.useRef(null),B=Te.useRef(null),K=Te.useRef(new Set),W=Te.useRef(0),F=Te.useRef(null),ae=Te.useRef(null),Q=Te.useRef(null),re=Te.useRef(null),Z=Te.useRef(new nc),ge=Te.useRef(new GR),Ce=Te.useRef(new OR),Ie=Te.useRef(new qR),Oe=Te.useRef(new PR),qe=Te.useRef(null),rt=Te.useRef(Date.now()),M=Te.useCallback((w,U="SYSTEM",$="info")=>{a(oe=>[...oe,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),source:U,message:w,type:$}].slice(-200))},[]),X=Te.useCallback(w=>{var U;if(((U=B.current)==null?void 0:U.readyState)===WebSocket.OPEN){const $=Z.current.wrapCommand(w);return B.current.send(JSON.stringify($)),ge.current.log(w.action,w.target,"voice","pending"),!0}return!1},[]),ie=Te.useMemo(()=>BR(X,300),[X]);Te.useEffect(()=>{const w=b.current.getStats();return g(U=>({...U,activeNode:w.activeNode,totalNodes:w.totalNodes,neural:w.totalNodes>0?98.4:0})),w.totalNodes===0?(M(">>> CRITICAL: API_KEY not detected in environment.","SYSTEM","error"),M(">>> HELP: Create a .env.local file with GEMINI_API_KEY=your_key","SYSTEM","info")):M(`Neural Link: ${w.totalNodes} nodes synchronized. Active: Node-${w.activeNode}.`,"SYSTEM","success"),Ce.current.setBridgeSender(U=>{var $;return(($=B.current)==null?void 0:$.readyState)===WebSocket.OPEN?(B.current.send(U),!0):!1}),Ie.current.onAlert((U,$)=>{const oe=U.message.replace("{value}",$.toString());M(`ALERT: ${oe}`,"SYSTEM","alert")}),Oe.current.onLog((U,$)=>{M(U,"WORKFLOW",$)}),qe.current=setInterval(()=>{const U=Math.floor((Date.now()-rt.current)/1e3),$=String(Math.floor(U/3600)).padStart(2,"0"),oe=String(Math.floor(U%3600/60)).padStart(2,"0"),ue=String(U%60).padStart(2,"0");g(fe=>({...fe,uptime:`${$}:${oe}:${ue}`}))},1e3),()=>{qe.current&&clearInterval(qe.current),Oe.current.stopScheduler()}},[M]),Te.useEffect(()=>{let w,U=2e3,$;const oe=()=>{const ue=new WebSocket(`${VR}://${HR}`);ue.onopen=()=>{c(!0),U=2e3,M("Neural Bridge established. Full system control online.","BRIDGE","success"),$=setInterval(()=>{if(ue.readyState===WebSocket.OPEN){const de=Date.now();R(_e=>({..._e,lastPing:de})),ue.send("ping")}},3e4);const fe=Ce.current.getStatus();fe.pending>0&&(M(`Flushing ${fe.pending} queued commands...`,"BRIDGE","info"),Ce.current.flush().then(de=>{M(`Queue flushed: ${de.sent} sent, ${de.failed} failed.`,"BRIDGE",de.failed>0?"warning":"success"),S(Ce.current.pendingCount)})),X({action:"system_status"}),Oe.current.setExecutor(async de=>new Promise(_e=>{var Pe;const Ee=Z.current.wrapCommand(de);((Pe=B.current)==null?void 0:Pe.readyState)===WebSocket.OPEN?(B.current.send(JSON.stringify(Ee)),setTimeout(()=>_e({status:"success",message:`${de.action} executed`}),500)):_e({status:"error",message:"Bridge offline"})})),Oe.current.startScheduler()},ue.onmessage=fe=>{if(fe.data==="pong"){R(de=>({...de,latency:Date.now()-de.lastPing}));return}try{const de=JSON.parse(fe.data);if(de.type==="system_monitor"||de.cpu||de.memory||de.disk){const Ee=de;g(Pe=>{var Ot,ye,Ye,He,Ve,ht,Qe,nt,ut,G,ee,te,se;return{...Pe,cpu:((Ot=Ee.cpu)==null?void 0:Ot.percent)??Pe.cpu,memory:((ye=Ee.memory)==null?void 0:ye.percent)??Pe.memory,disk:((Ye=Ee.disk)==null?void 0:Ye.percent)??Pe.disk,battery:((He=Ee.battery)==null?void 0:He.percent)??Pe.battery,batteryCharging:((Ve=Ee.battery)==null?void 0:Ve.charging)??Pe.batteryCharging,hostname:Ee.hostname||Pe.hostname,os:Ee.os||Pe.os,cpuCores:((ht=Ee.cpu)==null?void 0:ht.cores)??Pe.cpuCores,cpuFreq:((Qe=Ee.cpu)==null?void 0:Qe.freq_current)??Pe.cpuFreq,memoryTotal:((nt=Ee.memory)==null?void 0:nt.total_gb)??Pe.memoryTotal,memoryUsed:((ut=Ee.memory)==null?void 0:ut.used_gb)??Pe.memoryUsed,diskTotal:((G=Ee.disk)==null?void 0:G.total_gb)??Pe.diskTotal,diskFree:((ee=Ee.disk)==null?void 0:ee.free_gb)??Pe.diskFree,networkSent:((te=Ee.network)==null?void 0:te.sent_mb)??Pe.networkSent,networkRecv:((se=Ee.network)==null?void 0:se.recv_mb)??Pe.networkRecv,network:"LOCAL // ENCRYPTED"}}),Ie.current.processSnapshot(de);return}const _e=de.status==="success"?"success":de.status==="error"?"error":"info";M(`BRIDGE: ${de.message||"Command acknowledged."}`,"BRIDGE",_e)}catch{M(`BRIDGE: ${fe.data}`,"BRIDGE","info")}},ue.onclose=()=>{c(!1),M("Neural Bridge disconnected. Reconnecting...","BRIDGE","error"),R(fe=>({...fe,reconnectCount:fe.reconnectCount+1})),$&&clearInterval($),U=Math.min(U*1.5,15e3),w=setTimeout(oe,U)},ue.onerror=()=>ue.close(),B.current=ue};return oe(),()=>{var ue;(ue=B.current)==null||ue.close(),clearTimeout(w),$&&clearInterval($)}},[M,X]);const xe=Te.useCallback(async w=>{var $,oe,ue,fe,de,_e,Ee,Pe,Ot,ye,Ye,He,Ve,ht,Qe,nt,ut;t(Fe.EXECUTING),M(`Neural Directive: ${w.name.toUpperCase()}`,"SYSTEM","command");let U="Done, Sir.";if(w.name==="system_execution_directive"){const G={action:w.args.action,target:w.args.target||"",payload:w.args.payload||"",extra:w.args.extra||""},ee=ja.validate(G);if(!ee.valid)U=`Sir, I've blocked that command: ${ee.message}`,M(`BLOCKED: ${ee.message}`,"SYSTEM","error");else if((($=B.current)==null?void 0:$.readyState)===WebSocket.OPEN){const te=Z.current.wrapCommand(G);B.current.send(JSON.stringify(te)),M(`Transmitting: ${G.action}  ${G.target||"System"}`,"SYSTEM","success"),ge.current.log(G.action,G.target,"voice","success"),U=`I've executed the ${G.action} protocol for ${G.target||"the core system"}, Sir. It should be active now.`}else Ce.current.enqueue(G,ja.requiresConfirmation(G.action)?"high":"normal"),S(Ce.current.pendingCount),M(`Bridge offline. Command queued: ${G.action}`,"SYSTEM","warning"),U="Sir, the neural bridge is offline. I've queued the command for reconnection. Please ensure the Python driver is running."}else if(w.name==="alarm_timer_reminder"){const{action:G,time:ee,label:te,alarm_id:se}=w.args;if(((oe=B.current)==null?void 0:oe.readyState)===WebSocket.OPEN){const Me={action:G,target:ee||se||"",payload:te||""};B.current.send(JSON.stringify(Z.current.wrapCommand(Me))),M(`Time Protocol: ${G} - ${ee||se||"listing"}`,"SYSTEM","success"),U=`${G.replace("_"," ")} command transmitted, Sir.`}else U="Sir, I need the neural bridge for time-based operations."}else if(w.name==="text_to_speech"){const{text:G,action:ee,voice_id:te}=w.args;if(((ue=B.current)==null?void 0:ue.readyState)===WebSocket.OPEN){const se={action:ee||"speak",target:G,payload:(te==null?void 0:te.toString())||""};B.current.send(JSON.stringify(Z.current.wrapCommand(se))),M(`Voice Output: "${G==null?void 0:G.substring(0,40)}..."`,"SYSTEM","info"),U="Speaking aloud, Sir."}else U="Sir, the neural bridge is needed for voice output."}else if(w.name==="media_control"){const{action:G,query:ee}=w.args;if(((fe=B.current)==null?void 0:fe.readyState)===WebSocket.OPEN){let te;G==="play_youtube"?te={action:"play_youtube",target:ee||"",payload:""}:G==="play_spotify"?te={action:"play_spotify",target:ee||"",payload:""}:G==="open_url"?te={action:"open_url",target:ee||"",payload:""}:te={action:"media",target:G,payload:""},B.current.send(JSON.stringify(Z.current.wrapCommand(te))),M(`Media: ${G} ${ee?" "+ee:""}`,"SYSTEM","success"),U="Media command executed, Sir."}else U="Sir, the neural bridge is required for media control."}else if(w.name==="calendar_events"){const{action:G,days:ee,subject:te,start_time:se,duration:Me,location:je}=w.args;if(((de=B.current)==null?void 0:de.readyState)===WebSocket.OPEN){if(G==="get_calendar"||G==="list_events"){const Ze={action:"get_calendar",target:(ee==null?void 0:ee.toString())||"7"};B.current.send(JSON.stringify(Z.current.wrapCommand(Ze))),U="Retrieving your calendar events, Sir."}else if(G==="create_event"){const Ze={action:"create_event",target:te||"",payload:se||"",extra:(Me==null?void 0:Me.toString())||"60"};B.current.send(JSON.stringify(Z.current.wrapCommand(Ze))),U=`Creating calendar event: ${te}, Sir.`}M(`Calendar: ${G}`,"SYSTEM","info")}else U="Sir, calendar access requires the neural bridge."}else if(w.name==="send_email"){const{to:G,subject:ee,body:te}=w.args;if(((_e=B.current)==null?void 0:_e.readyState)===WebSocket.OPEN){const se={action:"send_email",target:G,payload:ee,extra:te};B.current.send(JSON.stringify(Z.current.wrapCommand(se))),M(`Email: To ${G}, Subject: ${ee}`,"SYSTEM","info"),U=`Sending email to ${G}, Sir.`}else U="Sir, email requires an active neural bridge connection."}else if(w.name==="quick_notes"){const{action:G,content:ee,tags:te,note_id:se,tag_filter:Me}=w.args;if(((Ee=B.current)==null?void 0:Ee.readyState)===WebSocket.OPEN){const je={action:G,target:ee||se||Me||"",payload:te||""};B.current.send(JSON.stringify(Z.current.wrapCommand(je))),M(`Notes: ${G}`,"SYSTEM","success"),U="Note operation complete, Sir."}else U="Sir, notes require the neural bridge."}else if(w.name==="window_management"){const{action:G,window_title:ee,x:te,y:se,width:Me,height:je,position:Ze}=w.args;if(((Pe=B.current)==null?void 0:Pe.readyState)===WebSocket.OPEN){let gt;G==="list_windows"?gt={action:"list_windows"}:G==="move_window"?gt={action:"move_window",target:ee||"",payload:`${te},${se}`}:G==="resize_window"?gt={action:"resize_window",target:ee||"",payload:`${Me},${je}`}:G==="snap_window"?gt={action:"snap_window",target:ee||"",payload:Ze||""}:gt={action:G,target:ee||""},B.current.send(JSON.stringify(Z.current.wrapCommand(gt))),M(`Window: ${G} ${ee||""}`,"SYSTEM","success"),U="Window management complete, Sir."}else U="Sir, window management requires the neural bridge."}else if(w.name==="global_intel_search"){const G=w.args.query||"";if(M(`Intel Scan: "${G}"`,"SYSTEM","info"),((Ot=B.current)==null?void 0:Ot.readyState)===WebSocket.OPEN){const ee={action:"google_first",target:G};B.current.send(JSON.stringify(Z.current.wrapCommand(ee))),U=`I've initiated a web search for "${G}", Sir. The results should be opening in Chrome.`}else U="Sir, web search requires the neural bridge. The bridge is currently offline."}else if(w.name==="execute_workflow"){const G=w.args.workflow_name;M(`Workflow Initiated: ${G}`,"WORKFLOW","command"),t(Fe.WORKFLOW);const ee=await Oe.current.executeWorkflow(G);if(ee){const te=ee.steps.filter(se=>se.status==="success").length;U=`${G} workflow complete, Sir. ${te} of ${ee.steps.length} steps executed successfully.`}else U=`Sir, I couldn't find the workflow "${G}". Available: ${Oe.current.getWorkflowNames().join(", ")}.`}else if(w.name==="system_diagnostics")((ye=B.current)==null?void 0:ye.readyState)===WebSocket.OPEN?(X({action:"system_status"}),w.args.report_type==="network"&&X({action:"network_info"}),w.args.report_type==="processes"&&X({action:"process",target:"resource_hogs"}),U=Ie.current.getStatusReport()||"System diagnostics requested, Sir. Data is being collected."):U="Sir, I need the neural bridge active for system diagnostics. Please start the Python driver.";else if(w.name==="extended_system_control"){const{action:G,target:ee,payload:te,extra:se}=w.args;if(((Ye=B.current)==null?void 0:Ye.readyState)===WebSocket.OPEN){const Me={action:G,target:ee||"",payload:te||"",extra:se||""};B.current.send(JSON.stringify(Z.current.wrapCommand(Me))),M(`Extended: ${G} ${ee?" "+ee:""}`,"SYSTEM","success"),U=`${G.replace(/_/g," ")} command executed, Sir.`}else U="Sir, extended control requires the neural bridge."}else if(w.name==="git_operations"){const{action:G,path:ee,message:te,url:se,destination:Me}=w.args;if(((He=B.current)==null?void 0:He.readyState)===WebSocket.OPEN){let je;G==="git_clone"?je={action:"git_clone",target:se||"",payload:Me||""}:G==="git_commit"?je={action:"git_commit",target:ee||".",payload:te||"Auto-commit by Jerry"}:je={action:G,target:ee||"."},B.current.send(JSON.stringify(Z.current.wrapCommand(je))),M(`Git: ${G}`,"SYSTEM","success"),U=`Git ${G.replace("git_","")} executed, Sir.`}else U="Sir, git operations require the neural bridge."}else if(w.name==="code_execution"){const{language:G,code:ee}=w.args;if(((Ve=B.current)==null?void 0:Ve.readyState)===WebSocket.OPEN){const te={action:G==="python"?"run_python":"run_powershell",target:ee,payload:""};B.current.send(JSON.stringify(Z.current.wrapCommand(te))),M(`Code Exec: ${G} (${ee.substring(0,30)}...)`,"SYSTEM","info"),U=`Running ${G} code, Sir. Output will be returned.`}else U="Sir, code execution requires the neural bridge."}else if(w.name==="calculator_converter"){const{action:G,expression:ee,value:te,from_unit:se,to_unit:Me}=w.args;if(((ht=B.current)==null?void 0:ht.readyState)===WebSocket.OPEN){let je;G==="calculate"?je={action:"calculate",target:ee||""}:G==="convert_units"?je={action:"convert_units",target:(te==null?void 0:te.toString())||"0",payload:se||"",extra:Me||""}:G==="convert_currency"?je={action:"convert_currency",target:(te==null?void 0:te.toString())||"0",payload:se||"",extra:Me||""}:je={action:G,target:ee||""},B.current.send(JSON.stringify(Z.current.wrapCommand(je))),M(`Calc: ${G}`,"SYSTEM","info"),U="Calculation complete, Sir."}else U="Sir, calculations require the neural bridge."}else if(w.name==="translator"){const{text:G,to_language:ee,from_language:te}=w.args;if(((Qe=B.current)==null?void 0:Qe.readyState)===WebSocket.OPEN){const se={action:"translate",target:G||"",payload:ee||"en",extra:te||"auto"};B.current.send(JSON.stringify(Z.current.wrapCommand(se))),M(`Translate: ${te||"auto"} -> ${ee}`,"SYSTEM","info"),U="Opening translation, Sir."}else U="Sir, translation requires the neural bridge."}else if(w.name==="browser_automation"){const{action:G,url:ee,text:te,submit:se,direction:Me,amount:je,x:Ze,y:gt,wait_seconds:wo,query:gn,keys:ss,click_type:rs}=w.args;if(((nt=B.current)==null?void 0:nt.readyState)===WebSocket.OPEN){let Je;G==="navigate"?Je={action:"browser_navigate",target:ee||""}:G==="type"?Je={action:"browser_type",target:te||"",extra:se?"true":"false"}:G==="scroll"?Je={action:"browser_scroll",target:Me||"down",payload:(je==null?void 0:je.toString())||"5"}:G==="screenshot"?Je={action:"browser_screenshot",target:""}:G==="get_text"?Je={action:"browser_get_text",target:""}:G==="close"||G==="close_tab"?Je={action:"close_tab",target:""}:G==="youtube_play"?Je={action:"youtube_play",target:gn||te||""}:G==="spotify_play"?Je={action:"spotify_play",target:gn||te||""}:G==="google_first"?Je={action:"google_first",target:gn||te||""}:G==="click_position"?Je={action:"click_position",target:(Ze==null?void 0:Ze.toString())||"0",payload:(gt==null?void 0:gt.toString())||"0",extra:rs||"single"}:G==="wait_click"?Je={action:"wait_click",target:(wo==null?void 0:wo.toString())||"1",payload:(Ze==null?void 0:Ze.toString())||"0",extra:(gt==null?void 0:gt.toString())||"0"}:G==="browser_keys"?Je={action:"browser_keys",target:ss||""}:G==="new_tab"?Je={action:"new_tab",target:ee||""}:G==="switch_tab"?Je={action:"switch_tab",target:Me||"next"}:G==="back"?Je={action:"browser_back",target:""}:G==="forward"?Je={action:"browser_forward",target:""}:G==="refresh"?Je={action:"browser_refresh",target:""}:G==="zoom"?Je={action:"browser_zoom",target:Me||"in"}:G==="fullscreen"?Je={action:"browser_fullscreen",target:""}:G==="find"?Je={action:"browser_find",target:te||gn||""}:Je={action:G,target:gn||te||ee||""},B.current.send(JSON.stringify(Z.current.wrapCommand(Je))),M(`Browser: ${G} ${gn||te||ee||""}`,"SYSTEM","success"),U=`Browser ${G.replace(/_/g," ")} executed, Sir.`}else U="Sir, browser control requires the neural bridge."}else if(w.name==="screen_reader"){const{action:G,text:ee,paragraph_number:te,copy_what:se,identifier:Me,click_type:je}=w.args;if(((ut=B.current)==null?void 0:ut.readyState)===WebSocket.OPEN){let Ze={action:"ocr_screen"};G==="read_screen"?Ze={action:"ocr_screen"}:G==="read_window"?Ze={action:"ocr_window"}:G==="find_text"?Ze={action:"find_text",target:ee||""}:G==="click_text"?Ze={action:"click_screen_text",target:ee||"",payload:je||"single"}:G==="click_button"?Ze={action:"click_button",target:ee||"",payload:je||"single"}:G==="get_paragraph"?Ze={action:"get_paragraph",target:(te==null?void 0:te.toString())||"1"}:G==="copy_text"?Ze={action:"copy_screen_text",target:se||"all",payload:ee||"",extra:(te==null?void 0:te.toString())||"1"}:G==="find_element"?Ze={action:"find_element",target:Me||""}:G==="list_elements"&&(Ze={action:"list_screen_elements"}),B.current.send(JSON.stringify(Z.current.wrapCommand(Ze))),M(`Screen Reader: ${G} ${ee||Me||""}`,"SYSTEM","success"),U=`Screen reader ${G==null?void 0:G.replace(/_/g," ")} executed, Sir.`}else U="Sir, screen reader requires the neural bridge."}z.current&&z.current.sendToolResponse({functionResponses:{id:w.id,name:w.name,response:{result:U}}})},[M,X]),Le=Te.useCallback(async()=>{if(z.current)return;const w=b.current.getStats().totalNodes;let U=0;const $=async()=>{const{key:oe,waitMs:ue}=b.current.getAvailableKeyOrWaitTime();if(!oe)return M("Authorization Failed: Missing Neural Key.","SYSTEM","error"),!1;if(ue>0){const de=Math.ceil(ue/1e3);M(`All nodes in cooldown. Waiting ${de}s for recovery...`,"SYSTEM","warning"),await new Promise(_e=>setTimeout(_e,ue))}const fe=b.current.getStats();if(M(`Neural Node-${fe.activeNode} initializing... (${fe.healthyNodes}/${fe.totalNodes} healthy)`,"SYSTEM","info"),Q.current)try{Q.current.stop()}catch{}try{if(F.current)try{F.current.close()}catch{}if(ae.current)try{ae.current.close()}catch{}re.current&&(re.current.getTracks().forEach(ye=>ye.stop()),re.current=null);const de=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),_e=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});F.current=de,ae.current=_e;const Ee=await navigator.mediaDevices.getUserMedia({audio:!0});re.current=Ee;const Pe=new RR({apiKey:oe});console.log("Attempting Gemini Live connection with key:",oe.substring(0,10)+"...");const Ot=Pe.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",callbacks:{onopen:()=>{console.log("Gemini Live session OPENED successfully"),b.current.markSuccess(),P.current=0,M(`Node-${fe.activeNode} synchronized. Awaiting your command, Sir.`,"JERRY","success"),t(Fe.LISTENING);const ye=_e.createMediaStreamSource(Ee),Ye=_e.createScriptProcessor(4096,1,1),He=.015;let Ve=0;const ht=10;Ye.onaudioprocess=Qe=>{if(!z.current)return;const nt=Qe.inputBuffer.getChannelData(0);let ut=0;for(let se=0;se<nt.length;se++)ut+=nt[se]*nt[se];const G=Math.sqrt(ut/nt.length);if(h(G),G>He)Ve=0;else if(Ve++,Ve>ht)return;const te=new Int16Array(nt.length);for(let se=0;se<nt.length;se++)te[se]=nt[se]*32768;try{z.current.sendRealtimeInput({media:{data:MR(new Uint8Array(te.buffer)),mimeType:"audio/pcm;rate=16000"}})}catch{}},ye.connect(Ye),Ye.connect(_e.destination)},onmessage:async ye=>{var Ye,He,Ve,ht;if(console.log("Gemini message:",ye),ye.toolCall&&ye.toolCall.functionCalls.forEach(xe),(Ye=ye.serverContent)!=null&&Ye.modelTurn){const Qe=ye.serverContent.modelTurn.parts[0];if((He=Qe==null?void 0:Qe.inlineData)!=null&&He.data){t(Fe.SPEAKING);const nt=Qe.inlineData.data;W.current=Math.max(W.current,de.currentTime);const ut=await DR(IR(nt),de,24e3,1),G=de.createBufferSource();G.buffer=ut,G.connect(de.destination),G.start(W.current),W.current+=ut.duration,K.current.add(G),G.onended=()=>{K.current.delete(G),K.current.size===0&&t(Fe.LISTENING)}}}(Ve=ye.serverContent)!=null&&Ve.outputTranscription&&M(ye.serverContent.outputTranscription.text,"JERRY"),(ht=ye.serverContent)!=null&&ht.inputTranscription&&(M(ye.serverContent.inputTranscription.text,"USER"),t(Fe.THINKING))},onerror:ye=>{console.error("Gemini error:",ye);const Ye=ye.message||ye.toString()||"Unknown protocol error",He=Ye.toLowerCase();if((He.includes("quota")&&He.includes("exceeded")||He.includes("resource_exhausted")||He.includes("rate limit")||He.includes("rate-limit")||He.includes("ratelimit")||He.includes("429")||He.includes("too many")&&He.includes("request"))&&U<w-1){const ht=b.current.getStats();M(`Node-${fe.activeNode} quota exceeded (${ht.healthyNodes} nodes healthy). Rotating...`,"SYSTEM","error"),b.current.rotate(),U++,z.current=null;const Qe=b.current.getStats();g(G=>({...G,activeNode:Qe.activeNode}));const{waitMs:nt}=b.current.getAvailableKeyOrWaitTime(),ut=nt>0?nt:1500;setTimeout(()=>$(),ut)}else M(`Neural Drift Detected: ${Ye}`,"SYSTEM","error"),U>=w-1&&M(`All ${w} API keys exhausted. Please add new keys or wait for quota reset.`,"SYSTEM","error"),t(Fe.SLEEPING),z.current=null},onclose:ye=>{console.log("Gemini Live session CLOSED:",ye);const Ye=(ye==null?void 0:ye.code)||0,He=(ye==null?void 0:ye.reason)||(ye==null?void 0:ye.code)||"No reason provided",Ve=typeof He=="string"?He:String(He);console.log("Close code:",Ye,"reason:",Ve);const ht=Ye===1e3||Ve==="1000",Qe=Ve.toLowerCase(),nt=Qe.includes("quota")&&Qe.includes("exceeded")||Qe.includes("resource_exhausted")||Qe.includes("rate limit")||Qe.includes("rate-limit")||Qe.includes("ratelimit")||Qe.includes("429")||Qe.includes("too many")&&Qe.includes("request");if(!ht&&nt&&U<w-1){const G=b.current.getStats();M(`Node-${fe.activeNode} quota exceeded (${G.healthyNodes} healthy). Rotating...`,"SYSTEM","warning"),b.current.rotate(),U++,z.current=null;const ee=b.current.getStats();g(Me=>({...Me,activeNode:ee.activeNode})),re.current&&(re.current.getTracks().forEach(Me=>Me.stop()),re.current=null);const{waitMs:te}=b.current.getAvailableKeyOrWaitTime(),se=te>0?te:2e3;setTimeout(()=>$(),se);return}const ut=Ve.toLowerCase().includes("operation is not")||Ve.toLowerCase().includes("not implemented")||Ve.toLowerCase().includes("not supported")||Ve.toLowerCase().includes("not enabled")||Ve.toLowerCase().includes("internal")||Ve.toLowerCase().includes("temporary")||Ve.toLowerCase().includes("unavailable");if(ht||ut){const G=ht&&!ut;if(P.current>=q){if(M("Max auto-reconnect attempts reached. Say 'Jerry' to re-sync.","SYSTEM","warning"),P.current=0,t(Fe.SLEEPING),z.current=null,re.current&&(re.current.getTracks().forEach(Me=>Me.stop()),re.current=null),Q.current)try{Q.current.start()}catch{}return}P.current++;const ee=P.current,te=G?1500:Math.min(1500*Math.pow(2,ee-1),3e4),se=(te/1e3).toFixed(1);M(`${G?"Session idle timeout":"Transient error detected"}. Auto-reconnecting in ${se}s (attempt ${ee}/${q})...`,"SYSTEM","info"),z.current=null,t(Fe.SLEEPING),re.current&&(re.current.getTracks().forEach(Me=>Me.stop()),re.current=null),setTimeout(()=>{U=0,$()},te);return}if(P.current=0,M(`Session closed: ${Ve}. Say 'Jerry' to re-sync.`,"SYSTEM","warning"),t(Fe.SLEEPING),z.current=null,re.current&&(re.current.getTracks().forEach(G=>G.stop()),re.current=null),Q.current)try{Q.current.start()}catch{}}},config:{responseModalities:[Cl.AUDIO],systemInstruction:LR,tools:[{functionDeclarations:kR}],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Charon"}}}}});return z.current=await Ot,!0}catch(de){const _e=de.message||"Unknown error",Ee=_e.toLowerCase();if((Ee.includes("quota")&&Ee.includes("exceeded")||Ee.includes("resource_exhausted")||Ee.includes("rate limit")||Ee.includes("rate-limit")||Ee.includes("ratelimit")||Ee.includes("429")||Ee.includes("too many")&&Ee.includes("request"))&&U<w-1){const Ot=b.current.getStats();M(`Node-${fe.activeNode} quota exceeded (${Ot.healthyNodes} healthy). Rotating...`,"SYSTEM","error"),b.current.rotate(),U++;const{waitMs:ye}=b.current.getAvailableKeyOrWaitTime(),Ye=ye>0?ye:1e3;return await new Promise(He=>setTimeout(He,Ye)),$()}else return M(`Handshake Failed: ${_e}`,"SYSTEM","error"),U>=w-1&&M(`All ${w} nodes exhausted. Cooldowns will reset in 60s.`,"SYSTEM","warning"),t(Fe.SLEEPING),!1}};await $()},[M,xe]);Te.useEffect(()=>{if(!Bh)return;const w=new Bh;return w.continuous=!0,w.lang="en-US",w.onresult=U=>{U.results[U.results.length-1][0].transcript.toLowerCase().includes("jerry")&&(M("Voice Signature Verified. Initializing Jerry...","SYSTEM","success"),Le())},w.onend=()=>{if(i===Fe.SLEEPING)try{w.start()}catch{}},Q.current=w,w.start(),()=>{try{w.stop()}catch{}}},[i,Le,M]),Te.useEffect(()=>()=>{if(F.current){try{F.current.close()}catch{}F.current=null}if(ae.current){try{ae.current.close()}catch{}ae.current=null}re.current&&(re.current.getTracks().forEach(w=>w.stop()),re.current=null),K.current.forEach(w=>{try{w.stop()}catch{}}),K.current.clear()},[]),Te.useEffect(()=>{if(!r)return;const w=setInterval(()=>{var U;((U=B.current)==null?void 0:U.readyState)===WebSocket.OPEN&&ie({action:"system_status"})},1e4);return()=>clearInterval(w)},[r,ie]);const x=Te.useCallback((w,U)=>{var oe;if(((oe=B.current)==null?void 0:oe.readyState)!==WebSocket.OPEN){M("Predictive tools require the neural bridge.","SYSTEM","warning");return}X({action:w,target:U||""}),M(`Predictive: ${w}${U?" -> "+U:""}`,"SYSTEM","info")},[M,X]);return C.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-stretch lg:items-center justify-center p-3 sm:p-4 lg:p-6 text-slate-200 overflow-x-hidden overflow-y-auto lg:overflow-hidden select-none font-inter",children:[C.jsx("div",{className:"fixed top-0 left-0 w-96 h-96 bg-cyan-500/10 rounded-full blur-[150px] pointer-events-none"}),C.jsx("div",{className:"fixed bottom-0 right-0 w-96 h-96 bg-purple-500/10 rounded-full blur-[150px] pointer-events-none"}),C.jsxs("div",{className:"relative z-10 w-full max-w-[1800px] min-h-0 md:min-h-[88vh] lg:h-[96vh] flex flex-col md:flex-row gap-3 sm:gap-4",children:[C.jsxs("div",{className:"w-full md:w-72 lg:w-80 flex flex-col gap-3 sm:gap-4",children:[C.jsxs("div",{className:"glass-card-dark p-4 sm:p-6 rounded-2xl border-l-4 border-cyan-500 shadow-2xl relative overflow-hidden holo-card",children:[C.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-cyan-500/10 rounded-bl-full"}),C.jsxs("div",{className:"relative z-10",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500 shadow-[0_0_15px_#06b6d4] animate-pulse"}),C.jsx("span",{className:"font-hack text-[9px] tracking-[0.3em] text-cyan-500/60 uppercase",children:"System Online"})]}),C.jsx("h1",{className:"font-orbitron text-4xl sm:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-tight uppercase leading-none glitch-text",children:"JERRY"}),C.jsx("p",{className:"text-[9px] text-slate-600 font-hack mt-2 tracking-[0.3em] sm:tracking-[0.5em] uppercase",children:"Neural Command v7.0"})]})]}),C.jsx("div",{className:"flex-1 overflow-visible md:overflow-hidden",children:C.jsx(bR,{stats:{...p,security:r?100:20},queuedCount:v})}),C.jsxs("div",{className:"glass-card-dark p-5 rounded-2xl relative overflow-hidden",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:"text-cyan-500 text-sm",children:""}),C.jsx("span",{className:"font-hack text-[10px] tracking-[0.3em] text-slate-500 uppercase",children:"Bridge"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-mono text-[8px] text-slate-600",children:r?"LINKED":"OFFLINE"}),C.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-500 ${r?"bg-emerald-500 shadow-[0_0_20px_#10b981]":"bg-red-500 shadow-[0_0_20px_#ef4444] animate-pulse"}`})]})]}),v>0&&C.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-amber-500/10 border border-amber-500/30 flex items-center gap-2",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),C.jsxs("span",{className:"font-mono text-[10px] text-amber-400",children:[v," commands pending"]})]}),C.jsxs("div",{className:"mb-4 flex items-center justify-between text-[9px] font-mono text-slate-600",children:[C.jsxs("span",{children:["LATENCY: ",T.latency,"ms"]}),C.jsxs("span",{children:["RECONNECTS: ",T.reconnectCount]})]}),C.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-2",children:[C.jsx("button",{onClick:()=>x("predict_next"),className:"px-3 py-2 text-[9px] font-mono uppercase tracking-wider rounded-lg border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10",children:"Predict Next"}),C.jsx("button",{onClick:()=>x("detect_routines"),className:"px-3 py-2 text-[9px] font-mono uppercase tracking-wider rounded-lg border border-purple-500/30 text-purple-400 hover:bg-purple-500/10",children:"Routines"}),C.jsx("button",{onClick:()=>x("suggest_automation"),className:"px-3 py-2 text-[9px] font-mono uppercase tracking-wider rounded-lg border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10",children:"Suggest"}),C.jsx("button",{onClick:()=>{const w=window.prompt("Describe the goal for the agent:");w&&x("agent_execute",w)},className:"px-3 py-2 text-[9px] font-mono uppercase tracking-wider rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10",children:"Agent Goal"})]}),C.jsxs("button",{onClick:()=>{var w;return i===Fe.SLEEPING?Le():(w=z.current)==null?void 0:w.close()},className:`w-full py-4 sm:py-6 font-orbitron text-[10px] sm:text-[12px] font-black tracking-[0.2em] sm:tracking-[0.6em] rounded-xl transition-all duration-300 border-2 relative overflow-hidden group ${i===Fe.SLEEPING?"border-cyan-500/40 text-cyan-400 hover:bg-cyan-500/10 hover:border-cyan-400 hover:shadow-[0_0_30px_rgba(6,182,212,0.3)]":"border-red-500/40 text-red-400 hover:bg-red-500/10 hover:border-red-400 hover:shadow-[0_0_30px_rgba(239,68,68,0.3)]"}`,children:[C.jsx("span",{className:"relative z-10",children:i===Fe.SLEEPING?"[ SYNC ]":"[ HALT ]"}),C.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity ${i===Fe.SLEEPING?"bg-gradient-to-r from-cyan-500/5 via-cyan-500/10 to-cyan-500/5":"bg-gradient-to-r from-red-500/5 via-red-500/10 to-red-500/5"}`})]}),C.jsx("p",{className:"mt-4 text-[8px] text-center text-slate-700 font-mono uppercase tracking-[0.3em]",children:r?" Bridge Active":" Run: py jerry_bridge.py"})]})]}),C.jsxs("div",{className:"flex-1 min-h-[40vh] sm:min-h-[45vh] md:min-h-0 glass-card-dark rounded-3xl flex flex-col items-center justify-center relative overflow-hidden border border-white/5 shadow-[inset_0_0_200px_rgba(0,0,0,0.95)]",children:[C.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2",children:[C.jsx("div",{className:"w-8 h-px bg-gradient-to-r from-cyan-500/50 to-transparent"}),C.jsx("span",{className:"font-mono text-[8px] text-cyan-500/40",children:"CORE::ACTIVE"})]}),C.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[C.jsx("span",{className:"font-mono text-[8px] text-cyan-500/40",children:"v7.0"}),C.jsx("div",{className:"w-8 h-px bg-gradient-to-l from-cyan-500/50 to-transparent"})]}),C.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2",children:[C.jsx("div",{className:"w-4 h-4 border border-cyan-500/30 rounded-sm"}),C.jsx("span",{className:"font-mono text-[7px] text-slate-600",children:"NEURAL_INTERFACE"})]}),C.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[C.jsx("span",{className:"font-mono text-[7px] text-slate-600",children:"LATENCY: <50ms"}),C.jsx("div",{className:"w-4 h-4 border border-cyan-500/30 rounded-sm"})]}),C.jsx(NR,{status:i,audioLevel:y}),p.totalNodes===0&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-md z-50",children:C.jsxs("div",{className:"glass-card-dark p-8 rounded-2xl border border-red-500/30 text-center max-w-sm",children:[C.jsx("div",{className:"w-14 h-14 rounded-full bg-red-500/10 border-2 border-red-500/50 flex items-center justify-center mx-auto mb-4",children:C.jsx("span",{className:"font-bold text-red-500 text-2xl",children:"!"})}),C.jsx("h2",{className:"font-orbitron text-lg font-bold text-red-400 mb-3 tracking-wider",children:"CONFIG ERROR"}),C.jsx("p",{className:"text-slate-500 text-xs mb-4 font-mono",children:"Missing API configuration. Please verify your environment file."}),C.jsx("div",{className:"bg-black/60 p-3 rounded-lg font-mono text-[10px] text-emerald-400 border border-emerald-500/20",children:"GEMINI_API_KEY=your_key"})]})})]}),C.jsx("div",{className:"w-full md:w-[420px] min-h-[35vh] sm:min-h-[40vh] md:min-h-0 flex flex-col",children:C.jsx(xR,{logs:o})})]}),C.jsx("div",{className:"fixed bottom-0 left-0 w-full h-1.5 bg-black/80 overflow-hidden z-50",children:C.jsx("div",{className:`h-full transition-all duration-75 relative ${i===Fe.THINKING?"bg-gradient-to-r from-purple-600 to-purple-400":i===Fe.EXECUTING?"bg-gradient-to-r from-orange-600 to-orange-400":i===Fe.WORKFLOW?"bg-gradient-to-r from-amber-600 to-amber-400":i===Fe.SPEAKING?"bg-gradient-to-r from-emerald-600 to-emerald-400":"bg-gradient-to-r from-cyan-600 to-cyan-400"}`,style:{width:`${Math.max(2,Math.min(100,y*2500))}%`,boxShadow:i!==Fe.SLEEPING?"0 0 20px currentColor":"none"},children:C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-[holoShine_1s_linear_infinite]"})})})]})},Gg=document.getElementById("root");if(!Gg)throw new Error("Could not find root element to mount to");const FR=cv.createRoot(Gg);FR.render(C.jsx(nv.StrictMode,{children:C.jsx(zR,{})}));
